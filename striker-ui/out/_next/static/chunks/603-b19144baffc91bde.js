"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{12698:(e,t,l)=>{l.d(t,{Ay:()=>o,WT:()=>r});let n=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[,n,r,o]=t;void 0!==o&&(n[r]=o)},r=function(e,t){let{set:l=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let r={};return Object.keys(n).forEach(o=>{e.test(o)?l(n,r,o,t):r[o]=n[o]}),r}},o=function(e,t){let{guard:l=()=>!0,set:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let{[e]:o,...u}=n,a={...u};return l(n,e,t)&&r(n,a,e,t),a}}},19603:(e,t,l)=>{l.d(t,{A:()=>g});var n=l(37876),r=l(14232),o=l(23934),u=l(57547),a=l(5806),i=l(74799),c=l(23192),s=l(57656),d=l(30764),h=l(59664);let f=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return"function"==typeof e?e(...l):e},g=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[g]=t,{addHeader:m,editHeader:v,entriesUrl:A,formDialogProps:p,getAddLoading:y,getDeleteErrorMessage:k,getDeleteHeader:x,getDeletePromiseChain:C=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)},getDeleteSuccessMessage:b,getEditLoading:j=e=>e,listEmpty:w,listProps:E,onItemClick:M=(e,t)=>{let{args:l}=t;return e(...l)},onValidateEntriesChange:O,refreshInterval:S=5e3,renderAddForm:D,renderDeleteItem:P,renderEditForm:_,renderListItem:I,entryUrlPrefix:L=A}=g,N=(0,r.useRef)(null),T=(0,r.useRef)(null),{confirmDialog:W,finishConfirm:F,setConfirmDialogLoading:K,setConfirmDialogOpen:H,setConfirmDialogProps:R}=(0,d.A)({initial:{scrollContent:!0}}),[X,B]=(0,r.useState)(!1),[V,q]=(0,r.useState)(),{data:z,mutate:G,loading:J,validating:Q}=(0,h.A)(A,{refreshInterval:S}),{fetch:U,loading:Y}=(0,c.A)({onData:e=>q(e),url:L});(0,r.useEffect)(()=>{null==O||O.call(null,Q)},[O,Q]);let Z=(0,r.useMemo)(()=>f(m),[m]),$=(0,r.useMemo)(()=>f(v,V),[V,v]),ee=(0,r.useMemo)(()=>({add:{open:function(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==N||null==(e=N.current)?void 0:e.setOpen(t)}},confirm:{finish:F,loading:K,open:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return H(e)},prepare:R},edit:{open:function(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==T||null==(e=T.current)?void 0:e.setOpen(t)}}}),[F,K,H,R]),{buildDeleteDialogProps:et,checks:el,getCheck:en,hasAllChecks:er,hasChecks:eo,multipleItems:eu,resetChecks:ea,setAllChecks:ei,setCheck:ec}=(0,s.A)({list:z}),es=(0,r.useMemo)(()=>({set:q,value:V}),[V]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{allowCheckAll:eu,allowEdit:!0,allowItemButton:X,disableDelete:!eo,edit:X,getListCheckboxProps:()=>({checked:er,onChange:(e,t)=>ei(t)}),getListItemCheckboxProps:e=>({checked:en(e),onChange:(t,l)=>ec(e,l)}),header:!0,listEmpty:w,listItems:z,loading:J,onAdd:()=>{var e;return null==N||null==(e=N.current)?void 0:e.setOpen(!0)},onDelete:()=>{R(et({onProceedAppend:()=>{K(!0),Promise.all(C((e,t)=>e.map(e=>o.A.delete("".concat(t,"/").concat(e))),el,A)).then(()=>{F("Success",b()),G()}).catch(e=>{F("Error",k((0,a.A)(e)))}).finally(()=>{ea()})},getConfirmDialogTitle:x,renderEntry:function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return P(z,...t)}})),H(!0)},onEdit:()=>B(e=>!e),onItemClick:function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return M((e,t)=>{var l;null==T||null==(l=T.current)||l.setOpen(!0),U("/".concat(t))},{args:t,entry:es,tools:ee})},renderListItem:I,...E}),(0,n.jsx)(u.K_,{header:Z,loading:null==y?void 0:y.call(null),ref:N,showClose:!0,...null==p?void 0:p.common,...null==p?void 0:p.add,children:D(ee,z)}),(0,n.jsx)(u.K_,{header:$,loading:j(Y),ref:T,showClose:!0,...null==p?void 0:p.common,...null==p?void 0:p.edit,children:_(ee,V,z)}),W]})}},23192:(e,t,l)=>{l.d(t,{A:()=>u});var n=l(14232),r=l(23934),o=l(5806);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{config:t,onError:l,onData:u,url:a=""}=e,[i,c]=(0,n.useState)(!1);return{fetch:(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,i="".concat(a).concat(e);i&&(c(!0),r.A.get(i,{...t,...n}).then(e=>{let{data:t}=e;null==u||u.call(null,t)}).catch(e=>{let t=(0,o.A)(e);null==l||l.call(null,t)}).finally(()=>{c(!1)}))},[a,t,u,l]),loading:i}}},52627:(e,t,l)=>{l.d(t,{A:()=>x});var n=l(37876),r=l(12981),o=l(63009),u=l(12572),a=l(40123),i=l.n(a),c=l(96043),s=l(48440),d=l(31465),h=l(51677);let f=e=>null==e||"number"==typeof e&&!Number.isFinite(e)||"string"==typeof e&&0===e.trim().length,g=e=>{let{entry:t}=e;return(0,n.jsx)(h.NA,{whiteSpace:"nowrap",children:String(t)})},m=e=>{let{entry:t,key:l}=e;return c.sX.test(l)?(0,n.jsx)(h.EN,{wrapper:"mono",children:String(t)}):g(e)},v=e=>{let{entry:t,hasPassword:l}=e;return f(t)?(0,n.jsx)(h.a3,{children:"none"}):l?m(e):g(e)},A=e=>{let{depth:t,entry:l,getLabel:o,hasPassword:u,key:a,nest:i,renderValue:c}=e;return(0,n.jsxs)(d.A,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,n.jsx)(h.a3,{children:o({cap:s.A,depth:t,entry:l,hasPassword:u,key:a})}),(0,n.jsx)(r.A,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!i&&c(v,{depth:t,entry:l,hasPassword:u,key:a})})]})},p=e=>{let{key:t}=e;return/confirm|uuid/i.test(t)},y=e=>null!==e&&"object"==typeof e&&!i()(e),k=e=>{let{depth:t=0,entries:l,getEntryLabel:r,getListProps:a,getListItemProps:i,hasPassword:c,listKey:s,maxDepth:d,renderEntry:h,renderEntryValue:f,skip:g}=e,m=[];Object.entries(l).forEach(e=>{let[l,o]=e,a="form-summary-entry-".concat(l),s=y(o),v=s?null:o,A={depth:t,entry:v,hasPassword:c,key:l};g(p,A)||m.push((0,n.jsx)(u.Ay,{sx:{paddingLeft:"".concat(t,"em")},...null==i?void 0:i.call(null,A),children:h({depth:t,entry:v,getLabel:r,hasPassword:c,key:l,nest:s,renderValue:f})},a)),s&&t<d&&m.push(k({depth:t+1,entries:o,getEntryLabel:r,hasPassword:c,listKey:l,maxDepth:d,renderEntry:h,renderEntryValue:f,skip:g}))});let v="form-summary-list-".concat(null!=s?s:"root");return(0,n.jsx)(o.A,{dense:!0,disablePadding:!0,...null==a?void 0:a.call(null,{depth:t,entries:l,key:s}),children:m},v)},x=e=>{let{entries:t,getEntryLabel:l=e=>{let{cap:t,key:l}=e;return t(l)},getListProps:n,getListItemProps:r,hasPassword:o=!1,maxDepth:u=3,renderEntry:a=A,renderEntryValue:i=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)},skip:c=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)}}=e;return k({entries:t,getEntryLabel:l,getListProps:n,getListItemProps:r,hasPassword:o,maxDepth:u,renderEntry:a,renderEntryValue:i,skip:c})}},57656:(e,t,l)=>{l.d(t,{A:()=>a});var n=l(37876),r=l(14232),o=l(12698),u=l(52627);let a=e=>{let{list:t={}}=e,[l,a]=(0,r.useState)({}),i=(0,r.useMemo)(()=>Object.keys(t),[t]),c=(0,r.useMemo)(()=>Object.keys(l),[l]),s=(0,r.useMemo)(()=>c.length===i.length,[c.length,i.length]),d=(0,r.useMemo)(()=>c.length>0,[c.length]),h=(0,r.useMemo)(()=>i.length>1,[i.length]),f=(0,r.useCallback)(e=>{let{confirmDialogProps:t={},formSummaryProps:r={},getConfirmDialogTitle:o,onProceedAppend:a,renderEntry:i}=e;return{actionProceedText:"Delete",content:(0,n.jsx)(u.A,{entries:l,maxDepth:0,renderEntry:i,...r}),onProceedAppend:a,proceedColour:"red",titleText:o(c.length),...t}},[l,c.length]),g=(0,r.useCallback)(e=>!!l[e],[l]),m=(0,r.useCallback)(()=>a({}),[]);return{buildDeleteDialogProps:f,checklist:l,checks:c,getCheck:g,hasAllChecks:s,hasChecks:d,multipleItems:h,resetChecks:m,setAllChecks:(0,r.useCallback)(e=>a(i.reduce((t,l)=>(e&&(t[l]=e),t),{})),[i]),setCheck:(0,r.useCallback)((e,t)=>a((0,o.Ay)(e,t||void 0)),[])}}}}]);