"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[454],{10342:(e,r,t)=>{t.d(r,{A:()=>a});var s=t(37876),n=t(7254),i=t(14232);let a=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];let[a]=r,{changingTabId:l,children:o,retain:d=!1,tabId:c}=a,h=(0,i.useMemo)(()=>l===c,[l,c]),u=(0,i.useMemo)(()=>d?(0,s.jsx)(n.A,{sx:{display:h?"initial":"none"},children:o}):h&&o,[o,h,d]);return(0,s.jsx)(s.Fragment,{children:u})}},19284:(e,r,t)=>{t.d(r,{A:()=>n});let s=e=>{let{free:r,size:t,used:s,...n}=e,i=BigInt(0),a=BigInt(0),l=BigInt(0);try{i=BigInt(r),a=BigInt(t),l=s?BigInt(s):a-i}catch(e){}return{...n,free:i,size:a,used:l}},n=e=>{let{storage:r,...t}=e,n=Object.values(r.volumeGroups).reduce((e,r)=>(e[r.uuid]=s(r),e),{}),i=s(r.volumeGroupTotals);return{...t,storage:{volumeGroups:n,volumeGroupTotals:i}}}},51588:(e,r,t)=>{t.d(r,{A:()=>s});let s=function(e){let{fallbackValue:r="",joinSeparator:t="",limit:s=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Array?e.slice(0,s).join(t):null!=e?e:r}},53650:(e,r,t)=>{t.d(r,{A:()=>m});var s=t(37876),n=t(41316),i=t(14232),a=t(40038),l=t(39393),o=t(11457),d=t(20795),c=t(30827),h=t(64345),u=t(16650);let m=e=>{let{commands:r,getLabel:t,names:m,progress:x,uuids:j}=e,[g,A]=(0,i.useState)(0),p=(0,i.useMemo)(()=>(0,u.tB)(),[]),v=(0,i.useMemo)(()=>{let e=new URLSearchParams;return m&&m.forEach(r=>{e.append("name",r)}),r&&r.forEach(r=>{e.append("command",r)}),e.append("start",String(p)),e.toString()},[r,p,m]),{altData:f,loading:y}=(0,c.A)("/job?".concat(v),{mod:e=>{let r,t=(r=j?j.reduce((r,t)=>{let{[t]:s}=e;return s&&r.push(s),r},[]):Object.values(e)).reduce((e,r)=>e+r.progress,0);return x.set(t/r.length),g<r.length&&A(r.length),r},refreshInterval:3e3}),b=(0,i.useMemo)(()=>(0,h.A)(null==t?void 0:t(x.value),d.a3),[t,x.value]);return y?(0,s.jsx)(o.A,{mt:0}):f?0===g?(0,s.jsx)(d.a3,{children:"Waiting for jobs to start..."}):0===f.length?null:(0,s.jsxs)(n.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[...f.map(e=>(0,s.jsx)(n.Ay,{item:!0,children:(0,s.jsx)(l.A,{error:!!e.error.count,slotProps:{pie:{size:"1em"}},value:e.progress})},"".concat(e.uuid,"-progress"))),(0,s.jsx)(n.Ay,{item:!0,xs:!0,children:b})]}):(0,s.jsx)(a.A,{type:"warning",children:"Failed to get jobs."})}},75791:(e,r,t)=>{t.d(r,{A:()=>I,g:()=>el});var s=t(37876),n=t(41316),i=t(14232),a=t(19284),l=t(28957),o=t(20795);let d=e=>{let{host:r}=e,t=(0,i.useMemo)(()=>[{header:"Name",value:r.name},{header:"UUID",value:r.uuid},{header:"Status",value:r.status.system}].map(e=>{let{header:r,value:t}=e;return(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsxs)(n.Ay,{columnSpacing:"1em",container:!0,children:[(0,s.jsx)(n.Ay,{item:!0,width:"10em",children:(0,s.jsx)(o.a3,{children:r})}),(0,s.jsx)(n.Ay,{item:!0,xs:!0,children:(0,s.jsx)(o.NA,{children:t})})]})},"general-".concat(r))}),[r.name,r.status.system,r.uuid]);return(0,s.jsx)(n.Ay,{container:!0,rowSpacing:"0.4em",children:t})};var c=t(66998),h=t(38317),u=t(56014),m=t(45944);let x=e=>{let{host:r}=e,t=(0,i.useMemo)(()=>Object.values(r.drbdResources).reduce((e,r)=>(e[r.name]=r,e),{}),[r.drbdResources]),n=(0,i.useCallback)((e,n)=>{let{[n]:i}=r.servers.all;if(!i)return;let{name:a}=i,{[a]:l}=t;return(0,s.jsxs)(c.A,{alignItems:"center",columnSpacing:"1em",container:!0,width:"100%",children:[(0,s.jsx)(c.A,{children:(0,s.jsx)(u.A,{href:"/server?name=".concat(a),noWrap:!0,children:a})}),(0,s.jsxs)(c.A,{size:"grow",sx:{["& > .".concat(h.A.container)]:{alignItems:"center",width:"100%",["& > .".concat(h.A.root,":nth-child(odd)")]:{width:"5em"}}},children:[(0,s.jsxs)(c.A,{columnSpacing:"0.5em",container:!0,children:[(0,s.jsx)(c.A,{children:(0,s.jsx)(o.a3,{children:"Connection"})}),(0,s.jsx)(c.A,{size:"grow",children:(0,s.jsx)(o.NA,{children:l.connection.state})})]}),(0,s.jsxs)(c.A,{columnSpacing:"0.5em",container:!0,children:[(0,s.jsx)(c.A,{children:(0,s.jsx)(o.a3,{children:"Disk"})}),(0,s.jsx)(c.A,{size:"grow",children:(0,s.jsx)(o.NA,{children:l.replication.state})})]})]})]})},[t,r.servers.all]),a=(0,i.useMemo)(()=>(0,s.jsx)(m.A,{header:"Configured",listEmpty:"No server(s) configured.",listItems:r.servers.configured,renderListItem:n}),[r.servers.configured,n]),l=(0,i.useMemo)(()=>(0,s.jsx)(m.A,{header:"Syncing",listEmpty:"No server(s) syncing.",listItems:r.servers.replicating,renderListItem:n}),[r.servers.replicating,n]),d=(0,i.useMemo)(()=>(0,s.jsx)(m.A,{header:"Running",listEmpty:"No server(s) running.",listItems:r.servers.running,renderListItem:n}),[r.servers.running,n]);return(0,s.jsxs)(c.A,{container:!0,spacing:"1em",sx:{width:"100%",["& > .".concat(h.A.root)]:{width:{xs:"100%",lg:"50%",xl:"calc(100% / 3)"}}},children:[(0,s.jsx)(c.A,{size:"grow",children:a}),(0,s.jsx)(c.A,{size:"grow",children:l}),(0,s.jsx)(c.A,{size:"grow",children:d})]})};var j=t(69647),g=t(98496);let A=e=>{let{host:r}=e,{volumeGroups:t,volumeGroupTotals:n}=r.storage,a=(0,i.useMemo)(()=>{let{free:e,size:r,used:t}=n,i=(0,j.zz)(e,{toUnit:"ibyte"}),a=(0,j.zz)(r,{toUnit:"ibyte"}),l=(0,j.zz)(t,{toUnit:"ibyte"});return(0,s.jsxs)(c.A,{width:"100%",children:[(0,s.jsx)(o.a3,{children:"Total"}),(0,s.jsx)(g.Fn,{volume:n}),(0,s.jsxs)(c.A,{container:!0,width:"100%",children:[(0,s.jsx)(c.A,{children:(0,s.jsxs)(o.a3,{children:["Used: ",l]})}),(0,s.jsx)(c.A,{size:"grow",textAlign:"center",children:(0,s.jsxs)(o.a3,{fontWeight:400,children:["Free: ",i]})}),(0,s.jsx)(c.A,{textAlign:"right",children:(0,s.jsxs)(o.a3,{children:["Size: ",a]})})]})]})},[n]),d=(0,i.useMemo)(()=>{let e=Object.values(t).map(e=>{let{free:r,internalUuid:t,name:n,size:i,uuid:a}=e,l=(0,j.zz)(r,{toUnit:"ibyte"}),d=(0,j.zz)(i,{toUnit:"ibyte"});return(0,s.jsx)(c.A,{size:"grow",children:(0,s.jsxs)(c.A,{alignItems:"center",container:!0,width:"100%",children:[(0,s.jsx)(c.A,{size:"grow",children:(0,s.jsx)(o.a3,{noWrap:!0,children:n})}),(0,s.jsx)(c.A,{children:(0,s.jsxs)(o.a3,{variant:"caption",children:["Free ",(0,s.jsx)(o.kp,{children:l}),"/",(0,s.jsx)(o.kp,{edge:"end",children:d})]})}),(0,s.jsx)(c.A,{width:"100%",children:(0,s.jsx)(g.Fn,{thin:!0,volume:e})}),(0,s.jsx)(c.A,{width:"100%",children:(0,s.jsx)(o.NA,{noWrap:!0,variant:"caption",children:t})})]})},"vg-".concat(a))});return(0,s.jsx)(c.A,{width:"100%",children:(0,s.jsx)(c.A,{container:!0,spacing:"1em",sx:{width:"100%",["& > .".concat(h.A.root)]:{width:{xs:"100%",lg:"50%",xl:"calc(100% / 3)"}}},children:e})})},[t]);return(0,s.jsxs)(c.A,{alignItems:"center",container:!0,spacing:"1em",width:"100%",children:[a,(0,s.jsx)(c.A,{children:(0,s.jsx)(o.a3,{children:"Volume Groups"})}),(0,s.jsx)(c.A,{size:"grow",children:(0,s.jsx)(l.A,{})}),d]})};var p=t(35755),v=t(11457),f=t(82707),y=t(10342),b=t(93282),w=t(30827);let S={general:{label:"General",value:"general"},servers:{label:"Servers",value:"servers"},storage:{label:"Storage",value:"storage"}},I=e=>{let{uuid:r}=e,[t,c]=(0,i.useState)(S.general.value),{altData:h,loading:u}=(0,w.A)("/host/".concat(r),{mod:a.A,periodic:!0});return(0,s.jsxs)(p.Zk,{children:[u&&(0,s.jsx)(v.A,{mt:0}),h&&(0,s.jsxs)(n.Ay,{container:!0,spacing:"1em",children:[(0,s.jsx)(n.Ay,{item:!0,width:{xs:"100%",sm:"14em",md:"20em"},children:(0,s.jsx)(n.Ay,{container:!0,rowSpacing:"1em",children:(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsxs)(b.A,{onChange:(e,r)=>{c(r)},orientation:"vertical",value:t,children:[(0,s.jsx)(f.A,{...S.general,label:h.short}),(0,s.jsx)(f.A,{disabled:!0,icon:(0,s.jsx)(l.A,{sx:{width:"100%"}}),label:""}),(0,s.jsx)(f.A,{...S.servers}),(0,s.jsx)(f.A,{...S.storage})]})})})}),(0,s.jsx)(n.Ay,{display:{xs:"none",sm:"initial"},item:!0,children:(0,s.jsx)(l.A,{orientation:"vertical"})}),(0,s.jsxs)(n.Ay,{item:!0,xs:!0,children:[(0,s.jsxs)(y.A,{changingTabId:t,tabId:S.general.value,children:[(0,s.jsx)(p.aO,{children:(0,s.jsx)(o.HM,{children:S.general.label})}),(0,s.jsx)(d,{host:h})]}),(0,s.jsxs)(y.A,{changingTabId:t,tabId:S.servers.value,children:[(0,s.jsx)(p.aO,{children:(0,s.jsx)(o.HM,{children:S.servers.label})}),(0,s.jsx)(x,{host:h})]}),(0,s.jsxs)(y.A,{changingTabId:t,tabId:S.storage.value,children:[(0,s.jsx)(p.aO,{children:(0,s.jsx)(o.HM,{children:S.storage.label})}),(0,s.jsx)(A,{host:h})]})]})]})]})};var k=t(96446),M=t(31254),C=t(13920),P=t(73617),z=t(16650);let F={online:"ok","powered off":"off"},H={dr:"DR",node:"Subnode"},D=e=>{let{data:r}=e,{hostName:t,hostStatus:n,hostType:i,modified:a,shortHostName:d}=r,h=(0,z.tB)();return(0,s.jsxs)(c.A,{alignItems:"center",container:!0,spacing:"0.5em",width:"100%",children:[(0,s.jsx)(c.A,{alignSelf:"stretch",children:(0,s.jsx)(P.A,{colour:F[n]||"warning"})}),(0,s.jsxs)(c.A,{size:"grow",children:[(0,s.jsxs)(c.A,{columnSpacing:"0.5em",container:!0,width:"100%",children:[(0,s.jsx)(c.A,{children:(0,s.jsx)(o.a3,{noWrap:!0,children:H[i]})}),(0,s.jsx)(c.A,{children:(0,s.jsx)(o.NA,{noWrap:!0,children:d})}),(0,s.jsx)(c.A,{display:{xs:"none",md:"flex"},children:(0,s.jsx)(l.A,{flexItem:!0,orientation:"vertical"})}),(0,s.jsx)(c.A,{display:{xs:"none",md:"flex"},children:(0,s.jsx)(o.NA,{noWrap:!0,children:t})})]}),(0,s.jsx)(o.a3,{noWrap:!0,children:n})]}),(0,s.jsx)(c.A,{children:(0,s.jsxs)(o.a3,{noWrap:!0,children:["Last changed: ",(0,z.KN)(h-a)," ago"]})})]})};var R=t(92144),T=t(48937),U=t(28850),N=t(74235),O=t(67820),E=t(69146),q=t(7227),W=t(71918),B=t(55815),L=t(95524),Y=t(42861),V=t(76572),K=t(10595);let G=function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];let[n]=r,{formControlProps:a,formControlLabelProps:l,formLabelProps:d,id:c,label:h,name:u,onChange:m,radioItems:x,radioProps:{sx:j,...g}={},radioGroupProps:A,value:p}=n,v=(0,i.useMemo)(()=>"string"==typeof h?(0,s.jsx)(o.a3,{children:h}):h,[h]),f=(0,i.useMemo)(()=>Object.entries(x).map(e=>{let[r,{label:t,value:n}]=e,i="string"==typeof t?(0,s.jsx)(o.a3,{children:t}):t;return(0,s.jsx)(W.A,{control:(0,s.jsx)(L.A,{...g,sx:{["&.".concat(Y.A.root)]:{color:K.Qu},...j}}),value:n,label:i,...l},"".concat(c,"-").concat(r))}),[l,c,x,j,g]);return(0,s.jsxs)(q.A,{...a,children:[(0,s.jsx)(B.A,{...d,children:v}),(0,s.jsx)(V.A,{id:c,name:u,onChange:m,row:!0,value:p,...A,children:f})]})};var Z=t(91408),_=t(27743);let Q=Z.Ik().shape({enterpriseKey:(0,_.ZC)().optional(),name:Z.Yj().required(),redhatConfirmPassword:Z.Yj().when("redhatPassword",(e,r)=>String(e).length>0?r.required().oneOf([Z.KR("redhatPassword")]):r.optional()),redhatPassword:Z.Yj().when("redhatUsername",(e,r)=>String(e).length>0?r.required():r.optional()),redhatUsername:Z.Yj().when("redhatPassword",(e,r)=>String(e).length>0?r.required():r.optional()),target:Z.Yj().required(),type:Z.Yj().oneOf(["dr","subnode"]).required(),uuid:(0,_.ZC)().required()},[["redhatUsername","redhatPassword"]]),J=Z.Ik({password:Z.Yj().required(),target:Z.Yj().required()});var X=t(88259),$=t(93647);let ee={subnode:{label:"Subnode",value:"subnode"},dr:{label:"Disaster Recovery (DR) host",value:"dr"}},er=e=>{let{host:r,setResponse:t,tools:a}=e,{disabledSubmit:l,formik:o,formikErrors:d,handleChange:c}=(0,$.A)({initialValues:{name:r.hostName,password:r.hostPassword,target:r.target,type:"",uuid:r.hostUUID},onSubmit:(e,r)=>{let{setSubmitting:n}=r,{enterpriseKey:i,name:l,password:o,redhatPassword:d,redhatUsername:c,target:h,type:u,uuid:m}=e;a.confirm.prepare({actionProceedText:"Prepare",content:(0,s.jsx)(C.A,{entries:e,hasPassword:!0}),onCancelAppend:()=>n(!1),onProceedAppend:()=>{a.confirm.loading(!0),U.A.put("/host/prepare",{enterprise:{uuid:i},host:{name:l,password:o,ssh:{},type:"subnode"===u?"node":u,uuid:m},redhat:{password:d,user:c},target:h}).then(()=>{a.confirm.finish("Success",{children:(0,s.jsxs)(s.Fragment,{children:["Started job to prepare host at ",h,"."]})}),a.add.open(!1),setTimeout(t,500)}).catch(e=>{let r=(0,N.A)(e);r.children=(0,s.jsxs)(s.Fragment,{children:["Failed to prepare host at ",h,". ",r.children]}),a.confirm.finish("Error",r),n(!1)})},titleText:"Prepare host at ".concat(e.target," with the following?")}),a.confirm.open()},validationSchema:Q}),h=(0,i.useMemo)(()=>"enterpriseKey",[]),u=(0,i.useMemo)(()=>"name",[]),m=(0,i.useMemo)(()=>"redhatConfirmPassword",[]),x=(0,i.useMemo)(()=>"redhatPassword",[]),j=(0,i.useMemo)(()=>"redhatUsername",[]),g=(0,i.useMemo)(()=>"type",[]),A=(0,i.useMemo)(()=>r.isInetConnected&&/rhel/i.test(r.hostOS)&&!r.isOSRegistered,[r.hostOS,r.isInetConnected,r.isOSRegistered]);return(0,s.jsxs)(n.Ay,{columns:{xs:1,sm:2},component:"form",container:!0,onSubmit:e=>{e.preventDefault(),o.submitForm()},spacing:"1em",children:[(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsx)(X.A,{input:(0,s.jsx)(G,{id:g,label:"Host type",name:g,onChange:c,radioItems:ee,value:o.values.type})})}),(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{id:u,label:"Host name",name:u,onChange:c,required:!0,value:o.values.name})})}),(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{id:h,label:"Alteeve enterprise key",name:h,onChange:c,value:o.values.enterpriseKey})})}),A&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{disableAutofill:!0,id:j,label:"RedHat username",name:j,onChange:c,value:o.values.redhatUsername})})}),(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{disableAutofill:!0,id:x,label:"RedHat password",name:x,onChange:c,type:"password",value:o.values.redhatPassword})})}),(0,s.jsx)(n.Ay,{display:{xs:"none",sm:"initial"},item:!0,sm:1}),(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{disableAutofill:!0,id:m,label:"Confirm RedHat password",name:m,onChange:c,type:"password",value:o.values.redhatConfirmPassword})})})]}),(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsx)(O.A,{count:1,messages:d})}),(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsx)(T.A,{actions:[{background:"blue",children:"Prepare host",disabled:l,type:"submit"}]})})]})};var et=t(53650);let es=e=>{let{jobs:r,progress:t}=e,n=(0,i.useMemo)(()=>Object.keys(r).filter(e=>r[e].local),[r]);return(0,s.jsx)(et.A,{getLabel:e=>100===e?"Finished deletion.":"Deleting...",progress:{set:t.setTotal,value:t.total},uuids:n})},en=e=>{let{setResponse:r,tools:t}=e,a=(0,i.useRef)(null),[l,d]=(0,i.useState)(),[c,h]=(0,i.useState)(0),[u,m]=(0,i.useState)(!1),[x,j]=(0,i.useState)([]),g=(0,i.useCallback)(e=>{var r,t;return null==(t=a.current)||null==(r=t.setMessage)?void 0:r.call(null,"api",e)},[]),{disabledSubmit:A,formik:p,formikErrors:f,handleChange:y}=(0,$.A)({initialValues:{password:"",target:""},onSubmit:(e,n)=>{let{setSubmitting:i}=n;g(),m(!0),j([]),r(void 0),d(void 0);let{password:a,target:l}=e;U.A.put("/command/inquire-host",{password:a,target:l}).then(e=>{let{data:n}=e,{badSshKeys:i,isConnected:c}=n;if(i){g({children:(0,s.jsxs)(s.Fragment,{children:["Host identification at ",l," changed. If this is valid, please delete the conflicting SSH host key."]}),type:"warning"}),j([{background:"red",children:"Delete keys",onClick:()=>{t.confirm.prepare({actionProceedText:"Delete",content:(0,s.jsxs)(o.a3,{children:["There's a different host key on ",l,", which could mean a MITM attack. But if this change is expected, you can delete the known host key(s) to resolve the conflict."]}),onProceedAppend:()=>{t.confirm.loading(!0),U.A.delete("/ssh-key/conflict",{data:i}).then(e=>{t.confirm.finish("Success",{children:(0,s.jsxs)(s.Fragment,{children:["Started job to delete host key(s) for ",l,"."]})}),g(),j([]);let{data:r}=e;r&&d(r.jobs)}).catch(e=>{let r=(0,N.A)(e);r.children=(0,s.jsxs)(s.Fragment,{children:["Failed to delete host key(s). ",r.children]}),t.confirm.finish("Error",r)})},proceedColour:"red",titleText:"Delete all known SSH host key(s) for ".concat(l,"?")}),t.confirm.open(!0)},type:"button"}]);return}if(!c)return void g({children:(0,s.jsx)(s.Fragment,{children:"Failed to connect. Please make sure the credentials are correct, and the host is reachable from this striker."}),type:"warning"});r({...n,hostPassword:a,target:l}),g()}).catch(e=>{let r=(0,N.A)(e);r.children=(0,s.jsxs)(s.Fragment,{children:["Failed to access ",l,". ",r.children]}),g(r)}).finally(()=>{i(!1),m(!1)})},validationSchema:J}),b=(0,i.useMemo)(()=>({target:"target",password:"password"}),[]),w=(0,i.useMemo)(()=>!!l&&c<100,[l,c]);return(0,s.jsxs)(n.Ay,{component:"form",container:!0,columns:{xs:1,sm:2},onSubmit:e=>{e.preventDefault(),p.submitForm()},spacing:"1em",children:[(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{disableAutofill:!0,id:b.target,label:"IP address",name:b.target,onChange:y,required:!0,value:p.values.target})})}),(0,s.jsx)(n.Ay,{item:!0,xs:1,children:(0,s.jsx)(X.A,{input:(0,s.jsx)(E.A,{disableAutofill:!0,id:b.password,label:"Password",name:b.password,onChange:y,required:!0,type:"password",value:p.values.password})})}),l&&(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsx)(es,{jobs:l,progress:{total:c,setTotal:h}})}),(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:(0,s.jsx)(O.A,{count:1,messages:f,ref:a})}),(0,s.jsx)(n.Ay,{item:!0,width:"100%",children:u?(0,s.jsx)(v.A,{mt:0}):(0,s.jsx)(T.A,{actions:[...x,{background:"blue",children:"Test access",disabled:A||w,type:"submit"}]})})]})},ei=e=>{let{onValidateHostsChange:r}=e,[t,n]=(0,i.useState)();return(0,s.jsx)(k.A,{formDialogProps:{common:{onClose:function(e){let{handlers:{base:r}}=e;for(var t=arguments.length,s=Array(t>1?t-1:0),i=1;i<t;i++)s[i-1]=arguments[i];null==r||r.call(null,...s),setTimeout(n,500)}}},addHeader:"Initialize host",editHeader:"",entriesUrl:"/host?type=dr&type=subnode",entryUrlPrefix:"/host",getDeleteErrorMessage:function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return{...t,children:(0,s.jsxs)(s.Fragment,{children:["Failed to delete host(s). ",e]})}},getDeleteHeader:e=>"Delete the following ".concat(e," host(s)?"),getDeleteSuccessMessage:()=>({children:(0,s.jsx)(s.Fragment,{children:"Successfully deleted host(s)"})}),listEmpty:"No host(s) found.",listProps:{allowAddItem:!0,allowEdit:!1,allowItemButton:!0},onValidateEntriesChange:r,renderAddForm:e=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(en,{setResponse:n,tools:e}),t&&(0,s.jsx)(er,{host:t,setResponse:n,tools:e})]}),renderDeleteItem:(e,r)=>{let{key:t}=r,n=null==e?void 0:e[t];return(0,s.jsx)(o.a3,{children:null==n?void 0:n.shortHostName})},renderEditForm:(e,r)=>r&&(0,s.jsx)(M.Ji,{children:(0,s.jsx)(C.A,{entries:r,renderEntryValue:function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];let{0:{entry:i,key:a}}=t;return"command"===a?(0,s.jsx)(R.A,{iconProps:{fontSize:"small"},mapPreset:"copy",onClick:()=>navigator.clipboard.writeText(String(i)),size:"small"}):e(...t)},hasPassword:!0})}),renderListItem:(e,r)=>(0,s.jsx)(D,{data:r})})};var ea=t(38750);let el=()=>{let[e,r]=(0,i.useState)(!1);return(0,s.jsxs)(p.Zk,{children:[(0,s.jsxs)(p.aO,{children:[(0,s.jsx)(o.HM,{children:"Hosts"}),(0,s.jsx)(ea.A,{syncing:e})]}),(0,s.jsx)(ei,{onValidateHostsChange:t=>{t!==e&&r(t)}})]})}},82707:(e,r,t)=>{t.d(r,{A:()=>h});var s=t(37876),n=t(11547),i=t(1837),a=t(35268),l=t(14232),o=t(10595),d=t(20795);let c=(0,a.Ay)(n.A)({borderRadius:o.ax,color:o.Qu,padding:".4em .8em",textTransform:"none",["&.".concat(i.A.selected)]:{color:o.ft}}),h=e=>{let{label:r,...t}=e,n=(0,l.useMemo)(()=>"string"==typeof r?(0,s.jsx)(d.a3,{inheritColour:!0,children:r}):r,[r]);return(0,s.jsx)(c,{label:n,...t})}},93282:(e,r,t)=>{t.d(r,{A:()=>x});var s=t(37876),n=t(1837),i=t(64122),a=t(22515),l=t(84932),o=t(66703),d=t(35268),c=t(14232),h=t(10595);let u="1.8em",m=(0,d.Ay)(i.A)({minHeight:"1em",["&.".concat(a.A.vertical)]:{minHeight:u,["& .".concat(n.A.root)]:{alignItems:"flex-start",minHeight:u,paddingLeft:"2em"},["& .".concat(a.A.indicator)]:{right:"initial"}},["& .".concat(n.A.root)]:{minHeight:"1em"},["& .".concat(a.A.indicator)]:{backgroundColor:h.ft,borderRadius:h.ax}}),x=e=>{let{orientation:r,variant:t="fullWidth",...n}=e,i=(0,o.A)(),a=(0,c.useCallback)(e=>i.breakpoints.up(e),[i]),d=(0,l.A)(a("xs")),h=(0,l.A)(a("sm")),u=(0,l.A)(a("md")),x=(0,l.A)(a("lg")),j=(0,l.A)(a("xl")),g=(0,c.useMemo)(()=>[["xs",d],["sm",h],["md",u],["lg",x],["xl",j]],[x,u,h,j,d]),A=(0,c.useMemo)(()=>{let e;return"object"==typeof r?g.some(t=>{let[s,n]=t;return n&&r[s]&&(e=r[s]),!n}):e=r,e},[g,r]);return(0,s.jsx)(m,{orientation:A,variant:t,...n})}}}]);