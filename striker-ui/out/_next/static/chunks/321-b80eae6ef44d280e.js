"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{77583:function(e,n,l){var t=l(85893),r=l(14440),c=l(67294),o=l(33544),i=l(56903),a=l(87006),s=l(59278);let u=(0,c.forwardRef)((e,n)=>{let{actionCancelText:l="Cancel",actionProceedText:u,children:d,closeOnProceed:h=!1,contentContainerProps:g,dialogProps:p,disableProceed:m,loading:x,loadingAction:f=!1,onActionAppend:j,onCancelAppend:Z,onProceedAppend:v,openInitially:b,preActionArea:k,proceedButtonProps:w,proceedColour:y="blue",scrollContent:C=!1,scrollBoxProps:P,showActionArea:A=!0,showCancel:M,showClose:_,titleText:O,wide:S,content:B=d}=e,N=(0,c.useRef)(null),E=(0,c.useMemo)(()=>(0,a.Z)(B,s.Ac),[B]),I=(0,c.useMemo)(()=>(0,c.createElement)(C?o.VZ:r.Z,P,E),[E,P,C]),R=(0,c.useMemo)(()=>A&&(0,t.jsx)(o.ux,{cancelProps:{children:l,onClick:function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];null==j||j.call(null,...n),null==Z||Z.call(null,...n)}},closeOnProceed:h,loading:f,proceedProps:{background:y,children:u,disabled:m,onClick:function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];null==j||j.call(null,...n),null==v||v.call(null,...n)},...w},showCancel:M}),[l,u,h,m,f,j,Z,v,w,y,A,M]);return(0,c.useImperativeHandle)(n,()=>({setOpen:e=>{var n;return null===(n=N.current)||void 0===n?void 0:n.setOpen(e)}}),[]),(0,t.jsx)(o.Js,{dialogProps:p,header:O,loading:x,openInitially:b,ref:N,showClose:_,wide:S,children:(0,t.jsxs)(i.Z,{...g,children:[I,k,R]})})});u.displayName="ConfirmDialog",n.Z=u},44089:function(e,n,l){var t=l(85893),r=l(14440),c=l(54965),o=l(37969),i=l(38189),a=l(66173),s=l(56903),u=l(59278);let d=e=>{let{entry:n}=e;return(0,t.jsx)(u.$_,{whiteSpace:"nowrap",children:String(n)})},h=e=>{let{entry:n,key:l}=e;return i.JW.test(l)?(0,t.jsx)(u.PJ,{wrapper:"mono",children:String(n)}):d(e)},g=e=>{let{entry:n,hasPassword:l}=e;return["",null,void 0].some(e=>n===e)||Number.isNaN(n)?(0,t.jsx)(u.Ac,{children:"none"}):l?h(e):d(e)},p=e=>{let{depth:n,entry:l,getLabel:c,hasPassword:o,key:i,nest:d,renderValue:h}=e;return(0,t.jsxs)(s.Z,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,t.jsx)(u.Ac,{children:c({cap:a.Z,depth:n,entry:l,hasPassword:o,key:i})}),(0,t.jsx)(r.Z,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!d&&h(g,{depth:n,entry:l,hasPassword:o,key:i})})]})},m=e=>{let{key:n}=e;return/confirm|uuid/i.test(n)},x=e=>{let{depth:n=0,entries:l,getEntryLabel:r,getListProps:i,getListItemProps:a,hasPassword:s,listKey:u,maxDepth:d,renderEntry:h,renderEntryValue:g,skip:p}=e,f=[];Object.entries(l).forEach(e=>{let[l,o]=e,i=null!==o&&"object"==typeof o,u=i?null:o,j={depth:n,entry:u,hasPassword:s,key:l};p(m,j)||f.push((0,t.jsx)(c.ZP,{sx:{paddingLeft:"".concat(n,"em")},...null==a?void 0:a.call(null,j),children:h({depth:n,entry:u,getLabel:r,hasPassword:s,key:l,nest:i,renderValue:g})},"form-summary-entry-".concat(l))),i&&n<d&&f.push(x({depth:n+1,entries:o,getEntryLabel:r,hasPassword:s,listKey:l,maxDepth:d,renderEntry:h,renderEntryValue:g,skip:p}))});let j="form-summary-list-".concat(null!=u?u:"root");return(0,t.jsx)(o.Z,{dense:!0,disablePadding:!0,...null==i?void 0:i.call(null,{depth:n,entries:l,key:u}),children:f},j)};n.Z=e=>{let{entries:n,getEntryLabel:l=e=>{let{cap:n,key:l}=e;return n(l)},getListProps:t,getListItemProps:r,hasPassword:c=!1,maxDepth:o=3,renderEntry:i=p,renderEntryValue:a=function(e){for(var n=arguments.length,l=Array(n>1?n-1:0),t=1;t<n;t++)l[t-1]=arguments[t];return e(...l)},skip:s=function(e){for(var n=arguments.length,l=Array(n>1?n-1:0),t=1;t<n;t++)l[t-1]=arguments[t];return e(...l)}}=e;return x({entries:n,getEntryLabel:l,getListProps:t,getListItemProps:r,hasPassword:c,maxDepth:o,renderEntry:i,renderEntryValue:a,skip:s})}},39937:function(e,n,l){l.d(n,{Z:function(){return I}});var t=l(85893),r=l(19338),c=l(89262),o=l(32653),i=l(14440),a=l(34815),s=l(80594),u=l(67294),d=l(77831),h=l(55278),g=l(26076),p=l(8489),m=l(37969),x=l(54965),f=l(49520);let j=[{text:"Anvil",image:"/pngs/anvil_icon_on.png",uri:"/manage-element"},{text:"Files",image:"/pngs/files_on.png",uri:"/file-manager"},{text:"Configure",image:"/pngs/configure_icon_on.png",uri:"/config"},{text:"Mail",image:"/pngs/email_on.png",uri:"/mail-config"},{text:"Help",image:"/pngs/help_icon_on.png",uri:"https://alteeve.com/w/Support"}],Z={width:"40em",height:"40em"};var v=l(98484),b=l(29535),k=l(56903),w=l(97607),y=l(59278),C=l(6946);let P="AnvilDrawer",A={actionIcon:"".concat(P,"-actionIcon"),list:"".concat(P,"-list")},M=(0,c.ZP)(p.ZP)(()=>({["& .".concat(A.list)]:{width:"200px"},["& .".concat(A.actionIcon)]:{fontSize:"2.3em",color:d.of}}));var _=e=>{let{open:n,setOpen:l}=e,{getSessionUser:r}=(0,C.Z)(),c=r();return(0,t.jsx)(M,{BackdropProps:{invisible:!0},anchor:"left",open:n,onClose:()=>l(!n),children:(0,t.jsx)("div",{role:"presentation",children:(0,t.jsxs)(m.Z,{className:A.list,children:[(0,t.jsx)(x.ZP,{children:(0,t.jsx)(y.Ac,{children:c?(0,t.jsxs)(t.Fragment,{children:["Welcome, ",c.name]}):"Unregistered"})}),(0,t.jsx)(b.Z,{}),(0,t.jsx)(f.Z,{component:"a",href:"/index.html",children:(0,t.jsxs)(k.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,t.jsx)(h.Z,{className:A.actionIcon}),(0,t.jsx)(y.Ac,{children:"Dashboard"})]})}),j.map(e=>(0,t.jsx)(f.Z,{component:"a",href:e.uri,children:(0,t.jsxs)(k.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,t.jsx)("img",{alt:e.text,src:e.image,...Z}),(0,t.jsx)(y.Ac,{children:e.text})]})},"anvil-drawer-".concat(e.image))),(0,t.jsx)(f.Z,{onClick:()=>{v.Z.put("/auth/logout").then(()=>{window.location.replace("/login")}).catch(e=>{(0,w.Z)(e)})},children:(0,t.jsxs)(k.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,t.jsx)(g.Z,{className:A.actionIcon}),(0,t.jsx)(y.Ac,{children:"Logout"})]})})]})})})},O=l(85838),S=l(56399);let B="Header",N={input:"".concat(B,"-input"),barElement:"".concat(B,"-barElement"),iconBox:"".concat(B,"-iconBox"),searchBar:"".concat(B,"-searchBar"),icons:"".concat(B,"-icons")},E=(0,c.ZP)(o.Z)(e=>{let{theme:n}=e;return{paddingTop:n.spacing(.5),paddingBottom:n.spacing(.5),paddingLeft:n.spacing(3),paddingRight:n.spacing(3),borderBottom:"solid 1px",borderBottomColor:d.hM,position:"static",["& .".concat(N.input)]:{height:"2.8em",width:"30vw",backgroundColor:n.palette.secondary.main,borderRadius:d.n_},["& .".concat(N.barElement)]:{padding:0},["& .".concat(N.iconBox)]:{[n.breakpoints.down("sm")]:{display:"none"}},["& .".concat(N.searchBar)]:{[n.breakpoints.down("sm")]:{flexGrow:1,paddingLeft:"15vw"}},["& .".concat(N.icons)]:{paddingLeft:".1em",paddingRight:".1em"}}});var I=()=>{let e=(0,u.useRef)({}),n=(0,u.useRef)({}),[l,c]=(0,u.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(E,{children:(0,t.jsxs)(i.Z,{display:"flex",justifyContent:"space-between",flexDirection:"row",children:[(0,t.jsx)(k.Z,{row:!0,children:(0,t.jsx)(a.Z,{onClick:()=>c(!l),children:(0,t.jsx)("img",{alt:"",src:"/pngs/logo.png",width:"160",height:"40"})})}),(0,t.jsx)(k.Z,{className:N.iconBox,row:!0,spacing:0,children:(0,t.jsx)(i.Z,{children:(0,t.jsx)(s.Z,{onClick:e=>{var l,t;let{currentTarget:r}=e;null===(l=n.current.setAnchor)||void 0===l||l.call(null,r),null===(t=n.current.setOpen)||void 0===t||t.call(null,!0)},sx:{color:d.of,padding:"0 .1rem"},children:(0,t.jsx)(O.Z,{icon:r.Z,ref:e})})})})]})}),(0,t.jsx)(_,{open:l,setOpen:c}),(0,t.jsx)(S.Z,{onFetchSuccessAppend:n=>{var l;null===(l=e.current.indicate)||void 0===l||l.call(null,Object.keys(n).length>0)},ref:n})]})}},81208:function(e,n,l){var t=l(85893),r=l(67294),c=l(99576);let o={count:0,defaultMessageType:"info",messages:void 0,onSet:void 0,usePlaceholder:!0},i=(0,r.forwardRef)((e,n)=>{let{count:l=o.count,defaultMessageType:i=o.defaultMessageType,messages:a,onSet:s,usePlaceholder:u=o.usePlaceholder}=e,[d,h]=(0,r.useState)({}),g=(0,r.useMemo)(()=>({...a,...d}),[a,d]),p=(0,r.useCallback)(e=>void 0!==g[e],[g]),m=(0,r.useCallback)((e,n)=>{let l=0;h(t=>{let{[e]:r,...c}=t;return n&&(c[e]=n),l=Object.keys(c).length,c}),null==s||s.call(null,l)},[s]),x=(0,r.useCallback)((e,n)=>{let l=0,t=n?(e,t)=>{e[t]=n,l+=1}:void 0;h(n=>{let r={};return Object.keys(n).forEach(c=>{e.test(c)?null==t||t.call(null,r,c):(r[c]=n[c],l+=1)}),r}),null==s||s.call(null,l)},[s]),f=(0,r.useMemo)(()=>{let e=Object.entries(g),n=l>0,r=n?l:e.length,o=[];if(e.every(e=>{let[n,l]=e,{children:a,type:s=i}=l;return o.push((0,t.jsx)(c.Z,{type:s,children:a},"message-".concat(n))),o.length<r}),u&&n&&0===o.length){let e=l-o.length;for(let n=0;n<e;n+=1)o.push((0,t.jsx)(c.Z,{sx:{visibility:"hidden"},text:"Placeholder"},"message-placeholder-".concat(n)))}return o},[l,i,u,g]);return(0,r.useImperativeHandle)(n,()=>({exists:p,setMessage:m,setMessageRe:x}),[p,m,x]),(0,t.jsx)(t.Fragment,{children:f})});i.defaultProps=o,i.displayName="MessageGroup",n.Z=i},85291:function(e,n,l){var t=l(85893),r=l(67294),c=l(8534),o=l(44089);n.Z=e=>{let{list:n={}}=e,[l,i]=(0,r.useState)({}),a=(0,r.useMemo)(()=>Object.keys(n),[n]),s=(0,r.useMemo)(()=>Object.keys(l),[l]),u=(0,r.useMemo)(()=>s.length===a.length,[s.length,a.length]),d=(0,r.useMemo)(()=>s.length>0,[s.length]),h=(0,r.useMemo)(()=>a.length>1,[a.length]),g=(0,r.useCallback)(e=>{let{confirmDialogProps:n={},formSummaryProps:r={},getConfirmDialogTitle:c,onProceedAppend:i,renderEntry:a}=e;return{actionProceedText:"Delete",content:(0,t.jsx)(o.Z,{entries:l,maxDepth:0,renderEntry:a,...r}),onProceedAppend:i,proceedColour:"red",titleText:c(s.length),...n}},[l,s.length]),p=(0,r.useCallback)(e=>!!l[e],[l]);return{buildDeleteDialogProps:g,checklist:l,checks:s,getCheck:p,hasAllChecks:u,hasChecks:d,multipleItems:h,resetChecks:(0,r.useCallback)(()=>i({}),[]),setAllChecks:(0,r.useCallback)(e=>i(a.reduce((n,l)=>(e&&(n[l]=e),n),{})),[a]),setCheck:(0,r.useCallback)((e,n)=>i((0,c.ZP)(e,n||void 0)),[])}}},8534:function(e,n,l){l.d(n,{Um:function(){return r}});let t=function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];let[,t,r,c]=n;void 0!==c&&(t[r]=c)},r=function(e,n){let{set:l=t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=>{let r={};return Object.keys(t).forEach(c=>{e.test(c)?l(t,r,c,n):r[c]=t[c]}),r}};n.ZP=function(e,n){let{guard:l=()=>!0,set:r=t}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=>{let{[e]:c,...o}=t,i={...o};return l(t,e,n)&&r(t,i,e,n),i}}},14879:function(e,n){n.Z={boolean:e=>!!e,number:e=>parseInt(String(e),10)||0,string:e=>String(e)}},66173:function(e,n,l){var t=l(48403),r=l.n(t);n.Z=e=>{let n=e.replace(/([a-z\d])([A-Z])/g,"$1 $2");return r()(n)}}}]);