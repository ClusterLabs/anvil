"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[446],{13920:(e,t,l)=>{l.d(t,{A:()=>p});var n=l(37876),r=l(7254),o=l(60999),u=l(80963),a=l(40123),i=l.n(a),c=l(65532),s=l(89889),d=l(34318),h=l(20795);let f=e=>{let{entry:t}=e;return(0,n.jsx)(h.NA,{whiteSpace:"nowrap",children:String(t)})},g=e=>{let{entry:t,hasPassword:l}=e;return(e=>null==e||"number"==typeof e&&!Number.isFinite(e)||"string"==typeof e&&0===e.trim().length)(t)?(0,n.jsx)(h.a3,{children:"none"}):l?(e=>{let{entry:t,key:l}=e;return c.sX.test(l)?(0,n.jsx)(h.EN,{wrapper:"mono",children:String(t)}):f(e)})(e):f(e)},v=e=>{let{depth:t,entry:l,getLabel:o,hasPassword:u,key:a,nest:i,renderValue:c}=e;return(0,n.jsxs)(d.A,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,n.jsx)(h.a3,{children:o({cap:s.A,depth:t,entry:l,hasPassword:u,key:a})}),(0,n.jsx)(r.A,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!i&&c(g,{depth:t,entry:l,hasPassword:u,key:a})})]})},m=e=>{let{key:t}=e;return/confirm|uuid/i.test(t)},A=e=>{let{depth:t=0,entries:l,getEntryLabel:r,getListProps:a,getListItemProps:c,hasPassword:s,listKey:d,maxDepth:h,renderEntry:f,renderEntryValue:g,skip:v}=e,p=[];Object.entries(l).forEach(e=>{let[l,o]=e,a="form-summary-entry-".concat(l),d=(e=>null!==e&&"object"==typeof e&&!i()(e))(o),y=d?null:o,k={depth:t,entry:y,hasPassword:s,key:l};v(m,k)||p.push((0,n.jsx)(u.Ay,{sx:{paddingLeft:"".concat(t,"em")},...null==c?void 0:c.call(null,k),children:f({depth:t,entry:y,getLabel:r,hasPassword:s,key:l,nest:d,renderValue:g})},a)),d&&t<h&&p.push(A({depth:t+1,entries:o,getEntryLabel:r,hasPassword:s,listKey:l,maxDepth:h,renderEntry:f,renderEntryValue:g,skip:v}))});let y="form-summary-list-".concat(null!=d?d:"root");return(0,n.jsx)(o.A,{dense:!0,disablePadding:!0,...null==a?void 0:a.call(null,{depth:t,entries:l,key:d}),children:p},y)},p=e=>{let{entries:t,getEntryLabel:l=e=>{let{cap:t,key:l}=e;return t(l)},getListProps:n,getListItemProps:r,hasPassword:o=!1,maxDepth:u=3,renderEntry:a=v,renderEntryValue:i=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)},skip:c=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)}}=e;return A({entries:t,getEntryLabel:l,getListProps:n,getListItemProps:r,hasPassword:o,maxDepth:u,renderEntry:a,renderEntryValue:i,skip:c})}},21635:(e,t,l)=>{l.d(t,{Ay:()=>o,WT:()=>r});let n=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[,n,r,o]=t;void 0!==o&&(n[r]=o)},r=function(e,t){let{set:l=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let r={};return Object.keys(n).forEach(o=>{e.test(o)?l(n,r,o,t):r[o]=n[o]}),r}},o=function(e,t){let{guard:l=()=>!0,set:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let{[e]:o,...u}=n,a={...u};return l(n,e,t)&&r(n,a,e,t),a}}},25351:(e,t,l)=>{l.d(t,{A:()=>a});var n=l(37876),r=l(14232),o=l(21635),u=l(13920);let a=e=>{let{list:t={}}=e,[l,a]=(0,r.useState)({}),i=(0,r.useMemo)(()=>Object.keys(t),[t]),c=(0,r.useMemo)(()=>Object.keys(l),[l]),s=(0,r.useMemo)(()=>c.length===i.length,[c.length,i.length]),d=(0,r.useMemo)(()=>c.length>0,[c.length]),h=(0,r.useMemo)(()=>i.length>1,[i.length]),f=(0,r.useCallback)(e=>{let{confirmDialogProps:t={},formSummaryProps:r={},getConfirmDialogTitle:o,onProceedAppend:a,renderEntry:i}=e;return{actionProceedText:"Delete",content:(0,n.jsx)(u.A,{entries:l,maxDepth:0,renderEntry:i,...r}),onProceedAppend:a,proceedColour:"red",titleText:o(c.length),...t}},[l,c.length]),g=(0,r.useCallback)(e=>!!l[e],[l]),v=(0,r.useCallback)(()=>a({}),[]);return{buildDeleteDialogProps:f,checklist:l,checks:c,getCheck:g,hasAllChecks:s,hasChecks:d,multipleItems:h,resetChecks:v,setAllChecks:(0,r.useCallback)(e=>a(i.reduce((t,l)=>(e&&(t[l]=e),t),{})),[i]),setCheck:(0,r.useCallback)((e,t)=>a((0,o.Ay)(e,t||void 0)),[])}}},61931:(e,t,l)=>{l.d(t,{A:()=>a});var n=l(37876),r=l(14232),o=l(39294),u=l(40038);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initial:{actionProceedText:t="",content:l="",titleText:a="",...i}={}}=e,c=(0,r.useRef)(null),[s,d]=(0,r.useState)({actionProceedText:t,content:l,titleText:a}),h=(0,r.useCallback)(e=>d(t=>{let{loading:l,...n}=t;return{...n,loading:e}}),[]),f=(0,r.useCallback)(e=>{var t,l;return null==c||null==(l=c.current)||null==(t=l.setOpen)?void 0:t.call(null,e)},[]),g=(0,r.useCallback)((e,t)=>d({actionProceedText:"",content:(0,n.jsx)(u.A,{...t}),showActionArea:!1,showClose:!0,titleText:e}),[]);return{confirmDialog:(0,r.useMemo)(()=>(0,n.jsx)(o.A,{...i,...s,ref:c}),[s,i]),confirmDialogRef:c,setConfirmDialogLoading:h,setConfirmDialogOpen:f,setConfirmDialogProps:d,finishConfirm:g}}},90065:(e,t,l)=>{l.d(t,{A:()=>u});var n=l(14232),r=l(28850),o=l(74235);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{config:t,onError:l,onData:u,url:a=""}=e,[i,c]=(0,n.useState)(!1);return{fetch:(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,i="".concat(a).concat(e);i&&(c(!0),r.A.get(i,{...t,...n}).then(e=>{let{data:t}=e;null==u||u.call(null,t)}).catch(e=>{let t=(0,o.A)(e);null==l||l.call(null,t)}).finally(()=>{c(!1)}))},[a,t,u,l]),loading:i}}},96446:(e,t,l)=>{l.d(t,{A:()=>g});var n=l(37876),r=l(14232),o=l(28850),u=l(31254),a=l(74235),i=l(45944),c=l(90065),s=l(25351),d=l(61931),h=l(30827);let f=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return"function"==typeof e?e(...l):e},g=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[g]=t,{addHeader:v,editHeader:m,entriesUrl:A,formDialogProps:p,getAddLoading:y,getDeleteErrorMessage:k,getDeleteHeader:x,getDeletePromiseChain:C=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)},getDeleteSuccessMessage:b,getEditLoading:j=e=>e,listEmpty:w,listProps:E,onItemClick:M=(e,t)=>{let{args:l}=t;return e(...l)},onValidateEntriesChange:O,refreshInterval:S=5e3,renderAddForm:D,renderDeleteItem:P,renderEditForm:T,renderListItem:_,entryUrlPrefix:I=A}=g,L=(0,r.useRef)(null),N=(0,r.useRef)(null),{confirmDialog:W,finishConfirm:F,setConfirmDialogLoading:K,setConfirmDialogOpen:R,setConfirmDialogProps:H}=(0,d.A)({initial:{scrollContent:!0}}),[X,B]=(0,r.useState)(!1),[V,q]=(0,r.useState)(),{data:z,mutate:G,loading:J,validating:Q}=(0,h.A)(A,{refreshInterval:S}),{fetch:U,loading:Y}=(0,c.A)({onData:e=>q(e),url:I});(0,r.useEffect)(()=>{null==O||O.call(null,Q)},[O,Q]);let Z=(0,r.useMemo)(()=>f(v),[v]),$=(0,r.useMemo)(()=>f(m,V),[V,m]),ee=(0,r.useMemo)(()=>({add:{open:function(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==L||null==(e=L.current)?void 0:e.setOpen(t)}},confirm:{finish:F,loading:K,open:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return R(e)},prepare:H},edit:{open:function(){var e;let t=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==N||null==(e=N.current)?void 0:e.setOpen(t)}}}),[F,K,R,H]),{buildDeleteDialogProps:et,checks:el,getCheck:en,hasAllChecks:er,hasChecks:eo,multipleItems:eu,resetChecks:ea,setAllChecks:ei,setCheck:ec}=(0,s.A)({list:z}),es=(0,r.useMemo)(()=>({set:q,value:V}),[V]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.A,{allowCheckAll:eu,allowEdit:!0,allowItemButton:X,disableDelete:!eo,edit:X,getListCheckboxProps:()=>({checked:er,onChange:(e,t)=>ei(t)}),getListItemCheckboxProps:e=>({checked:en(e),onChange:(t,l)=>ec(e,l)}),header:!0,listEmpty:w,listItems:z,loading:J,onAdd:()=>{var e;return null==L||null==(e=L.current)?void 0:e.setOpen(!0)},onDelete:()=>{H(et({onProceedAppend:()=>{K(!0),Promise.all(C((e,t)=>e.map(e=>o.A.delete("".concat(t,"/").concat(e))),el,A)).then(()=>{F("Success",b()),G()}).catch(e=>{F("Error",k((0,a.A)(e)))}).finally(()=>{ea()})},getConfirmDialogTitle:x,renderEntry:function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return P(z,...t)}})),R(!0)},onEdit:()=>B(e=>!e),onItemClick:function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return M((e,t)=>{var l;null==N||null==(l=N.current)||l.setOpen(!0),U("/".concat(t))},{args:t,entry:es,tools:ee})},renderListItem:_,...E}),(0,n.jsx)(u.K_,{header:Z,loading:null==y?void 0:y.call(null),ref:L,showClose:!0,...null==p?void 0:p.common,...null==p?void 0:p.add,children:D(ee,z)}),(0,n.jsx)(u.K_,{header:$,loading:j(Y),ref:N,showClose:!0,...null==p?void 0:p.common,...null==p?void 0:p.edit,children:T(ee,V,z)}),W]})}}}]);