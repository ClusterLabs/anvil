"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[603],{19603:(e,l,t)=>{t.d(l,{A:()=>g});var n=t(37876),r=t(14232),o=t(23934),u=t(57547),a=t(5806),c=t(74799),i=t(23192),s=t(57656),d=t(30764),h=t(59664);let f=function(e){for(var l=arguments.length,t=Array(l>1?l-1:0),n=1;n<l;n++)t[n-1]=arguments[n];return"function"==typeof e?e(...t):e},g=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let[g]=l,{addHeader:m,editHeader:v,entriesUrl:A,formDialogProps:p,getAddLoading:y,getDeleteErrorMessage:k,getDeleteHeader:x,getDeletePromiseChain:C=function(e){for(var l=arguments.length,t=Array(l>1?l-1:0),n=1;n<l;n++)t[n-1]=arguments[n];return e(...t)},getDeleteSuccessMessage:b,getEditLoading:j=e=>e,listEmpty:w,listProps:E,onItemClick:M=(e,l)=>{let{args:t}=l;return e(...t)},onValidateEntriesChange:S,refreshInterval:O=5e3,renderAddForm:D,renderDeleteItem:P,renderEditForm:_,renderListItem:I,entryUrlPrefix:L=A}=g,T=(0,r.useRef)(null),N=(0,r.useRef)(null),{confirmDialog:K,finishConfirm:R,setConfirmDialogLoading:W,setConfirmDialogOpen:F,setConfirmDialogProps:H}=(0,d.A)({initial:{scrollContent:!0}}),[X,B]=(0,r.useState)(!1),[V,q]=(0,r.useState)(),{data:z,mutate:G,loading:J,validating:Q}=(0,h.A)(A,{refreshInterval:O}),{fetch:U,loading:Y}=(0,i.A)({onData:e=>q(e),url:L});(0,r.useEffect)(()=>{null==S||S.call(null,Q)},[S,Q]);let Z=(0,r.useMemo)(()=>f(m),[m]),$=(0,r.useMemo)(()=>f(v,V),[V,v]),ee=(0,r.useMemo)(()=>({add:{open:function(){var e;let l=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==T||null==(e=T.current)?void 0:e.setOpen(l)}},confirm:{finish:R,loading:W,open:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return F(e)},prepare:H},edit:{open:function(){var e;let l=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==N||null==(e=N.current)?void 0:e.setOpen(l)}}}),[R,W,F,H]),{buildDeleteDialogProps:el,checks:et,getCheck:en,hasAllChecks:er,hasChecks:eo,multipleItems:eu,resetChecks:ea,setAllChecks:ec,setCheck:ei}=(0,s.A)({list:z}),es=(0,r.useMemo)(()=>({set:q,value:V}),[V]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(c.A,{allowCheckAll:eu,allowEdit:!0,allowItemButton:X,disableDelete:!eo,edit:X,getListCheckboxProps:()=>({checked:er,onChange:(e,l)=>ec(l)}),getListItemCheckboxProps:e=>({checked:en(e),onChange:(l,t)=>ei(e,t)}),header:!0,listEmpty:w,listItems:z,loading:J,onAdd:()=>{var e;return null==T||null==(e=T.current)?void 0:e.setOpen(!0)},onDelete:()=>{H(el({onProceedAppend:()=>{W(!0),Promise.all(C((e,l)=>e.map(e=>o.A.delete("".concat(l,"/").concat(e))),et,A)).then(()=>{R("Success",b()),G()}).catch(e=>{R("Error",k((0,a.A)(e)))}).finally(()=>{ea()})},getConfirmDialogTitle:x,renderEntry:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return P(z,...l)}})),F(!0)},onEdit:()=>B(e=>!e),onItemClick:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];return M((e,l)=>{var t;null==N||null==(t=N.current)||t.setOpen(!0),U("/".concat(l))},{args:l,entry:es,tools:ee})},renderListItem:I,...E}),(0,n.jsx)(u.K_,{header:Z,loading:null==y?void 0:y.call(null),ref:T,showClose:!0,...null==p?void 0:p.common,...null==p?void 0:p.add,children:D(ee,z)}),(0,n.jsx)(u.K_,{header:$,loading:j(Y),ref:N,showClose:!0,...null==p?void 0:p.common,...null==p?void 0:p.edit,children:_(ee,V,z)}),K]})}},23192:(e,l,t)=>{t.d(l,{A:()=>u});var n=t(14232),r=t(23934),o=t(5806);let u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{config:l,onError:t,onData:u,url:a=""}=e,[c,i]=(0,n.useState)(!1);return{fetch:(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,c="".concat(a).concat(e);c&&(i(!0),r.A.get(c,{...l,...n}).then(e=>{let{data:l}=e;null==u||u.call(null,l)}).catch(e=>{let l=(0,o.A)(e);null==t||t.call(null,l)}).finally(()=>{i(!1)}))},[a,l,u,t]),loading:c}}},30764:(e,l,t)=>{t.d(l,{A:()=>a});var n=t(37876),r=t(14232),o=t(75925),u=t(5755);let a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initial:{actionProceedText:l="",content:t="",titleText:a="",...c}={}}=e,i=(0,r.useRef)(null),[s,d]=(0,r.useState)({actionProceedText:l,content:t,titleText:a}),h=(0,r.useCallback)(e=>d(l=>{let{loading:t,...n}=l;return{...n,loading:e}}),[]),f=(0,r.useCallback)(e=>{var l,t;return null==i||null==(t=i.current)||null==(l=t.setOpen)?void 0:l.call(null,e)},[]),g=(0,r.useCallback)((e,l)=>d({actionProceedText:"",content:(0,n.jsx)(u.A,{...l}),showActionArea:!1,showClose:!0,titleText:e}),[]);return{confirmDialog:(0,r.useMemo)(()=>(0,n.jsx)(o.A,{...c,...s,ref:i}),[s,c]),confirmDialogRef:i,setConfirmDialogLoading:h,setConfirmDialogOpen:f,setConfirmDialogProps:d,finishConfirm:g}}},52627:(e,l,t)=>{t.d(l,{A:()=>k});var n=t(37876),r=t(12981),o=t(12572),u=t(63009),a=t(40123),c=t.n(a),i=t(96043),s=t(48440),d=t(31465),h=t(51677);let f=e=>{let{entry:l}=e;return(0,n.jsx)(h.NA,{whiteSpace:"nowrap",children:String(l)})},g=e=>{let{entry:l,key:t}=e;return i.sX.test(t)?(0,n.jsx)(h.EN,{wrapper:"mono",children:String(l)}):f(e)},m=e=>{let{entry:l,hasPassword:t}=e;return c()(l)?(0,n.jsx)(h.a3,{children:"none"}):t?g(e):f(e)},v=e=>{let{depth:l,entry:t,getLabel:o,hasPassword:u,key:a,nest:c,renderValue:i}=e;return(0,n.jsxs)(d.A,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,n.jsx)(h.a3,{children:o({cap:s.A,depth:l,entry:t,hasPassword:u,key:a})}),(0,n.jsx)(r.A,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!c&&i(m,{depth:l,entry:t,hasPassword:u,key:a})})]})},A=e=>{let{key:l}=e;return/confirm|uuid/i.test(l)},p=e=>null!==e&&"object"==typeof e&&!c()(e),y=e=>{let{depth:l=0,entries:t,getEntryLabel:r,getListProps:a,getListItemProps:c,hasPassword:i,listKey:s,maxDepth:d,renderEntry:h,renderEntryValue:f,skip:g}=e,m=[];Object.entries(t).forEach(e=>{let[t,u]=e,a="form-summary-entry-".concat(t),s=p(u),v=s?null:u,k={depth:l,entry:v,hasPassword:i,key:t};g(A,k)||m.push((0,n.jsx)(o.Ay,{sx:{paddingLeft:"".concat(l,"em")},...null==c?void 0:c.call(null,k),children:h({depth:l,entry:v,getLabel:r,hasPassword:i,key:t,nest:s,renderValue:f})},a)),s&&l<d&&m.push(y({depth:l+1,entries:u,getEntryLabel:r,hasPassword:i,listKey:t,maxDepth:d,renderEntry:h,renderEntryValue:f,skip:g}))});let v="form-summary-list-".concat(null!=s?s:"root");return(0,n.jsx)(u.A,{dense:!0,disablePadding:!0,...null==a?void 0:a.call(null,{depth:l,entries:t,key:s}),children:m},v)},k=e=>{let{entries:l,getEntryLabel:t=e=>{let{cap:l,key:t}=e;return l(t)},getListProps:n,getListItemProps:r,hasPassword:o=!1,maxDepth:u=3,renderEntry:a=v,renderEntryValue:c=function(e){for(var l=arguments.length,t=Array(l>1?l-1:0),n=1;n<l;n++)t[n-1]=arguments[n];return e(...t)},skip:i=function(e){for(var l=arguments.length,t=Array(l>1?l-1:0),n=1;n<l;n++)t[n-1]=arguments[n];return e(...t)}}=e;return y({entries:l,getEntryLabel:t,getListProps:n,getListItemProps:r,hasPassword:o,maxDepth:u,renderEntry:a,renderEntryValue:c,skip:i})}},57656:(e,l,t)=>{t.d(l,{A:()=>a});var n=t(37876),r=t(14232),o=t(12698),u=t(52627);let a=e=>{let{list:l={}}=e,[t,a]=(0,r.useState)({}),c=(0,r.useMemo)(()=>Object.keys(l),[l]),i=(0,r.useMemo)(()=>Object.keys(t),[t]),s=(0,r.useMemo)(()=>i.length===c.length,[i.length,c.length]),d=(0,r.useMemo)(()=>i.length>0,[i.length]),h=(0,r.useMemo)(()=>c.length>1,[c.length]),f=(0,r.useCallback)(e=>{let{confirmDialogProps:l={},formSummaryProps:r={},getConfirmDialogTitle:o,onProceedAppend:a,renderEntry:c}=e;return{actionProceedText:"Delete",content:(0,n.jsx)(u.A,{entries:t,maxDepth:0,renderEntry:c,...r}),onProceedAppend:a,proceedColour:"red",titleText:o(i.length),...l}},[t,i.length]),g=(0,r.useCallback)(e=>!!t[e],[t]),m=(0,r.useCallback)(()=>a({}),[]);return{buildDeleteDialogProps:f,checklist:t,checks:i,getCheck:g,hasAllChecks:s,hasChecks:d,multipleItems:h,resetChecks:m,setAllChecks:(0,r.useCallback)(e=>a(c.reduce((l,t)=>(e&&(l[t]=e),l),{})),[c]),setCheck:(0,r.useCallback)((e,l)=>a((0,o.Ay)(e,l||void 0)),[])}}}}]);