"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{19383:(e,t,s)=>{s.d(t,{A:()=>a});var r=s(37876),n=s(12981),i=s(14232);let a=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let[a]=t,{changingTabId:l,children:o,retain:d=!1,tabId:c}=a,h=(0,i.useMemo)(()=>l===c,[l,c]),u=(0,i.useMemo)(()=>d?(0,r.jsx)(n.A,{sx:{display:h?"initial":"none"},children:o}):h&&o,[o,h,d]);return(0,r.jsx)(r.Fragment,{children:u})}},44981:(e,t,s)=>{s.d(t,{A:()=>n});let r=e=>{let{free:t,size:s,used:r,...n}=e,i=BigInt(0),a=BigInt(0),l=BigInt(0);try{i=BigInt(t),a=BigInt(s),l=r?BigInt(r):a-i}catch(e){}return{...n,free:i,size:a,used:l}},n=e=>{let{storage:t,...s}=e,n=Object.values(t.volumeGroups).reduce((e,t)=>(e[t.uuid]=r(t),e),{}),i=r(t.volumeGroupTotals);return{...s,storage:{volumeGroups:n,volumeGroupTotals:i}}}},58085:(e,t,s)=>{s.d(t,{A:()=>I,g:()=>el});var r=s(37876),n=s(64410),i=s(14232),a=s(44981),l=s(30198),o=s(51677);let d=e=>{let{host:t}=e,s=(0,i.useMemo)(()=>[{header:"Name",value:t.name},{header:"UUID",value:t.uuid},{header:"Status",value:t.status.system}].map(e=>{let{header:t,value:s}=e;return(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(n.Ay,{columnSpacing:"1em",container:!0,children:[(0,r.jsx)(n.Ay,{item:!0,width:"10em",children:(0,r.jsx)(o.a3,{children:t})}),(0,r.jsx)(n.Ay,{item:!0,xs:!0,children:(0,r.jsx)(o.NA,{children:s})})]})},"general-".concat(t))}),[t.name,t.status.system,t.uuid]);return(0,r.jsx)(n.Ay,{container:!0,rowSpacing:"0.4em",children:s})};var c=s(88824),h=s(2126),u=s(19659),m=s(10110);let x=e=>{let{host:t}=e,s=(0,i.useMemo)(()=>Object.values(t.drbdResources).reduce((e,t)=>(e[t.name]=t,e),{}),[t.drbdResources]),n=(0,i.useCallback)((e,n)=>{let{[n]:i}=t.servers.all;if(!i)return;let{name:a}=i,{[a]:l}=s;return(0,r.jsxs)(c.A,{alignItems:"center",columnSpacing:"1em",container:!0,width:"100%",children:[(0,r.jsx)(c.A,{children:(0,r.jsx)(u.A,{href:"/server?name=".concat(a),noWrap:!0,children:a})}),(0,r.jsxs)(c.A,{size:"grow",sx:{["& > .".concat(h.A.container)]:{alignItems:"center",width:"100%",["& > .".concat(h.A.root,":nth-child(odd)")]:{width:"5em"}}},children:[(0,r.jsxs)(c.A,{columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(c.A,{children:(0,r.jsx)(o.a3,{children:"Connection"})}),(0,r.jsx)(c.A,{size:"grow",children:(0,r.jsx)(o.NA,{children:l.connection.state})})]}),(0,r.jsxs)(c.A,{columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(c.A,{children:(0,r.jsx)(o.a3,{children:"Disk"})}),(0,r.jsx)(c.A,{size:"grow",children:(0,r.jsx)(o.NA,{children:l.replication.state})})]})]})]})},[s,t.servers.all]),a=(0,i.useMemo)(()=>(0,r.jsx)(m.A,{header:"Configured",listEmpty:"No server(s) configured.",listItems:t.servers.configured,renderListItem:n}),[t.servers.configured,n]),l=(0,i.useMemo)(()=>(0,r.jsx)(m.A,{header:"Syncing",listEmpty:"No server(s) syncing.",listItems:t.servers.replicating,renderListItem:n}),[t.servers.replicating,n]),d=(0,i.useMemo)(()=>(0,r.jsx)(m.A,{header:"Running",listEmpty:"No server(s) running.",listItems:t.servers.running,renderListItem:n}),[t.servers.running,n]);return(0,r.jsxs)(c.A,{container:!0,spacing:"1em",sx:{width:"100%",["& > .".concat(h.A.root)]:{width:{xs:"100%",lg:"50%",xl:"calc(100% / 3)"}}},children:[(0,r.jsx)(c.A,{size:"grow",children:a}),(0,r.jsx)(c.A,{size:"grow",children:l}),(0,r.jsx)(c.A,{size:"grow",children:d})]})};var j=s(69647),g=s(64632);let A=e=>{let{host:t}=e,{volumeGroups:s,volumeGroupTotals:n}=t.storage,a=(0,i.useMemo)(()=>{let{free:e,size:t,used:s}=n,i=(0,j.zz)(e,{toUnit:"ibyte"}),a=(0,j.zz)(t,{toUnit:"ibyte"}),l=(0,j.zz)(s,{toUnit:"ibyte"});return(0,r.jsxs)(c.A,{width:"100%",children:[(0,r.jsx)(o.a3,{children:"Total"}),(0,r.jsx)(g.Fn,{volume:n}),(0,r.jsxs)(c.A,{container:!0,width:"100%",children:[(0,r.jsx)(c.A,{children:(0,r.jsxs)(o.a3,{children:["Used: ",l]})}),(0,r.jsx)(c.A,{size:"grow",textAlign:"center",children:(0,r.jsxs)(o.a3,{fontWeight:400,children:["Free: ",i]})}),(0,r.jsx)(c.A,{textAlign:"right",children:(0,r.jsxs)(o.a3,{children:["Size: ",a]})})]})]})},[n]),d=(0,i.useMemo)(()=>{let e=Object.values(s).map(e=>{let{free:t,internalUuid:s,name:n,size:i,uuid:a}=e,l=(0,j.zz)(t,{toUnit:"ibyte"}),d=(0,j.zz)(i,{toUnit:"ibyte"});return(0,r.jsx)(c.A,{size:"grow",children:(0,r.jsxs)(c.A,{alignItems:"center",container:!0,width:"100%",children:[(0,r.jsx)(c.A,{size:"grow",children:(0,r.jsx)(o.a3,{noWrap:!0,children:n})}),(0,r.jsx)(c.A,{children:(0,r.jsxs)(o.a3,{variant:"caption",children:["Free ",(0,r.jsx)(o.kp,{children:l}),"/",(0,r.jsx)(o.kp,{edge:"end",children:d})]})}),(0,r.jsx)(c.A,{width:"100%",children:(0,r.jsx)(g.Fn,{thin:!0,volume:e})}),(0,r.jsx)(c.A,{width:"100%",children:(0,r.jsx)(o.NA,{noWrap:!0,variant:"caption",children:s})})]})},"vg-".concat(a))});return(0,r.jsx)(c.A,{width:"100%",children:(0,r.jsx)(c.A,{container:!0,spacing:"1em",sx:{width:"100%",["& > .".concat(h.A.root)]:{width:{xs:"100%",lg:"50%",xl:"calc(100% / 3)"}}},children:e})})},[s]);return(0,r.jsxs)(c.A,{alignItems:"center",container:!0,spacing:"1em",width:"100%",children:[a,(0,r.jsx)(c.A,{children:(0,r.jsx)(o.a3,{children:"Volume Groups"})}),(0,r.jsx)(c.A,{size:"grow",children:(0,r.jsx)(l.A,{})}),d]})};var p=s(23437),v=s(79982),f=s(65832),y=s(19383),w=s(98927),b=s(59664);let S={general:{label:"General",value:"general"},servers:{label:"Servers",value:"servers"},storage:{label:"Storage",value:"storage"}},I=e=>{let{uuid:t}=e,[s,c]=(0,i.useState)(S.general.value),{altData:h,loading:u}=(0,b.A)("/host/".concat(t),{mod:a.A,periodic:!0});return(0,r.jsxs)(p.Zk,{children:[u&&(0,r.jsx)(v.A,{mt:0}),h&&(0,r.jsxs)(n.Ay,{container:!0,spacing:"1em",children:[(0,r.jsx)(n.Ay,{item:!0,width:{xs:"100%",sm:"14em",md:"20em"},children:(0,r.jsx)(n.Ay,{container:!0,rowSpacing:"1em",children:(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(w.A,{onChange:(e,t)=>{c(t)},orientation:"vertical",value:s,children:[(0,r.jsx)(f.A,{...S.general,label:h.short}),(0,r.jsx)(f.A,{disabled:!0,icon:(0,r.jsx)(l.A,{sx:{width:"100%"}}),label:""}),(0,r.jsx)(f.A,{...S.servers}),(0,r.jsx)(f.A,{...S.storage})]})})})}),(0,r.jsx)(n.Ay,{display:{xs:"none",sm:"initial"},item:!0,children:(0,r.jsx)(l.A,{orientation:"vertical"})}),(0,r.jsxs)(n.Ay,{item:!0,xs:!0,children:[(0,r.jsxs)(y.A,{changingTabId:s,tabId:S.general.value,children:[(0,r.jsx)(p.aO,{children:(0,r.jsx)(o.HM,{children:S.general.label})}),(0,r.jsx)(d,{host:h})]}),(0,r.jsxs)(y.A,{changingTabId:s,tabId:S.servers.value,children:[(0,r.jsx)(p.aO,{children:(0,r.jsx)(o.HM,{children:S.servers.label})}),(0,r.jsx)(x,{host:h})]}),(0,r.jsxs)(y.A,{changingTabId:s,tabId:S.storage.value,children:[(0,r.jsx)(p.aO,{children:(0,r.jsx)(o.HM,{children:S.storage.label})}),(0,r.jsx)(A,{host:h})]})]})]})]})};var k=s(19603),C=s(57547),M=s(52627),P=s(42658),z=s(31465);let F={online:"ok",offline:"off"},H={dr:"DR",node:"Subnode"},D=e=>{var t;let{data:s}=e,{hostName:n,hostStatus:i,hostType:a,shortHostName:d}=s;return(0,r.jsxs)(z.A,{row:!0,spacing:".5em",children:[(0,r.jsx)(P.A,{colour:null!=(t=F[i])?t:"warning",sx:{alignSelf:"stretch",height:"auto"}}),(0,r.jsxs)(z.A,{flexGrow:1,spacing:0,children:[(0,r.jsxs)(z.A,{sm:"row",spacing:".5em",children:[(0,r.jsx)(o.a3,{children:H[a]}),(0,r.jsx)(o.NA,{whiteSpace:"nowrap",children:d}),(0,r.jsx)(l.A,{orientation:"vertical",sx:{alignSelf:"stretch",height:"auto"}}),(0,r.jsx)(o.NA,{sx:{display:{xs:"none",sm:"flex"}},whiteSpace:"nowrap",children:n})]}),(0,r.jsx)(o.a3,{children:i})]})]})};var R=s(22481),T=s(63190),U=s(23934),O=s(5806),E=s(71401),N=s(69267),q=s(32378),B=s(35656),Y=s(11502),L=s(63664),V=s(82110),G=s(15804),W=s(90890);let K=function(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];let[n]=t,{formControlProps:a,formControlLabelProps:l,formLabelProps:d,id:c,label:h,name:u,onChange:m,radioItems:x,radioProps:{sx:j,...g}={},radioGroupProps:A,value:p}=n,v=(0,i.useMemo)(()=>"string"==typeof h?(0,r.jsx)(o.a3,{children:h}):h,[h]),f=(0,i.useMemo)(()=>Object.entries(x).map(e=>{let[t,{label:s,value:n}]=e,i="string"==typeof s?(0,r.jsx)(o.a3,{children:s}):s;return(0,r.jsx)(B.A,{control:(0,r.jsx)(L.A,{...g,sx:{["&.".concat(V.A.root)]:{color:W.Qu},...j}}),value:n,label:i,...l},"".concat(c,"-").concat(t))}),[l,c,x,j,g]);return(0,r.jsxs)(q.A,{...a,children:[(0,r.jsx)(Y.A,{...d,children:v}),(0,r.jsx)(G.A,{id:c,name:u,onChange:m,row:!0,value:p,...A,children:f})]})};var Z=s(91408),_=s(45566);let Q=Z.Ik().shape({enterpriseKey:(0,_.ZC)().optional(),name:Z.Yj().required(),redhatConfirmPassword:Z.Yj().when("redhatPassword",(e,t)=>String(e).length>0?t.required().oneOf([Z.KR("redhatPassword")]):t.optional()),redhatPassword:Z.Yj().when("redhatUsername",(e,t)=>String(e).length>0?t.required():t.optional()),redhatUsername:Z.Yj().when("redhatPassword",(e,t)=>String(e).length>0?t.required():t.optional()),target:Z.Yj().required(),type:Z.Yj().oneOf(["dr","subnode"]).required(),uuid:(0,_.ZC)().required()},[["redhatUsername","redhatPassword"]]),J=Z.Ik({password:Z.Yj().required(),target:Z.Yj().required()});var X=s(4064),$=s(71986);let ee={subnode:{label:"Subnode",value:"subnode"},dr:{label:"Disaster Recovery (DR) host",value:"dr"}},et=e=>{let{host:t,setResponse:s,tools:a}=e,{disabledSubmit:l,formik:o,formikErrors:d,handleChange:c}=(0,$.A)({initialValues:{name:t.hostName,password:t.hostPassword,target:t.target,type:"",uuid:t.hostUUID},onSubmit:(e,t)=>{let{setSubmitting:n}=t,{enterpriseKey:i,name:l,password:o,redhatPassword:d,redhatUsername:c,target:h,type:u,uuid:m}=e;a.confirm.prepare({actionProceedText:"Prepare",content:(0,r.jsx)(M.A,{entries:e,hasPassword:!0}),onCancelAppend:()=>n(!1),onProceedAppend:()=>{a.confirm.loading(!0),U.A.put("/host/prepare",{enterprise:{uuid:i},host:{name:l,password:o,ssh:{},type:"subnode"===u?"node":u,uuid:m},redhat:{password:d,user:c},target:h}).then(()=>{a.confirm.finish("Success",{children:(0,r.jsxs)(r.Fragment,{children:["Started job to prepare host at ",h,"."]})}),a.add.open(!1),setTimeout(s,500)}).catch(e=>{let t=(0,O.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to prepare host at ",h,". ",t.children]}),a.confirm.finish("Error",t),n(!1)})},titleText:"Prepare host at ".concat(e.target," with the following?")}),a.confirm.open()},validationSchema:Q}),h=(0,i.useMemo)(()=>"enterpriseKey",[]),u=(0,i.useMemo)(()=>"name",[]),m=(0,i.useMemo)(()=>"redhatConfirmPassword",[]),x=(0,i.useMemo)(()=>"redhatPassword",[]),j=(0,i.useMemo)(()=>"redhatUsername",[]),g=(0,i.useMemo)(()=>"type",[]),A=(0,i.useMemo)(()=>t.isInetConnected&&/rhel/i.test(t.hostOS)&&!t.isOSRegistered,[t.hostOS,t.isInetConnected,t.isOSRegistered]);return(0,r.jsxs)(n.Ay,{columns:{xs:1,sm:2},component:"form",container:!0,onSubmit:e=>{e.preventDefault(),o.submitForm()},spacing:"1em",children:[(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsx)(X.A,{input:(0,r.jsx)(K,{id:g,label:"Host type",name:g,onChange:c,radioItems:ee,value:o.values.type})})}),(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{id:u,label:"Host name",name:u,onChange:c,required:!0,value:o.values.name})})}),(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{id:h,label:"Alteeve enterprise key",name:h,onChange:c,value:o.values.enterpriseKey})})}),A&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{disableAutofill:!0,id:j,label:"RedHat username",name:j,onChange:c,value:o.values.redhatUsername})})}),(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{disableAutofill:!0,id:x,label:"RedHat password",name:x,onChange:c,type:"password",value:o.values.redhatPassword})})}),(0,r.jsx)(n.Ay,{display:{xs:"none",sm:"initial"},item:!0,sm:1}),(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{disableAutofill:!0,id:m,label:"Confirm RedHat password",name:m,onChange:c,type:"password",value:o.values.redhatConfirmPassword})})})]}),(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsx)(E.A,{count:1,messages:d})}),(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsx)(T.A,{actions:[{background:"blue",children:"Prepare host",disabled:l,type:"submit"}]})})]})};var es=s(75629);let er=e=>{let{jobs:t,progress:s}=e,n=(0,i.useMemo)(()=>Object.keys(t).filter(e=>t[e].local),[t]);return(0,r.jsx)(es.A,{getLabel:e=>100===e?"Finished deletion.":"Deleting...",progress:{set:s.setTotal,value:s.total},uuids:n})},en=e=>{let{setResponse:t,tools:s}=e,a=(0,i.useRef)(null),[l,d]=(0,i.useState)(),[c,h]=(0,i.useState)(0),[u,m]=(0,i.useState)(!1),[x,j]=(0,i.useState)([]),g=(0,i.useCallback)(e=>{var t,s;return null==(s=a.current)||null==(t=s.setMessage)?void 0:t.call(null,"api",e)},[]),{disabledSubmit:A,formik:p,formikErrors:f,handleChange:y}=(0,$.A)({initialValues:{password:"",target:""},onSubmit:(e,n)=>{let{setSubmitting:i}=n;g(),m(!0),j([]),t(void 0),d(void 0);let{password:a,target:l}=e;U.A.put("/command/inquire-host",{password:a,target:l}).then(e=>{let{data:n}=e,{badSshKeys:i,isConnected:c}=n;if(i){g({children:(0,r.jsxs)(r.Fragment,{children:["Host identification at ",l," changed. If this is valid, please delete the conflicting SSH host key."]}),type:"warning"}),j([{background:"red",children:"Delete keys",onClick:()=>{s.confirm.prepare({actionProceedText:"Delete",content:(0,r.jsxs)(o.a3,{children:["There's a different host key on ",l,", which could mean a MITM attack. But if this change is expected, you can delete the known host key(s) to resolve the conflict."]}),onProceedAppend:()=>{s.confirm.loading(!0),U.A.delete("/ssh-key/conflict",{data:i}).then(e=>{s.confirm.finish("Success",{children:(0,r.jsxs)(r.Fragment,{children:["Started job to delete host key(s) for ",l,"."]})}),g(),j([]);let{data:t}=e;t&&d(t.jobs)}).catch(e=>{let t=(0,O.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to delete host key(s). ",t.children]}),s.confirm.finish("Error",t)})},proceedColour:"red",titleText:"Delete all known SSH host key(s) for ".concat(l,"?")}),s.confirm.open(!0)},type:"button"}]);return}if(!c)return void g({children:(0,r.jsx)(r.Fragment,{children:"Failed to connect. Please make sure the credentials are correct, and the host is reachable from this striker."}),type:"warning"});t({...n,hostPassword:a,target:l}),g()}).catch(e=>{let t=(0,O.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to access ",l,". ",t.children]}),g(t)}).finally(()=>{i(!1),m(!1)})},validationSchema:J}),w=(0,i.useMemo)(()=>({target:"target",password:"password"}),[]),b=(0,i.useMemo)(()=>!!l&&c<100,[l,c]);return(0,r.jsxs)(n.Ay,{component:"form",container:!0,columns:{xs:1,sm:2},onSubmit:e=>{e.preventDefault(),p.submitForm()},spacing:"1em",children:[(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{disableAutofill:!0,id:w.target,label:"IP address",name:w.target,onChange:y,required:!0,value:p.values.target})})}),(0,r.jsx)(n.Ay,{item:!0,xs:1,children:(0,r.jsx)(X.A,{input:(0,r.jsx)(N.A,{disableAutofill:!0,id:w.password,label:"Password",name:w.password,onChange:y,required:!0,type:"password",value:p.values.password})})}),l&&(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsx)(er,{jobs:l,progress:{total:c,setTotal:h}})}),(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:(0,r.jsx)(E.A,{count:1,messages:f,ref:a})}),(0,r.jsx)(n.Ay,{item:!0,width:"100%",children:u?(0,r.jsx)(v.A,{mt:0}):(0,r.jsx)(T.A,{actions:[...x,{background:"blue",children:"Test access",disabled:A||b,type:"submit"}]})})]})},ei=e=>{let{onValidateHostsChange:t}=e,[s,n]=(0,i.useState)();return(0,r.jsx)(k.A,{formDialogProps:{common:{onClose:function(e){let{handlers:{base:t}}=e;for(var s=arguments.length,r=Array(s>1?s-1:0),i=1;i<s;i++)r[i-1]=arguments[i];null==t||t.call(null,...r),setTimeout(n,500)}}},addHeader:"Initialize host",editHeader:"",entriesUrl:"/host?type=dr&type=subnode",entryUrlPrefix:"/host",getDeleteErrorMessage:function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];return{...s,children:(0,r.jsxs)(r.Fragment,{children:["Failed to delete host(s). ",e]})}},getDeleteHeader:e=>"Delete the following ".concat(e," host(s)?"),getDeleteSuccessMessage:()=>({children:(0,r.jsx)(r.Fragment,{children:"Successfully deleted host(s)"})}),listEmpty:"No host(s) found.",listProps:{allowAddItem:!0,allowEdit:!1,allowItemButton:!0},onValidateEntriesChange:t,renderAddForm:e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(en,{setResponse:n,tools:e}),s&&(0,r.jsx)(et,{host:s,setResponse:n,tools:e})]}),renderDeleteItem:(e,t)=>{let{key:s}=t,n=null==e?void 0:e[s];return(0,r.jsx)(o.a3,{children:null==n?void 0:n.shortHostName})},renderEditForm:(e,t)=>t&&(0,r.jsx)(C.Ji,{children:(0,r.jsx)(M.A,{entries:t,renderEntryValue:function(e){for(var t=arguments.length,s=Array(t>1?t-1:0),n=1;n<t;n++)s[n-1]=arguments[n];let{0:{entry:i,key:a}}=s;return"command"===a?(0,r.jsx)(R.A,{iconProps:{fontSize:"small"},mapPreset:"copy",onClick:()=>navigator.clipboard.writeText(String(i)),size:"small"}):e(...s)},hasPassword:!0})}),renderListItem:(e,t)=>(0,r.jsx)(D,{data:t})})};var ea=s(14361);let el=()=>{let[e,t]=(0,i.useState)(!1);return(0,r.jsxs)(p.Zk,{children:[(0,r.jsxs)(p.aO,{children:[(0,r.jsx)(o.HM,{children:"Hosts"}),(0,r.jsx)(ea.A,{syncing:e})]}),(0,r.jsx)(ei,{onValidateHostsChange:s=>{s!==e&&t(s)}})]})}},65832:(e,t,s)=>{s.d(t,{A:()=>h});var r=s(37876),n=s(17138),i=s(38214),a=s(54773),l=s(14232),o=s(90890),d=s(51677);let c=(0,a.Ay)(n.A)({borderRadius:o.ax,color:o.Qu,padding:".4em .8em",textTransform:"none",["&.".concat(i.A.selected)]:{color:o.ft}}),h=e=>{let{label:t,...s}=e,n=(0,l.useMemo)(()=>"string"==typeof t?(0,r.jsx)(d.a3,{inheritColour:!0,children:t}):t,[t]);return(0,r.jsx)(c,{label:n,...s})}},75629:(e,t,s)=>{s.d(t,{A:()=>u});var r=s(37876),n=s(64410),i=s(14232),a=s(5755),l=s(37422),o=s(79982),d=s(46316),c=s(51677),h=s(59664);let u=e=>{let{commands:t,getLabel:s,names:u,progress:m,uuids:x}=e,j=(0,i.useMemo)(()=>{let e=new URLSearchParams;return u&&u.forEach(t=>{e.append("name",t)}),t&&t.forEach(t=>{e.append("command",t)}),e.toString()},[t,u]),{altData:g,loading:A}=(0,h.A)("/job?".concat(j),{mod:e=>{let t,s=(t=x?x.reduce((t,s)=>{let{[s]:r}=e;return r&&t.push(r),t},[]):Object.values(e)).reduce((e,t)=>e+t.progress,0);return m.set(s/t.length),t},refreshInterval:3e3}),p=(0,i.useMemo)(()=>(0,d.A)(null==s?void 0:s.call(null,m.value),c.a3),[s,m.value]);return A?(0,r.jsx)(o.A,{mt:0}):g?g.length?(0,r.jsxs)(n.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[...g.map(e=>(0,r.jsx)(n.Ay,{item:!0,children:(0,r.jsx)(l.A,{error:!!e.error.count,slotProps:{pie:{size:"1em"}},value:e.progress})},"".concat(e.uuid,"-progress"))),(0,r.jsx)(n.Ay,{item:!0,xs:!0,children:p})]}):null:(0,r.jsx)(a.A,{type:"warning",children:"Failed to get jobs."})}},98927:(e,t,s)=>{s.d(t,{A:()=>x});var r=s(37876),n=s(38214),i=s(58619),a=s(37892),l=s(48061),o=s(30566),d=s(54773),c=s(14232),h=s(90890);let u="1.8em",m=(0,d.Ay)(i.A)({minHeight:"1em",["&.".concat(a.A.vertical)]:{minHeight:u,["& .".concat(n.A.root)]:{alignItems:"flex-start",minHeight:u,paddingLeft:"2em"},["& .".concat(a.A.indicator)]:{right:"initial"}},["& .".concat(n.A.root)]:{minHeight:"1em"},["& .".concat(a.A.indicator)]:{backgroundColor:h.ft,borderRadius:h.ax}}),x=e=>{let{orientation:t,variant:s="fullWidth",...n}=e,i=(0,o.A)(),a=(0,c.useCallback)(e=>i.breakpoints.up(e),[i]),d=(0,l.A)(a("xs")),h=(0,l.A)(a("sm")),u=(0,l.A)(a("md")),x=(0,l.A)(a("lg")),j=(0,l.A)(a("xl")),g=(0,c.useMemo)(()=>[["xs",d],["sm",h],["md",u],["lg",x],["xl",j]],[x,u,h,j,d]),A=(0,c.useMemo)(()=>{let e;return"object"==typeof t?g.some(s=>{let[r,n]=s;return n&&t[r]&&(e=t[r]),!n}):e=t,e},[g,t]);return(0,r.jsx)(m,{orientation:A,variant:s,...n})}},99955:(e,t,s)=>{s.d(t,{A:()=>r});let r=function(e){let{fallbackValue:t="",joinSeparator:s="",limit:r=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e instanceof Array?e.slice(0,r).join(s):null!=e?e:t}}}]);