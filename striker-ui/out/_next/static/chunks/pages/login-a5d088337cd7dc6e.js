(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{667:(e,l,t)=>{"use strict";t.d(l,{A:()=>a});var n=t(37876),r=t(14232),u=t(12981),s=t(64410);let a=e=>{let{calculateItemBreakpoints:l=()=>({xs:1}),layout:t,wrapperBoxProps:a,...i}=e,c=(0,r.useMemo)(()=>Object.entries(t).map((e,t)=>{let[n,u]=e;return u?(0,r.createElement)(s.Ay,{...l(t,n),key:n,item:!0,...u}):void 0}),[l,t]);return(0,n.jsx)(u.A,{...a,children:(0,n.jsx)(s.Ay,{container:!0,...i,children:c})})}},12698:(e,l,t)=>{"use strict";t.d(l,{Ay:()=>u,WT:()=>r});let n=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let[,n,r,u]=l;void 0!==u&&(n[r]=u)},r=function(e,l){let{set:t=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let r={};return Object.keys(n).forEach(u=>{e.test(u)?t(n,r,u,l):r[u]=n[u]}),r}},u=function(e,l){let{guard:t=()=>!0,set:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let{[e]:u,...s}=n,a={...s};return t(n,e,l)&&r(n,a,e,l),a}}},44193:(e,l,t)=>{"use strict";t.d(l,{A:()=>i});var n=t(14232),r=t(23934),u=t(12698),s=t(5806);let a=(e,l)=>{let{key:t,re:n,replace:r,value:s}=l;return t?e[t]===s?e:(0,u.Ay)(t,s)(e):n?(0,u.WT)(n,s)(e):r||e},i=(e,l)=>{var t;let[u,i]=(0,n.useState)(!1),[c,o]=(0,n.useReducer)(a,{}),d=(0,n.useCallback)(e=>{var t,n;return null==l||null==(n=l.current)||null==(t=n.setMessage)?void 0:t.call(null,"api",e)},[l]),p=(0,n.useCallback)((e,t)=>{var n,r;null==l||null==(r=l.current)||null==(n=r.setMessage)||n.call(null,String(e),t)},[l]),h=(0,n.useCallback)((e,t)=>{var n,r;null==l||null==(r=l.current)||null==(n=r.setMessageRe)||n.call(null,e,t)},[l]),m=(0,n.useCallback)(e=>{o({replace:e})},[]),g=(0,n.useCallback)((e,l)=>{o({key:e,value:l})},[]),f=(0,n.useCallback)((e,l)=>{o({re:e,value:l})},[]),b=(0,n.useCallback)(e=>{p(e),g(e)},[p,g]),v=(0,n.useCallback)(e=>{h(e),f(e)},[h,f]),x=(0,n.useCallback)(e=>l=>{g(e,l)},[g]),k=(0,n.useCallback)(e=>l=>{let{isValid:t}=l;g(e,t)},[g]),y=(0,n.useCallback)(e=>()=>{b(e)},[b]),C=(0,n.useCallback)(e=>{let{body:n,getErrorMsg:u,msgKey:a="api",method:c,onError:o,onSuccess:d,setMsg:p=null==l||null==(t=l.current)?void 0:t.setMessage,successMsg:h,url:m}=e;i(!0),r.A.request({data:n,method:c,url:m}).then(()=>{null==p||p.call(null,a,{children:h,type:"info"}),null==d||d.call(null)}).catch(e=>{let l=(0,s.A)(e);l.children=u(l.children),null==p||p.call(null,a,l),null==o||o.call(null)}).finally(()=>{i(!1)})},[l,i]),j=(0,n.useMemo)(()=>Object.values(c).some(e=>!e),[c]);return{buildFinishInputTestBatchFunction:x,buildInputFirstRenderFunction:k,buildInputUnmountFunction:y,formValidity:c,isFormInvalid:j,isFormSubmitting:u,setApiMessage:d,setFormValidity:m,setMessage:p,setMessageRe:h,setValidity:g,setValidityRe:f,submitForm:C,unsetKey:b,unsetKeyRe:v}}},60641:(e,l,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(64404)}])},64404:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>X});var n=t(37876),r=t(77328),u=t.n(r),s=t(89099),a=t(23934),i=t(12981),c=t(14232),o=t(48171),d=t(53198),p=t(31465),h=t(667),m=t(4917),g=t.n(m),f=t(44076);let b=function(){let{postSet:e,preSet:l,set:t,setType:n="string",valueKey:r="value"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u=>{let{target:{[r]:s}}=u,a=f.A[n](s);null==l||l.call(null,u),null==t||t.call(null,a),null==e||e.call(null,u)}};var v=t(96043),x=t(51677);let k=e=>{let{value:l}=e;return!!l&&String(l).length>0},y=function(e,l){let{isRequired:t,onFinishBatch:r,...u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;return{defaults:{...u,onSuccess:l},isRequired:t,onFinishBatch:r,tests:[{test:k},{onFailure:function(){for(var l=arguments.length,t=Array(l),r=0;r<l;r++)t[r]=arguments[r];s((0,n.jsxs)(n.Fragment,{children:[e," cannot contain single-quote (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"'"}),"), double-quote (",(0,n.jsx)(x.kp,{inheritColour:!0,text:'"'}),"), slash (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"/"}),"), backslash (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"\\"}),"), angle brackets (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"<>"}),"), curly brackets (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"{}"}),")."]}),...t)},test:e=>{let{value:l}=e;return v.qu.test(l)}}]}},C=()=>({}),j=e=>{let{onFailure:l,onSuccess:t}=e;return{cbFailure:l,cbSuccess:t}},A=e=>{let{isIgnoreOnCallbacks:l,onFinishBatch:t}=e;return l?{setTestCallbacks:C}:{cbFinishBatch:t,setTestCallbacks:j}},M=(e,l)=>null!=e?e:l,S=(e,l)=>e||l,w=function(){let{excludeTestIds:e=[],excludeTestIdsRe:l,inputs:t={},isContinueOnFailure:n,isIgnoreOnCallbacks:r,isTestAll:u=0===Object.keys(t).length,tests:s={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[...e],i={},c=!0;return u&&Object.keys(s).forEach(e=>{i[e]={}}),i={...i,...t},l&&Object.keys(i).forEach(e=>{l.test(e)&&a.push(e)}),a.forEach(e=>{delete i[e]}),Object.keys(i).every(e=>{let{defaults:{compare:l=[],displayMax:t,displayMin:u,getCompare:a,getValue:o,isIgnoreOnCallbacks:d=r,max:p=0,min:h=0,onSuccess:m,value:g=null}={},isRequired:f=!1,onFinishBatch:b,optionalTests:v,tests:x}=s[e],{getCompare:k=a,getValue:y=o,isIgnoreOnCallbacks:C=d,max:j=p,min:w=h,compare:I=M(null==k?void 0:k.call(null),l),value:O=M(null==y?void 0:y.call(null),g),displayMax:R=S(t,String(j)),displayMin:E=S(u,String(w))}=i[e],{cbFinishBatch:P,setTestCallbacks:T}=A({isIgnoreOnCallbacks:C,onFinishBatch:b});if(!O&&!f)return null==P||P.call(null,!0,e),!0;let F=e=>{let{onFailure:l,onSuccess:t=m,test:n}=e,r={},u=n({append:r,compare:I,max:j,min:w,value:O}),{cbFailure:s,cbSuccess:a}=T({onFailure:l,onSuccess:t});return u?null==a||a.call(null,{append:r}):(c=u,null==s||s.call(null,{append:r,compare:I,displayMax:R,displayMin:E,max:j,min:w,value:O})),u};null==v||v.forEach(F);let _=x.every(F);return null==P||P.call(null,_,e),_||n}),c},I=function(e){let{excludeTestIds:l=[],...t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){let{excludeTestIds:n=[],...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w({tests:e,excludeTestIds:[...l,...n],...t,...r})}},O="input",R={boolean:!1,number:0,string:""},E=(0,c.forwardRef)((e,l)=>{let{debounceWait:t=500,input:n,inputTestBatch:r,onBlurAppend:u,onFirstRender:s,onFocusAppend:a,onUnmount:i,required:o=!1,valueKey:d,valueType:p="string",createInputOnChangeHandlerOptions:{postSet:h,valueKey:m=d,...f}={}}=e,{props:v}=n,x=(0,c.useMemo)(()=>null!=m?m:"checked"in v?"checked":"value",[v,m]),{onBlur:k,onChange:y,onFocus:C,[x]:j=R[p],...A}=v,[M,S]=(0,c.useState)(j),w=(0,c.useRef)(!1),E=(0,c.useRef)(!1),P=(0,c.useCallback)(e=>{S(e)},[]),T=(0,c.useMemo)(()=>{let e;return r&&(r.isRequired=o,e=I({[O]:r})),e},[r,o]),F=(0,c.useCallback)(e=>{var l;let t=null!=(l=null==T?void 0:T.call(null,{inputs:{[O]:{value:e}},isIgnoreOnCallbacks:!0}))&&l;E.current=t,null==s||s.call(null,{isValid:t})},[s,T]),_=(0,c.useMemo)(()=>g()(F,t),[t,F]),q=(0,c.useMemo)(()=>null!=k?k:T&&function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let{0:{target:{value:n}}}=l;E.current=T({inputs:{[O]:{value:n}}}),null==u||u.call(null,...l)},[k,u,T]),B=(0,c.useMemo)(()=>b({postSet:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];w.current=!0,null==y||y.call(null,...l),null==h||h.call(null,...l)},set:e=>{P(e),_(e)},setType:p,valueKey:x,...f}),[_,y,h,f,P,x,p]),L=(0,c.useMemo)(()=>null!=C?C:r&&function(){for(var e,l,t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];null==(l=r.defaults)||null==(e=l.onSuccess)||e.call(null,{append:{}}),null==a||a.call(null,...n)},[C,r,a]);return(0,c.useEffect)(()=>(F(M),i),[]),(0,c.useEffect)(()=>{!w.current&&M!==j&&j&&(F(j),S(j))},[F,j,M]),(0,c.useImperativeHandle)(l,()=>({getIsChangedByUser:()=>w.current,getValue:()=>M,isValid:()=>E.current,setValue:P}),[M,P]),(0,c.cloneElement)(n,{...A,onBlur:q,onChange:B,onFocus:L,required:o,[x]:M})});E.displayName="InputWithRef";var P=t(71401),T=t(69267),F=t(79982),_=t(44193);let q={width:"100%"},B="gate-input",L="".concat(B,"-credential-id"),N="".concat(B,"-credential-passphrase"),V="access",W=(0,c.forwardRef)((e,l)=>{let{formContainer:t=!0,gridProps:{columns:r={xs:1,sm:2},layout:u,spacing:s="1em",...a}={},identifierId:m=L,identifierInputTestBatchBuilder:g=y,identifierLabel:f,identifierOutlinedInputWithLabelProps:{formControlProps:b={},inputProps:v,...x}={},onIdentifierBlurAppend:k,onSubmit:C,onSubmitAppend:j,passphraseId:A=N,passphraseLabel:M,passphraseOutlinedInputWithLabelProps:{formControlProps:S={},inputProps:w,...I}={},submitLabel:O,allowSubmit:R=t}=e,{sx:B,...W}=b,{sx:U,...H}=S,G=(0,c.useRef)({}),K=(0,c.useRef)({}),X=(0,c.useRef)({}),[D,Z]=(0,c.useState)(!1),{buildFinishInputTestBatchFunction:z,buildInputFirstRenderFunction:J,buildInputUnmountFunction:Q,isFormInvalid:Y,setMessage:$}=(0,_.A)([m,A],X),ee=(0,c.useMemo)(()=>null!=C?C:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let{0:n}=l;n.preventDefault(),$(V),Z(!0);let{target:r}=n,{elements:u}=r,{value:s}=u.namedItem(m),{value:a}=u.namedItem(A);null==j||j.call(null,s,a,e=>{$(V,e)},Z,...l)},[m,C,j,A,Z,$]),el=(0,c.useMemo)(()=>D?(0,n.jsx)(F.A,{mt:0}):(0,n.jsx)(p.A,{row:!0,sx:{justifyContent:"flex-end"},children:(0,n.jsx)(d.A,{disabled:Y,type:"submit",children:O})}),[Y,D,O]),et=(0,c.useMemo)(()=>{let e={};return R&&(e["gate-cell-message-group"]={children:(0,n.jsx)(P.A,{count:1,defaultMessageType:"warning",ref:X}),sm:2},e["gate-cell-submit"]={children:el,sm:2}),e},[R,el]),en=(0,c.useMemo)(()=>{let e={};return t&&(e.component="form",e.onSubmit=ee),e},[t,ee]);return(0,c.useImperativeHandle)(l,()=>({get:()=>{var e,l,t,n;return{identifier:null!=(t=null==(e=G.current.getValue)?void 0:e.call(null))?t:"",passphrase:null!=(n=null==(l=K.current.getValue)?void 0:l.call(null))?n:""}},messageGroup:{...X.current},setIsSubmitting:e=>{Z(e)}})),(0,n.jsx)(i.A,{...en,children:(0,n.jsx)(h.A,{columns:r,layout:{"gate-input-cell-credential-id":{children:(0,n.jsx)(E,{input:(0,n.jsx)(T.A,{formControlProps:{...W,sx:{...q,...B}},id:m,inputProps:v,label:f,...x}),inputTestBatch:g(f,()=>{$(m)},{onFinishBatch:z(m)},e=>{$(m,{children:e})}),onBlurAppend:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];null==k||k.call(null,...l)},onFirstRender:J(m),onUnmount:Q(m),ref:G,required:!0})},"gate-input-cell-credential-passphrase":{children:(0,n.jsx)(E,{input:(0,n.jsx)(T.A,{formControlProps:{...H,sx:{...q,...U}},id:A,inputProps:w,label:M,type:o.A.password,...I}),inputTestBatch:y(M,()=>{$(A)},{onFinishBatch:z(A)},e=>{$(A,{children:e})}),onFirstRender:J(A),onUnmount:Q(A),ref:K,required:!0})},...et},spacing:s,...a})})});W.displayName="GateForm";var U=t(5806),H=t(23437);let G=()=>{let{query:{rt:e}}=(0,s.useRouter)();return(0,n.jsx)(H.Zk,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 14em)",minWidth:"16em",width:{xs:"fit-content",sm:"26em"}},children:(0,n.jsx)(W,{gridProps:{columns:1},identifierLabel:"Username",onSubmitAppend:(l,t,n,r)=>{r(!0),a.A.post("/auth/login",{username:l,password:t}).then(()=>{let l=e?String(e):"/";window.location.replace(l)}).catch(e=>{n((0,U.A)(e,{onResponseErrorAppend:()=>({children:"Credentials mismatched.",type:"warning"})}))}).finally(()=>{r(!1)})},passphraseLabel:"Passphrase",submitLabel:"Login"})})};var K=t(86732);let X=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u(),{children:(0,n.jsx)("title",{children:"Login"})}),(0,n.jsx)(K.A,{}),(0,n.jsx)(G,{})]})},89099:(e,l,t)=>{e.exports=t(48253)}},e=>{var l=l=>e(e.s=l);e.O(0,[325,3,133,732,636,593,792],()=>l(60641)),_N_E=e.O()}]);