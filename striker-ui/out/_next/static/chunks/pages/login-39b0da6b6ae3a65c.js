(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{62705:function(e,n,t){var l=t(55639).Symbol;e.exports=l},44239:function(e,n,t){var l=t(62705),r=t(89607),i=t(2333),o=l?l.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?r(e):i(e)}},27561:function(e,n,t){var l=t(67990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,l(e)+1).replace(r,""):e}},31957:function(e,n,t){var l="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=l},89607:function(e,n,t){var l=t(62705),r=Object.prototype,i=r.hasOwnProperty,o=r.toString,a=l?l.toStringTag:void 0;e.exports=function(e){var n=i.call(e,a),t=e[a];try{e[a]=void 0;var l=!0}catch(e){}var r=o.call(e);return l&&(n?e[a]=t:delete e[a]),r}},2333:function(e){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},55639:function(e,n,t){var l=t(31957),r="object"==typeof self&&self&&self.Object===Object&&self,i=l||r||Function("return this")();e.exports=i},67990:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},23279:function(e,n,t){var l=t(13218),r=t(7771),i=t(14841),o=Math.max,a=Math.min;e.exports=function(e,n,t){var s,u,c,d,p,f,h=0,g=!1,m=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function x(n){var t=s,l=u;return s=u=void 0,h=n,d=e.apply(l,t)}function b(e){var t=e-f,l=e-h;return void 0===f||t>=n||t<0||m&&l>=c}function j(){var e,t,l,i=r();if(b(i))return Z(i);p=setTimeout(j,(e=i-f,t=i-h,l=n-e,m?a(l,c-t):l))}function Z(e){return(p=void 0,v&&s)?x(e):(s=u=void 0,d)}function y(){var e,t=r(),l=b(t);if(s=arguments,u=this,f=t,l){if(void 0===p)return h=e=f,p=setTimeout(j,n),g?x(e):d;if(m)return clearTimeout(p),p=setTimeout(j,n),x(f)}return void 0===p&&(p=setTimeout(j,n)),d}return n=i(n)||0,l(t)&&(g=!!t.leading,c=(m="maxWait"in t)?o(i(t.maxWait)||0,n):c,v="trailing"in t?!!t.trailing:v),y.cancel=function(){void 0!==p&&clearTimeout(p),h=0,s=f=u=p=void 0},y.flush=function(){return void 0===p?d:Z(r())},y}},13218:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,n,t){var l=t(44239),r=t(37005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==l(e)}},7771:function(e,n,t){var l=t(55639);e.exports=function(){return l.Date.now()}},14841:function(e,n,t){var l=t(27561),r=t(13218),i=t(33448),o=0/0,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return o;if(r(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=r(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=l(e);var t=s.test(e);return t||u.test(e)?c(e.slice(2),t?2:8):a.test(e)?o:+e}},73700:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(79896)}])},82777:function(e,n,t){"use strict";var l=t(85893),r=t(67294),i=t(99514),o=t(14440);n.Z=e=>{let{calculateItemBreakpoints:n=()=>({xs:1}),layout:t,wrapperBoxProps:a,...s}=e,u=(0,r.useMemo)(()=>Object.entries(t).map((e,t)=>{let[l,o]=e;return o?(0,r.createElement)(i.ZP,{...n(t,l),key:l,item:!0,...o}):void 0}),[n,t]);return(0,l.jsx)(o.Z,{...a,children:(0,l.jsx)(i.ZP,{container:!0,...s,children:u})})}},39937:function(e,n,t){"use strict";t.d(n,{Z:function(){return A}});var l=t(85893),r=t(19338),i=t(89262),o=t(32653),a=t(14440),s=t(34815),u=t(80594),c=t(67294),d=t(77831),p=t(55278),f=t(26076),h=t(8489),g=t(37969),m=t(54965),v=t(49520);let x=[{text:"Anvil",image:"/pngs/anvil_icon_on.png",uri:"/manage-element"},{text:"Files",image:"/pngs/files_on.png",uri:"/file-manager"},{text:"Configure",image:"/pngs/configure_icon_on.png",uri:"/config"},{text:"Mail",image:"/pngs/email_on.png",uri:"/mail-config"},{text:"Help",image:"/pngs/help_icon_on.png",uri:"https://alteeve.com/w/Support"}],b={width:"40em",height:"40em"};var j=t(98484),Z=t(29535),y=t(56903),w=t(97607),C=t(59278),k=t(6946);let P="AnvilDrawer",O={actionIcon:"".concat(P,"-actionIcon"),list:"".concat(P,"-list")},S=(0,i.ZP)(h.ZP)(()=>({["& .".concat(O.list)]:{width:"200px"},["& .".concat(O.actionIcon)]:{fontSize:"2.3em",color:d.of}}));var M=e=>{let{open:n,setOpen:t}=e,{getSessionUser:r}=(0,k.Z)(),i=r();return(0,l.jsx)(S,{BackdropProps:{invisible:!0},anchor:"left",open:n,onClose:()=>t(!n),children:(0,l.jsx)("div",{role:"presentation",children:(0,l.jsxs)(g.Z,{className:O.list,children:[(0,l.jsx)(m.ZP,{children:(0,l.jsx)(C.Ac,{children:i?(0,l.jsxs)(l.Fragment,{children:["Welcome, ",i.name]}):"Unregistered"})}),(0,l.jsx)(Z.Z,{}),(0,l.jsx)(v.Z,{component:"a",href:"/index.html",children:(0,l.jsxs)(y.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,l.jsx)(p.Z,{className:O.actionIcon}),(0,l.jsx)(C.Ac,{children:"Dashboard"})]})}),x.map(e=>(0,l.jsx)(v.Z,{component:"a",href:e.uri,children:(0,l.jsxs)(y.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,l.jsx)("img",{alt:e.text,src:e.image,...b}),(0,l.jsx)(C.Ac,{children:e.text})]})},"anvil-drawer-".concat(e.image))),(0,l.jsx)(v.Z,{onClick:()=>{j.Z.put("/auth/logout").then(()=>{window.location.replace("/login")}).catch(e=>{(0,w.Z)(e)})},children:(0,l.jsxs)(y.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,l.jsx)(f.Z,{className:O.actionIcon}),(0,l.jsx)(C.Ac,{children:"Logout"})]})})]})})})},I=t(85838),T=t(56399);let _="Header",B={input:"".concat(_,"-input"),barElement:"".concat(_,"-barElement"),iconBox:"".concat(_,"-iconBox"),searchBar:"".concat(_,"-searchBar"),icons:"".concat(_,"-icons")},R=(0,i.ZP)(o.Z)(e=>{let{theme:n}=e;return{paddingTop:n.spacing(.5),paddingBottom:n.spacing(.5),paddingLeft:n.spacing(3),paddingRight:n.spacing(3),borderBottom:"solid 1px",borderBottomColor:d.hM,position:"static",["& .".concat(B.input)]:{height:"2.8em",width:"30vw",backgroundColor:n.palette.secondary.main,borderRadius:d.n_},["& .".concat(B.barElement)]:{padding:0},["& .".concat(B.iconBox)]:{[n.breakpoints.down("sm")]:{display:"none"}},["& .".concat(B.searchBar)]:{[n.breakpoints.down("sm")]:{flexGrow:1,paddingLeft:"15vw"}},["& .".concat(B.icons)]:{paddingLeft:".1em",paddingRight:".1em"}}});var A=()=>{let e=(0,c.useRef)({}),n=(0,c.useRef)({}),[t,i]=(0,c.useState)(!1);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(R,{children:(0,l.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",flexDirection:"row",children:[(0,l.jsx)(y.Z,{row:!0,children:(0,l.jsx)(s.Z,{onClick:()=>i(!t),children:(0,l.jsx)("img",{alt:"",src:"/pngs/logo.png",width:"160",height:"40"})})}),(0,l.jsx)(y.Z,{className:B.iconBox,row:!0,spacing:0,children:(0,l.jsx)(a.Z,{children:(0,l.jsx)(u.Z,{onClick:e=>{var t,l;let{currentTarget:r}=e;null===(t=n.current.setAnchor)||void 0===t||t.call(null,r),null===(l=n.current.setOpen)||void 0===l||l.call(null,!0)},sx:{color:d.of,padding:"0 .1rem"},children:(0,l.jsx)(I.Z,{icon:r.Z,ref:e})})})})]})}),(0,l.jsx)(M,{open:t,setOpen:i}),(0,l.jsx)(T.Z,{onFetchSuccessAppend:n=>{var t;null===(t=e.current.indicate)||void 0===t||t.call(null,Object.keys(n).length>0)},ref:n})]})}},28293:function(e,n,t){"use strict";t.d(n,{Z:function(){return f}});var l=t(23279),r=t.n(l),i=t(67294),o=t(14879),a=function(){let{postSet:e,preSet:n,set:t,setType:l="string",valueKey:r="value"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i=>{let{target:{[r]:a}}=i,s=o.Z[l](a);null==n||n.call(null,i),null==t||t.call(null,s),null==e||e.call(null,i)}},s=t(52675);let u="input",c={boolean:!1,number:0,string:""},d={createInputOnChangeHandlerOptions:{},debounceWait:500,required:!1,valueType:"string"},p=(0,i.forwardRef)((e,n)=>{let{debounceWait:t=d.debounceWait,input:l,inputTestBatch:o,onBlurAppend:p,onFirstRender:f,onFocusAppend:h,onUnmount:g,required:m=d.required,valueKey:v,valueType:x=d.valueType,createInputOnChangeHandlerOptions:{postSet:b,valueKey:j=v,...Z}=d.createInputOnChangeHandlerOptions}=e,{props:y}=l,w=(0,i.useMemo)(()=>null!=j?j:"checked"in y?"checked":"value",[y,j]),{onBlur:C,onChange:k,onFocus:P,[w]:O=c[x],...S}=y,[M,I]=(0,i.useState)(O),[T,_]=(0,i.useState)(!1),[B,R]=(0,i.useState)(!1),A=(0,i.useCallback)(e=>{I(e)},[]),E=(0,i.useMemo)(()=>{let e;return o&&(o.isRequired=m,e=(0,s.LT)({[u]:o})),e},[o,m]),F=(0,i.useCallback)(e=>{var n;let t=null!==(n=null==E?void 0:E.call(null,{inputs:{[u]:{value:e}},isIgnoreOnCallbacks:!0}))&&void 0!==n&&n;null==f||f.call(null,{isValid:t}),R(t)},[f,E]),L=(0,i.useMemo)(()=>r()(F,t),[t,F]),N=(0,i.useMemo)(()=>null!=C?C:E&&function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let{0:{target:{value:l}}}=n;R(E({inputs:{[u]:{value:l}}})),null==p||p.call(null,...n)},[C,p,E]),W=(0,i.useMemo)(()=>a({postSet:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];_(!0),null==k||k.call(null,...n),null==b||b.call(null,...n)},set:e=>{A(e),L(e)},setType:x,valueKey:w,...Z}),[L,k,b,Z,A,w,x]),q=(0,i.useMemo)(()=>null!=P?P:o&&function(){for(var e,n,t=arguments.length,l=Array(t),r=0;r<t;r++)l[r]=arguments[r];null===(n=o.defaults)||void 0===n||null===(e=n.onSuccess)||void 0===e||e.call(null,{append:{}}),null==h||h.call(null,...l)},[P,o,h]);return(0,i.useEffect)(()=>(F(M),g),[]),(0,i.useEffect)(()=>{!T&&M!==O&&O&&(F(O),I(O))},[F,O,M,T]),(0,i.useImperativeHandle)(n,()=>({getIsChangedByUser:()=>T,getValue:()=>M,isValid:()=>B,setValue:A}),[M,T,B,A]),(0,i.cloneElement)(l,{...S,onBlur:N,onChange:W,onFocus:q,required:m,[w]:M})});p.defaultProps=d,p.displayName="InputWithRef";var f=p},81208:function(e,n,t){"use strict";var l=t(85893),r=t(67294),i=t(99576);let o={count:0,defaultMessageType:"info",messages:void 0,onSet:void 0,usePlaceholder:!0},a=(0,r.forwardRef)((e,n)=>{let{count:t=o.count,defaultMessageType:a=o.defaultMessageType,messages:s,onSet:u,usePlaceholder:c=o.usePlaceholder}=e,[d,p]=(0,r.useState)({}),f=(0,r.useMemo)(()=>({...s,...d}),[s,d]),h=(0,r.useCallback)(e=>void 0!==f[e],[f]),g=(0,r.useCallback)((e,n)=>{let t=0;p(l=>{let{[e]:r,...i}=l;return n&&(i[e]=n),t=Object.keys(i).length,i}),null==u||u.call(null,t)},[u]),m=(0,r.useCallback)((e,n)=>{let t=0,l=n?(e,l)=>{e[l]=n,t+=1}:void 0;p(n=>{let r={};return Object.keys(n).forEach(i=>{e.test(i)?null==l||l.call(null,r,i):(r[i]=n[i],t+=1)}),r}),null==u||u.call(null,t)},[u]),v=(0,r.useMemo)(()=>{let e=Object.entries(f),n=t>0,r=n?t:e.length,o=[];if(e.every(e=>{let[n,t]=e,{children:s,type:u=a}=t;return o.push((0,l.jsx)(i.Z,{type:u,children:s},"message-".concat(n))),o.length<r}),c&&n&&0===o.length){let e=t-o.length;for(let n=0;n<e;n+=1)o.push((0,l.jsx)(i.Z,{sx:{visibility:"hidden"},text:"Placeholder"},"message-placeholder-".concat(n)))}return o},[t,a,c,f]);return(0,r.useImperativeHandle)(n,()=>({exists:h,setMessage:g,setMessageRe:m}),[h,g,m]),(0,l.jsx)(l.Fragment,{children:v})});a.defaultProps=o,a.displayName="MessageGroup",n.Z=a},56907:function(e,n,t){"use strict";var l=t(67294),r=t(98484),i=t(8534),o=t(97607);n.Z=(e,n)=>{var t;let[a,s]=(0,l.useState)(!1),[u,c]=(0,l.useState)({}),d=(0,l.useCallback)(e=>{var t,l;return null==n?void 0:null===(l=n.current)||void 0===l?void 0:null===(t=l.setMessage)||void 0===t?void 0:t.call(null,"api",e)},[n]),p=(0,l.useCallback)((e,t)=>{var l,r;null==n||null===(r=n.current)||void 0===r||null===(l=r.setMessage)||void 0===l||l.call(null,String(e),t)},[n]),f=(0,l.useCallback)((e,t)=>{var l,r;null==n||null===(r=n.current)||void 0===r||null===(l=r.setMessageRe)||void 0===l||l.call(null,e,t)},[n]),h=(0,l.useCallback)((e,n)=>{c((0,i.ZP)(e,n))},[]),g=(0,l.useCallback)((e,n)=>{c((0,i.Um)(e,n))},[]),m=(0,l.useCallback)(e=>{p(e),h(e)},[p,h]),v=(0,l.useCallback)(e=>{f(e),g(e)},[f,g]),x=(0,l.useCallback)(e=>n=>{h(e,n)},[h]),b=(0,l.useCallback)(e=>n=>{let{isValid:t}=n;h(e,t)},[h]),j=(0,l.useCallback)(e=>()=>{m(e)},[m]),Z=(0,l.useCallback)(e=>{let{body:l,getErrorMsg:i,msgKey:a="api",method:u,onError:c,onSuccess:d,setMsg:p=null==n?void 0:null===(t=n.current)||void 0===t?void 0:t.setMessage,successMsg:f,url:h}=e;s(!0),r.Z.request({data:l,method:u,url:h}).then(()=>{null==p||p.call(null,a,{children:f,type:"info"}),null==d||d.call(null)}).catch(e=>{let n=(0,o.Z)(e);n.children=i(n.children),null==p||p.call(null,a,n),null==c||c.call(null)}).finally(()=>{s(!1)})},[n,s]),y=(0,l.useMemo)(()=>Object.values(u).some(e=>!e),[u]);return{buildFinishInputTestBatchFunction:x,buildInputFirstRenderFunction:b,buildInputUnmountFunction:j,formValidity:u,isFormInvalid:y,isFormSubmitting:a,setApiMessage:d,setFormValidity:c,setMessage:p,setMessageRe:f,setValidity:h,setValidityRe:g,submitForm:Z,unsetKey:m,unsetKeyRe:v}}},8534:function(e,n,t){"use strict";t.d(n,{Um:function(){return r}});let l=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[,l,r,i]=n;void 0!==i&&(l[r]=i)},r=function(e,n){let{set:t=l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l=>{let r={};return Object.keys(l).forEach(i=>{e.test(i)?t(l,r,i,n):r[i]=l[i]}),r}};n.ZP=function(e,n){let{guard:t=()=>!0,set:r=l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l=>{let{[e]:i,...o}=l,a={...o};return t(l,e,n)&&r(l,a,e,n),a}}},14879:function(e,n){"use strict";n.Z={boolean:e=>!!e,number:e=>parseInt(String(e),10)||0,string:e=>String(e)}},79896:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var l=t(85893),r=t(9008),i=t.n(r),o=t(11163),a=t(98484),s=t(14440),u=t(67294),c=t(37842),d=t(99429),p=t(56903),f=t(82777),h=t(28293),g=t(81208),m=t(91029),v=t(53541),x=t(52675),b=t(56907);let j={width:"100%"},Z="gate-input",y="".concat(Z,"-credential-id"),w="".concat(Z,"-credential-passphrase"),C="access",k=(0,u.forwardRef)((e,n)=>{let{formContainer:t=!0,gridProps:{columns:r={xs:1,sm:2},layout:i,spacing:o="1em",...a}={},identifierId:Z=y,identifierInputTestBatchBuilder:k=x.Gn,identifierLabel:P,identifierOutlinedInputWithLabelProps:{formControlProps:O={},inputProps:S,...M}={},onIdentifierBlurAppend:I,onSubmit:T,onSubmitAppend:_,passphraseId:B=w,passphraseLabel:R,passphraseOutlinedInputWithLabelProps:{formControlProps:A={},inputProps:E,...F}={},submitLabel:L,allowSubmit:N=t}=e,{sx:W,...q}=O,{sx:H,...U}=A,G=(0,u.useRef)({}),D=(0,u.useRef)({}),V=(0,u.useRef)({}),[$,K]=(0,u.useState)(!1),{buildFinishInputTestBatchFunction:X,buildInputFirstRenderFunction:z,buildInputUnmountFunction:J,isFormInvalid:Q,setMessage:Y}=(0,b.Z)([Z,B],V),ee=(0,u.useMemo)(()=>null!=T?T:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let{0:l}=n;l.preventDefault(),Y(C),K(!0);let{target:r}=l,{elements:i}=r,{value:o}=i.namedItem(Z),{value:a}=i.namedItem(B);null==_||_.call(null,o,a,e=>{Y(C,e)},K,...n)},[Z,T,_,B,K,Y]),en=(0,u.useMemo)(()=>$?(0,l.jsx)(v.Z,{mt:0}):(0,l.jsx)(p.Z,{row:!0,sx:{justifyContent:"flex-end"},children:(0,l.jsx)(d.Z,{disabled:Q,type:"submit",children:L})}),[Q,$,L]),et=(0,u.useMemo)(()=>{let e={};return N&&(e["gate-cell-message-group"]={children:(0,l.jsx)(g.Z,{count:1,defaultMessageType:"warning",ref:V}),sm:2},e["gate-cell-submit"]={children:en,sm:2}),e},[N,en]),el=(0,u.useMemo)(()=>{let e={};return t&&(e.component="form",e.onSubmit=ee),e},[t,ee]);return(0,u.useImperativeHandle)(n,()=>({get:()=>{var e,n,t,l;return{identifier:null!==(t=null===(e=G.current.getValue)||void 0===e?void 0:e.call(null))&&void 0!==t?t:"",passphrase:null!==(l=null===(n=D.current.getValue)||void 0===n?void 0:n.call(null))&&void 0!==l?l:""}},messageGroup:{...V.current},setIsSubmitting:e=>{K(e)}})),(0,l.jsx)(s.Z,{...el,children:(0,l.jsx)(f.Z,{columns:r,layout:{"gate-input-cell-credential-id":{children:(0,l.jsx)(h.Z,{input:(0,l.jsx)(m.Z,{formControlProps:{...q,sx:{...j,...W}},id:Z,inputProps:S,label:P,...M}),inputTestBatch:k(P,()=>{Y(Z)},{onFinishBatch:X(Z)},e=>{Y(Z,{children:e})}),onBlurAppend:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];null==I||I.call(null,...n)},onFirstRender:z(Z),onUnmount:J(Z),ref:G,required:!0})},"gate-input-cell-credential-passphrase":{children:(0,l.jsx)(h.Z,{input:(0,l.jsx)(m.Z,{formControlProps:{...U,sx:{...j,...H}},id:B,inputProps:E,label:R,type:c.Z.password,...F}),inputTestBatch:(0,x.Gn)(R,()=>{Y(B)},{onFinishBatch:X(B)},e=>{Y(B,{children:e})}),onFirstRender:z(B),onUnmount:J(B),ref:D,required:!0})},...et},spacing:o,...a})})});k.displayName="GateForm";var P=t(97607),O=t(23930),S=()=>{let{query:{rt:e}}=(0,o.useRouter)();return(0,l.jsx)(O.s_,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 14em)",minWidth:"16em",width:{xs:"fit-content",sm:"26em"}},children:(0,l.jsx)(k,{gridProps:{columns:1},identifierLabel:"Username",onSubmitAppend:(n,t,l,r)=>{r(!0),a.Z.post("/auth/login",{username:n,password:t}).then(()=>{let n=e?String(e):"/";window.location.replace(n)}).catch(e=>{l((0,P.Z)(e,{onResponseErrorAppend:()=>({children:"Credentials mismatched.",type:"warning"})}))}).finally(()=>{r(!1)})},passphraseLabel:"Passphrase",submitLabel:"Login"})})},M=t(39937),I=()=>(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i(),{children:(0,l.jsx)("title",{children:"Login"})}),(0,l.jsx)(M.Z,{}),(0,l.jsx)(S,{})]})},11163:function(e,n,t){e.exports=t(9090)}},function(e){e.O(0,[162,442,318,26,133,888,774,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);