(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{21635:(e,l,t)=>{"use strict";t.d(l,{Ay:()=>u,WT:()=>r});let n=function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let[,n,r,u]=l;void 0!==u&&(n[r]=u)},r=function(e,l){let{set:t=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let r={};return Object.keys(n).forEach(u=>{e.test(u)?t(n,r,u,l):r[u]=n[u]}),r}},u=function(e,l){let{guard:t=()=>!0,set:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let{[e]:u,...s}=n,a={...s};return t(n,e,l)&&r(n,a,e,l),a}}},21710:(e,l,t)=>{"use strict";t.d(l,{A:()=>a});var n=t(37876),r=t(14232),u=t(7254),s=t(41316);let a=e=>{let{calculateItemBreakpoints:l=()=>({xs:1}),layout:t,wrapperBoxProps:a,...i}=e,c=(0,r.useMemo)(()=>Object.entries(t).map((e,t)=>{let[n,u]=e;return u?(0,r.createElement)(s.Ay,{...l(t,n),key:n,item:!0,...u}):void 0}),[l,t]);return(0,n.jsx)(u.A,{...a,children:(0,n.jsx)(s.Ay,{container:!0,...i,children:c})})}},27532:(e,l,t)=>{"use strict";t.d(l,{A:()=>i});var n=t(14232),r=t(28850),u=t(21635),s=t(74235);let a=(e,l)=>{let{key:t,re:n,replace:r,value:s}=l;return t?e[t]===s?e:(0,u.Ay)(t,s)(e):n?(0,u.WT)(n,s)(e):r||e},i=(e,l)=>{var t;let[u,i]=(0,n.useState)(!1),[c,o]=(0,n.useReducer)(a,{}),d=(0,n.useCallback)(e=>{var t,n;return null==l||null==(n=l.current)||null==(t=n.setMessage)?void 0:t.call(null,"api",e)},[l]),p=(0,n.useCallback)((e,t)=>{var n,r;null==l||null==(r=l.current)||null==(n=r.setMessage)||n.call(null,String(e),t)},[l]),h=(0,n.useCallback)((e,t)=>{var n,r;null==l||null==(r=l.current)||null==(n=r.setMessageRe)||n.call(null,e,t)},[l]),m=(0,n.useCallback)(e=>{o({replace:e})},[]),g=(0,n.useCallback)((e,l)=>{o({key:e,value:l})},[]),f=(0,n.useCallback)((e,l)=>{o({re:e,value:l})},[]),b=(0,n.useCallback)(e=>{p(e),g(e)},[p,g]),v=(0,n.useCallback)(e=>{h(e),f(e)},[h,f]),x=(0,n.useCallback)(e=>l=>{g(e,l)},[g]),k=(0,n.useCallback)(e=>l=>{let{isValid:t}=l;g(e,t)},[g]),y=(0,n.useCallback)(e=>()=>{b(e)},[b]),C=(0,n.useCallback)(e=>{let{body:n,getErrorMsg:u,msgKey:a="api",method:c,onError:o,onSuccess:d,setMsg:p=null==l||null==(t=l.current)?void 0:t.setMessage,successMsg:h,url:m}=e;i(!0),r.A.request({data:n,method:c,url:m}).then(()=>{null==p||p.call(null,a,{children:h,type:"info"}),null==d||d.call(null)}).catch(e=>{let l=(0,s.A)(e);l.children=u(l.children),null==p||p.call(null,a,l),null==o||o.call(null)}).finally(()=>{i(!1)})},[l,i]),j=(0,n.useMemo)(()=>Object.values(c).some(e=>!e),[c]);return{buildFinishInputTestBatchFunction:x,buildInputFirstRenderFunction:k,buildInputUnmountFunction:y,formValidity:c,isFormInvalid:j,isFormSubmitting:u,setApiMessage:d,setFormValidity:m,setMessage:p,setMessageRe:h,setValidity:g,setValidityRe:f,submitForm:C,unsetKey:b,unsetKeyRe:v}}},60641:(e,l,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(63690)}])},63690:(e,l,t)=>{"use strict";t.r(l),t.d(l,{default:()=>G});var n=t(37876),r=t(77328),u=t.n(r),s=t(89099),a=t(28850),i=t(7254),c=t(14232),o=t(11910),d=t(89121),p=t(34318),h=t(21710),m=t(4917),g=t.n(m),f=t(44931);let b=function(){let{postSet:e,preSet:l,set:t,setType:n="string",valueKey:r="value"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u=>{let{target:{[r]:s}}=u,a=f.A[n](s);null==l||l.call(null,u),null==t||t.call(null,a),null==e||e.call(null,u)}};var v=t(65532),x=t(20795);let k=e=>{let{value:l}=e;return!!l&&String(l).length>0},y=function(e,l){let{isRequired:t,onFinishBatch:r,...u}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;return{defaults:{...u,onSuccess:l},isRequired:t,onFinishBatch:r,tests:[{test:k},{onFailure:function(){for(var l=arguments.length,t=Array(l),r=0;r<l;r++)t[r]=arguments[r];s((0,n.jsxs)(n.Fragment,{children:[e," cannot contain single-quote (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"'"}),"), double-quote (",(0,n.jsx)(x.kp,{inheritColour:!0,text:'"'}),"), slash (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"/"}),"), backslash (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"\\"}),"), angle brackets (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"<>"}),"), curly brackets (",(0,n.jsx)(x.kp,{inheritColour:!0,text:"{}"}),")."]}),...t)},test:e=>{let{value:l}=e;return v.qu.test(l)}}]}},C=()=>({}),j=e=>{let{onFailure:l,onSuccess:t}=e;return{cbFailure:l,cbSuccess:t}},A=(e,l)=>null!=e?e:l,M=function(){let{excludeTestIds:e=[],excludeTestIdsRe:l,inputs:t={},isContinueOnFailure:n,isIgnoreOnCallbacks:r,isTestAll:u=0===Object.keys(t).length,tests:s={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=[...e],i={},c=!0;return u&&Object.keys(s).forEach(e=>{i[e]={}}),i={...i,...t},l&&Object.keys(i).forEach(e=>{l.test(e)&&a.push(e)}),a.forEach(e=>{delete i[e]}),Object.keys(i).every(e=>{let l,t,{defaults:{compare:u=[],displayMax:a,displayMin:o,getCompare:d,getValue:p,isIgnoreOnCallbacks:h=r,max:m=0,min:g=0,onSuccess:f,value:b=null}={},isRequired:v=!1,onFinishBatch:x,optionalTests:k,tests:y}=s[e],{getCompare:M=d,getValue:S=p,isIgnoreOnCallbacks:w=h,max:I=m,min:O=g,compare:R=A(null==M?void 0:M.call(null),u),value:E=A(null==S?void 0:S.call(null),b),displayMax:P=(l=String(I),a||l),displayMin:T=(t=String(O),o||t)}=i[e],{cbFinishBatch:F,setTestCallbacks:_}=(e=>{let{isIgnoreOnCallbacks:l,onFinishBatch:t}=e;return l?{setTestCallbacks:C}:{cbFinishBatch:t,setTestCallbacks:j}})({isIgnoreOnCallbacks:w,onFinishBatch:x});if(!E&&!v)return null==F||F.call(null,!0,e),!0;let q=e=>{let{onFailure:l,onSuccess:t=f,test:n}=e,r={},u=n({append:r,compare:R,max:I,min:O,value:E}),{cbFailure:s,cbSuccess:a}=_({onFailure:l,onSuccess:t});return u?null==a||a.call(null,{append:r}):(c=u,null==s||s.call(null,{append:r,compare:R,displayMax:P,displayMin:T,max:I,min:O,value:E})),u};null==k||k.forEach(q);let B=y.every(q);return null==F||F.call(null,B,e),B||n}),c},S=function(e){let{excludeTestIds:l=[],...t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){let{excludeTestIds:n=[],...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return M({tests:e,excludeTestIds:[...l,...n],...t,...r})}},w="input",I={boolean:!1,number:0,string:""},O=(0,c.forwardRef)((e,l)=>{let{debounceWait:t=500,input:n,inputTestBatch:r,onBlurAppend:u,onFirstRender:s,onFocusAppend:a,onUnmount:i,required:o=!1,valueKey:d,valueType:p="string",createInputOnChangeHandlerOptions:{postSet:h,valueKey:m=d,...f}={}}=e,{props:v}=n,x=(0,c.useMemo)(()=>null!=m?m:"checked"in v?"checked":"value",[v,m]),{onBlur:k,onChange:y,onFocus:C,[x]:j=I[p],...A}=v,[M,O]=(0,c.useState)(j),R=(0,c.useRef)(!1),E=(0,c.useRef)(!1),P=(0,c.useCallback)(e=>{O(e)},[]),T=(0,c.useMemo)(()=>{let e;return r&&(r.isRequired=o,e=S({[w]:r})),e},[r,o]),F=(0,c.useCallback)(e=>{var l;let t=null!=(l=null==T?void 0:T.call(null,{inputs:{[w]:{value:e}},isIgnoreOnCallbacks:!0}))&&l;E.current=t,null==s||s.call(null,{isValid:t})},[s,T]),_=(0,c.useMemo)(()=>g()(F,t),[t,F]),q=(0,c.useMemo)(()=>null!=k?k:T&&function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let{0:{target:{value:n}}}=l;E.current=T({inputs:{[w]:{value:n}}}),null==u||u.call(null,...l)},[k,u,T]),B=(0,c.useMemo)(()=>b({postSet:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];R.current=!0,null==y||y.call(null,...l),null==h||h.call(null,...l)},set:e=>{P(e),_(e)},setType:p,valueKey:x,...f}),[_,y,h,f,P,x,p]),L=(0,c.useMemo)(()=>null!=C?C:r&&function(){for(var e,l,t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];null==(l=r.defaults)||null==(e=l.onSuccess)||e.call(null,{append:{}}),null==a||a.call(null,...n)},[C,r,a]);return(0,c.useEffect)(()=>(F(M),i),[]),(0,c.useEffect)(()=>{!R.current&&M!==j&&j&&(F(j),O(j))},[F,j,M]),(0,c.useImperativeHandle)(l,()=>({getIsChangedByUser:()=>R.current,getValue:()=>M,isValid:()=>E.current,setValue:P}),[M,P]),(0,c.cloneElement)(n,{...A,onBlur:q,onChange:B,onFocus:L,required:o,[x]:M})});O.displayName="InputWithRef";var R=t(67820),E=t(69146),P=t(11457),T=t(27532);let F={width:"100%"},_="gate-input",q="".concat(_,"-credential-id"),B="".concat(_,"-credential-passphrase"),L="access",N=(0,c.forwardRef)((e,l)=>{let{formContainer:t=!0,gridProps:{columns:r={xs:1,sm:2},layout:u,spacing:s="1em",...a}={},identifierId:m=q,identifierInputTestBatchBuilder:g=y,identifierLabel:f,identifierOutlinedInputWithLabelProps:{formControlProps:b={},inputProps:v,...x}={},onIdentifierBlurAppend:k,onSubmit:C,onSubmitAppend:j,passphraseId:A=B,passphraseLabel:M,passphraseOutlinedInputWithLabelProps:{formControlProps:S={},inputProps:w,...I}={},submitLabel:_,allowSubmit:N=t}=e,{sx:V,...W}=b,{sx:U,...H}=S,G=(0,c.useRef)({}),K=(0,c.useRef)({}),X=(0,c.useRef)({}),[D,Z]=(0,c.useState)(!1),{buildFinishInputTestBatchFunction:z,buildInputFirstRenderFunction:J,buildInputUnmountFunction:Q,isFormInvalid:Y,setMessage:$}=(0,T.A)([m,A],X),ee=(0,c.useMemo)(()=>null!=C?C:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];let{0:n}=l;n.preventDefault(),$(L),Z(!0);let{target:r}=n,{elements:u}=r,{value:s}=u.namedItem(m),{value:a}=u.namedItem(A);null==j||j.call(null,s,a,e=>{$(L,e)},Z,...l)},[m,C,j,A,Z,$]),el=(0,c.useMemo)(()=>D?(0,n.jsx)(P.A,{mt:0}):(0,n.jsx)(p.A,{row:!0,sx:{justifyContent:"flex-end"},children:(0,n.jsx)(d.A,{disabled:Y,type:"submit",children:_})}),[Y,D,_]),et=(0,c.useMemo)(()=>{let e={};return N&&(e["gate-cell-message-group"]={children:(0,n.jsx)(R.A,{count:1,defaultMessageType:"warning",ref:X}),sm:2},e["gate-cell-submit"]={children:el,sm:2}),e},[N,el]),en=(0,c.useMemo)(()=>{let e={};return t&&(e.component="form",e.onSubmit=ee),e},[t,ee]);return(0,c.useImperativeHandle)(l,()=>({get:()=>{var e,l,t,n;return{identifier:null!=(t=null==(e=G.current.getValue)?void 0:e.call(null))?t:"",passphrase:null!=(n=null==(l=K.current.getValue)?void 0:l.call(null))?n:""}},messageGroup:{...X.current},setIsSubmitting:e=>{Z(e)}})),(0,n.jsx)(i.A,{...en,children:(0,n.jsx)(h.A,{columns:r,layout:{"gate-input-cell-credential-id":{children:(0,n.jsx)(O,{input:(0,n.jsx)(E.A,{formControlProps:{...W,sx:{...F,...V}},id:m,inputProps:v,label:f,...x}),inputTestBatch:g(f,()=>{$(m)},{onFinishBatch:z(m)},e=>{$(m,{children:e})}),onBlurAppend:function(){for(var e=arguments.length,l=Array(e),t=0;t<e;t++)l[t]=arguments[t];null==k||k.call(null,...l)},onFirstRender:J(m),onUnmount:Q(m),ref:G,required:!0})},"gate-input-cell-credential-passphrase":{children:(0,n.jsx)(O,{input:(0,n.jsx)(E.A,{formControlProps:{...H,sx:{...F,...U}},id:A,inputProps:w,label:M,type:o.A.password,...I}),inputTestBatch:y(M,()=>{$(A)},{onFinishBatch:z(A)},e=>{$(A,{children:e})}),onFirstRender:J(A),onUnmount:Q(A),ref:K,required:!0})},...et},spacing:s,...a})})});N.displayName="GateForm";var V=t(74235),W=t(35755);let U=()=>{let{query:{rt:e}}=(0,s.useRouter)();return(0,n.jsx)(W.Zk,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 14em)",minWidth:"16em",width:{xs:"fit-content",sm:"26em"}},children:(0,n.jsx)(N,{gridProps:{columns:1},identifierLabel:"Username",onSubmitAppend:(l,t,n,r)=>{r(!0),a.A.post("/auth/login",{username:l,password:t}).then(()=>{let l=e?String(e):"/";window.location.replace(l)}).catch(e=>{n((0,V.A)(e,{onResponseErrorAppend:()=>({children:"Credentials mismatched.",type:"warning"})}))}).finally(()=>{r(!1)})},passphraseLabel:"Passphrase",submitLabel:"Login"})})};var H=t(88577);let G=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u(),{children:(0,n.jsx)("title",{children:"Login"})}),(0,n.jsx)(H.A,{}),(0,n.jsx)(U,{})]})},89099:(e,l,t)=>{e.exports=t(16296)}},e=>{e.O(0,[347,845,337,577,636,593,792],()=>e(e.s=60641)),_N_E=e.O()}]);