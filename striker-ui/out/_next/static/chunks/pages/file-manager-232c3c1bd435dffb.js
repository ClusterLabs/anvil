(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{54490:function(e,t,n){"use strict";n.d(t,{_d:function(){return m},gO:function(){return f}});var i={"b-B":8n,"b-kB":8000n,"b-MB":8000000n,"b-GB":8000000000n,"b-TB":8000000000000n,"b-PB":8000000000000000n,"b-EB":0x6f05b59d3b200000n,"b-ZB":0x1b1ae4d6e2ef5000000n,"b-YB":0x69e10de76676d08000000n,"b-KiB":8192n,"b-MiB":8388608n,"b-GiB":8589934592n,"b-TiB":8796093022208n,"b-PiB":9007199254740992n,"b-EiB":0x8000000000000000n,"b-ZiB":0x2000000000000000000n,"b-YiB":0x800000000000000000000n,"b-b":1n,"b-kbit":1000n,"b-Mbit":1000000n,"b-Gbit":1000000000n,"b-Tbit":1000000000000n,"b-Pbit":1000000000000000n,"b-Ebit":0xde0b6b3a7640000n,"b-Zbit":0x3635c9adc5dea00000n,"b-Ybit":0xd3c21bcecceda1000000n,"b-Kibit":1024n,"b-Mibit":1048576n,"b-Gibit":1073741824n,"b-Tibit":1099511627776n,"b-Pibit":1125899906842624n,"b-Eibit":0x1000000000000000n,"b-Zibit":0x400000000000000000n,"b-Yibit":0x100000000000000000000n},r=["byte","ibyte","bit","ibit"],l=["B","kB","MB","GB","TB","PB","EB","ZB","YB","B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB","b","kbit","Mbit","Gbit","Tbit","Pbit","Ebit","Zbit","Ybit","b","Kibit","Mibit","Gibit","Tibit","Pibit","Eibit","Zibit","Yibit"],o=function(e){return BigInt(Math.pow(10,e))},s=function(e,t){var n=e.precision,r=e.value,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=l.isReverse;if("b"===t)return{precision:n,value:r};var a=i["b-".concat(t)];if(s)return{precision:n,value:r*a};var u=String(a).length,c=r*o(u)/a;return{precision:n+u,value:c}},a=function(e,t){var n="i"===e[1],i=/B$/.test(e),r="".concat(n?"i":"").concat(i?"byte":"bit"),l=t.findIndex(function(e){return e===r});return{section:r,index:l}},u=function(e,t,n,i,r,l,o){var s=l.indexOf(n),u=t;s<0&&(s=a(t,l).index);for(var c=s*o,d=c+o;c<d;c+=1){var h=r[c];e>=i["b-".concat(h)]?u=h:c=d}return u};function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach(function(t){var i;i=n[t],t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n,i,r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var l=[],o=!0,s=!1;try{for(r=r.call(e);!(o=(n=r.next()).done)&&(l.push(n.value),!t||l.length!==t);o=!0);}catch(e){s=!0,i=e}finally{try{o||null==r.return||r.return()}finally{if(s)throw i}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}}(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}var p=function(e){var t=e.precision,n=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.bigintFormatOptions,l=i.numberFormatOptions,s=i.locale,a=o(t),u=n/a,c=n%a,v=h("0.",2),p=v[0],f=v[1],m=u.toString(),b=c.toString();if(s){var g="string"==typeof s?s:void 0,x=h(.1.toLocaleString(g,l),2);p=x[0],f=x[1],m=u.toLocaleString(g,r),b=c.toLocaleString(g,d(d({},r),{},{useGrouping:!1}))}var Z=m;return t>0&&(Z+="".concat(f).concat(b.padStart(t,p))),Z},f=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.fromUnit,r=n.locale,l=n.precision,o=n.toUnit;try{t=x(e)}catch(e){return}var a=Z(l),u=a.max,c=a.min,d=g(void 0===i?"B":i,"B").unit,h=j(t=s(t,d,{isReverse:!0}),d,{toUnit:o});return{value:p(t=y(t=b(t=s(t,h),{toPrecision:Math.max(c,Math.min(t.precision,u))}),c),{locale:r}),unit:h}},m=function(){var e=f.apply(void 0,arguments);return e?"".concat(e.value," ").concat(e.unit):e},b=function(e){var t=e.precision,n=e.value,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.toPrecision,l=void 0===r?0:r,s={precision:l,value:n};if(l>t)s.value*=o(l-t);else if(l<t){var a=t-l,u=o(a),c=s.value%u/o(a-1);s.value/=u,c>4&&(s.value+=1n)}return s},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l,i=n.indexOf(e);return i<0?{unit:t,unitIndex:0}:{unit:n[i],unitIndex:i}},x=function(e){var t,n,i=String(e).split(/\D/,2),r=null!==(t=null===(n=i[1])||void 0===n?void 0:n.length)&&void 0!==t?t:0,l=i.join("");if(0===l.length)throw Error("Value is blank.");return{value:BigInt(l),precision:r}},Z=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"number"==typeof n?{max:n,min:n}:{max:null!==(e=n.max)&&void 0!==e?e:2,min:null!==(t=n.min)&&void 0!==t?t:0}},j=function(e,t){var n=e.precision,s=e.value,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=a.conversionTable,d=a.toUnit,h=a.units,v=void 0===h?l:h,p=a.unitSections,f=a.unitSectionLength,m=v.indexOf(d);return m>=0?v[m]:u(s/o(n),t,d,void 0===c?i:c,v,void 0===p?r:p,void 0===f?9:f)},y=function(e,t){for(var n=e.precision,i={precision:n,value:e.value},r=n-t,l=!0,o=1;l&&o<=r;o+=1)0n===i.value%10n?(i.value/=10n,i.precision-=1):l=!1;return i}},91953:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/file-manager",function(){return n(6033)}])},34635:function(e,t,n){"use strict";var i=n(85893),r=n(99576);t.Z=function(){let{sx:e,text:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.jsx)(i.Fragment,{children:t&&(0,i.jsx)(r.Z,{...n,sx:{marginTop:".4em",...e},text:t})})}},23833:function(e,t,n){"use strict";var i=n(85893),r=n(73970),l=n(85959),o=n(77831);t.Z=e=>{let{children:t,sx:n}=e,s={backgroundColor:o.lD,paddingRight:"3em",["&.".concat(r.Z.selected)]:{backgroundColor:o.s7,fontWeight:400,["&.".concat(r.Z.focusVisible)]:{backgroundColor:o.s7},"&:hover":{backgroundColor:o.s7}},["&.".concat(r.Z.focusVisible)]:{backgroundColor:o.s7},"&:hover":{backgroundColor:o.s7},...n};return(0,i.jsx)(l.Z,{...e,sx:s,children:t})}},15627:function(e,t,n){"use strict";n.d(t,{Z:function(){return v}});var i=n(85893),r=n(19607),l=n(58811),o=n(80594),s=n(28721),a=n(61481),u=n(67294),c=n(77831),d=n(37842);let h=e=>{let{disableAutofill:t=!1,endAdornment:n,label:h,onPasswordVisibilityAppend:v,sx:p,inputProps:{type:f,...m}={},type:b=f,...g}=e,[x,Z]=(0,u.useState)(b),j=(0,u.useMemo)(()=>{let e=b===d.Z.password,t=x===d.Z.password;return(0,i.jsx)(i.Fragment,{children:e&&(0,i.jsx)(o.Z,{onClick:function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];let r=t?d.Z.text:d.Z.password;Z(r),null==v||v.call(null,r,...n)},children:t?(0,i.jsx)(r.Z,{}):(0,i.jsx)(l.Z,{})})})},[b,v,x]),y=(0,u.useMemo)(()=>({color:c.s7,["& .".concat(s.Z.notchedOutline)]:{borderColor:c.UZ},["& .".concat(s.Z.input)]:{color:c.lD},"&:hover":{["& .".concat(s.Z.notchedOutline)]:{borderColor:c.s7}},["&.".concat(s.Z.focused)]:{color:c.lD,["& .".concat(s.Z.notchedOutline)]:{borderColor:c.s7,"& legend":{paddingRight:h?"1.2em":0}}},...p}),[h,p]),k=(0,u.useMemo)(()=>{let e;if("object"==typeof n){let{props:{children:t=[],...r}}=n;e=(0,u.cloneElement)(n,{...r,children:(0,i.jsxs)(i.Fragment,{children:[j,t]})})}return e},[j,n]),w=(0,u.useMemo)(()=>t?{onFocus:function(){for(var e,t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];let[r]=n;r.target.readOnly=!1,null==g||null===(e=g.onFocus)||void 0===e||e.call(null,...n)},readOnly:!0}:void 0,[t,null==g?void 0:g.onFocus]);return(0,i.jsx)(a.Z,{endAdornment:k,label:h,inputProps:{type:x,...m},...g,...w,sx:y})};h.defaultProps={disableAutofill:!1,onPasswordVisibilityAppend:void 0};var v=h},79237:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(85893),r=n(21182),l=n(73315),o=n(69375),s=n(72341),a=n(14440),u=n(77831),c=e=>{let{children:t,isNotifyRequired:n,sx:c,variant:d="outlined",...h}=e,v={color:"".concat(u.s7,"9F"),["& .".concat(l.Z.root)]:{color:u.s7},["&.".concat(o.Z.focused)]:{backgroundColor:u.s7,borderRadius:u.n_,color:u.E5,padding:".1em .6em"},["&.".concat(o.Z.shrink," .").concat(l.Z.root)]:{display:"none"},...c};return(0,i.jsx)(s.Z,{variant:d,...h,sx:v,children:(0,i.jsxs)(a.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"row"},children:[n&&(0,i.jsx)(r.Z,{sx:{marginLeft:"-.2rem",marginRight:".4rem"}}),t]})})}},91029:function(e,t,n){"use strict";var i=n(85893),r=n(77970),l=n(51714),o=n(99657),s=n(80543),a=n(80594),u=n(67294),c=n(77831),d=n(34635),h=n(15627),v=n(79237);let p={baseInputProps:void 0,formControlProps:{},helpMessageBoxProps:{},id:"",inputProps:{},inputLabelProps:{},messageBoxProps:{},onHelp:void 0,onHelpAppend:void 0,required:!1,type:void 0,value:""},f=e=>{let{baseInputProps:t,disableAutofill:n,formControlProps:f=p.formControlProps,helpMessageBoxProps:m=p.helpMessageBoxProps,id:b=p.id,inputProps:{endAdornment:g,...x}=p.inputProps,inputLabelProps:Z=p.inputLabelProps,label:j,messageBoxProps:y=p.messageBoxProps,name:k,onBlur:w,onChange:C,onFocus:M,onHelp:P,onHelpAppend:O,required:B=p.required,type:S,value:A=p.value}=e,{text:F=""}=m,[I,E]=(0,u.useState)(!1),D=(0,u.useMemo)(()=>I&&(0,i.jsx)(d.Z,{onClose:()=>{E(!1)},...m}),[m,I]),R=(0,u.useMemo)(()=>void 0!==P||F.length>0,[F,P]),T=(0,u.useCallback)(()=>{let e;return P?e=P:F.length>0&&(e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];E(e=>!e),null==O||O.call(null,...t)}),e},[F,P,O]),U=(0,u.useMemo)(T,[T]);return(0,i.jsxs)(l.Z,{fullWidth:!0,...f,children:[(0,i.jsx)(v.Z,{htmlFor:b,isNotifyRequired:B,...Z,children:j}),(0,i.jsx)(h.Z,{disableAutofill:n,endAdornment:(0,i.jsxs)(o.Z,{position:"end",sx:{display:"flex",flexDirection:"row",["& > .".concat(s.Z.root)]:{color:c.s7,padding:".2em"},["& > :not(:first-child, .".concat(s.Z.root,")")]:{marginLeft:".3em"}},children:[g,R&&(0,i.jsx)(a.Z,{onClick:U,tabIndex:-1,children:(0,i.jsx)(r.Z,{})})]}),fullWidth:f.fullWidth,id:b,inputProps:t,label:j,name:k,onBlur:w,onChange:C,onFocus:M,type:S,value:A,...x}),D,(0,i.jsx)(d.Z,{...y})]})};f.defaultProps=p,t.Z=f},6189:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(85893),r=n(84799),l=n(20869),o=n(51714),s=n(67294),a=n(34635),u=n(23833),c=n(15627),d=n(79237),h=n(12641),v=n(49440),p=n(80543),f=n(79588),m=n(99657),b=n(80594),g=n(64242),x=n(77831),Z=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[l]=t,{onClearIndicatorClick:o,...a}=l,{sx:u,value:c,...d}=a,Z=(0,s.useMemo)(()=>({["& .".concat(r.Z.icon)]:{color:x.s7},["& .".concat(v.Z.root)]:{marginRight:".8em"},["& .".concat(p.Z.root)]:{color:x.s7,visibility:"hidden"},["&:hover .".concat(v.Z.root," .").concat(p.Z.root,",\n      &.").concat(f.Z.focused," .").concat(v.Z.root," .").concat(p.Z.root)]:{visibility:"visible"},...u}),[u]),j=(0,s.useMemo)(()=>String(c).length>0&&o&&(0,i.jsx)(m.Z,{position:"end",children:(0,i.jsx)(b.Z,{onClick:o,children:(0,i.jsx)(h.Z,{fontSize:"small"})})}),[o,c]);return(0,i.jsx)(g.Z,{endAdornment:j,value:c,...d,sx:Z})},j=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[h]=t,{id:v,label:p,selectItems:f,checkItem:m,disableItem:b,formControlProps:g,hideItem:x,inputLabelProps:j={},isReadOnly:y=!1,messageBoxProps:k={},name:w,onBlur:C,onChange:M,onFocus:P,required:O,selectProps:{multiple:B,sx:S,...A}={},value:F,isCheckableItems:I=B}=h,E=(0,s.useMemo)(()=>y?{["& .".concat(r.Z.icon)]:{visibility:"hidden"},...S}:S,[y,S]),D=(0,s.useCallback)(e=>I&&(0,i.jsx)(l.Z,{checked:null==m?void 0:m.call(null,e)}),[m,I]),R=(0,s.useCallback)((e,t)=>(0,i.jsxs)(u.Z,{disabled:null==b?void 0:b.call(null,e),sx:{display:(null==x?void 0:x.call(null,e))?"none":void 0},value:e,children:[D(e),t]},"".concat(v,"-").concat(e)),[D,b,x,v]),T=(0,s.useMemo)(()=>"".concat(v,"-select-element"),[v]),U=(0,s.useMemo)(()=>(0,i.jsx)(c.Z,{id:v,label:p}),[v,p]),_=(0,s.useMemo)(()=>p&&(0,i.jsx)(d.Z,{htmlFor:T,isNotifyRequired:O,...j,children:p}),[j,O,p,T]),V=(0,s.useMemo)(()=>f.map(e=>{if("string"==typeof e)return R(e,e);let{value:t,displayValue:n=String(t)}=e;return R(t,n)}),[R,f]);return(0,i.jsxs)(o.Z,{fullWidth:!0,...g,children:[_,(0,i.jsx)(Z,{id:T,input:U,multiple:B,name:w,onBlur:C,onChange:M,onFocus:P,readOnly:y,value:F,...A,sx:E,children:V}),(0,i.jsx)(a.Z,{...k})]})}},12387:function(e,t,n){"use strict";var i=n(67294),r=n(37842),l=n(14879);let o=(0,i.forwardRef)((e,t)=>{let{input:n,onChange:o=function(e){let{handlers:{base:t,origin:n}}=e;for(var i=arguments.length,r=Array(i>1?i-1:0),l=1;l<i;l++)r[l-1]=arguments[l];null==t||t.call(null,...r),null==n||n.call(null,...r)},onMount:s,onUnmount:a}=e,{props:u}=n,{valueKey:c,valueType:d}=(0,i.useMemo)(()=>{let{type:e}=u,t="value",n="string";return e===r.Z.checkbox&&(t="checked",n="boolean"),{valueKey:t,valueType:n}},[u]),{onChange:h,[c]:v,...p}=u,[f,m]=(0,i.useState)(v),b=(0,i.useCallback)(e=>{let{target:{[c]:t}}=e;m(l.Z[d](t))},[c,d]),g=(0,i.useCallback)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==o?void 0:o.call(null,{handlers:{base:b,origin:h}},...t)},[b,h,o]);return(0,i.useEffect)(()=>(null==s||s.call(null),a),[]),(0,i.useImperativeHandle)(t,()=>({get:()=>f,set:m}),[f]),(0,i.cloneElement)(n,{...p,onChange:g,[c]:f})});o.displayName="UncontrolledInput",t.Z=o},68805:function(e,t,n){"use strict";var i=n(67294),r=n(98484),l=n(97607);t.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{config:t,onError:n,onData:o,url:s=""}=e,[a,u]=(0,i.useState)(!1);return{fetch:(0,i.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0,a="".concat(s).concat(e);a&&(u(!0),r.Z.get(a,{...t,...i}).then(e=>{let{data:t}=e;null==o||o.call(null,t)}).catch(e=>{let t=(0,l.Z)(e);null==n||n.call(null,t)}).finally(()=>{u(!1)}))},[s,t,o,n]),loading:a}}},62848:function(e,t,n){"use strict";var i=n(67294);t.Z=function(){let{actionProceedText:e="",content:t="",titleText:n="",...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,i.useState)({actionProceedText:e,content:t,titleText:n,...r})}},77510:function(e,t,n){"use strict";var i=n(67294),r=n(8100),l=n(92230),o=n(54120);t.Z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{baseUrl:n=l.Z,fetcher:s=o.Z,mod:a,...u}=t,{data:c,error:d,mutate:h}=(0,r.ZP)("".concat(n).concat(e),s,u),v=(0,i.useMemo)(()=>a&&c&&a(c),[c,a]),p=!d&&!c;return{altData:v,data:c,error:d,mutate:h,loading:p}}},59752:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=e=>e.reduce((e,t)=>{let{hostName:n,hostType:i,hostUUID:r}=t;return e[r]={name:n,type:i,uuid:r},e},{}),r=e=>e.reduce((e,t)=>{let{anvilDescription:n,anvilName:r,anvilUUID:l,hosts:o}=t;return e[l]={description:n,hosts:i(o),name:r,uuid:l},e},{})},36026:function(e,t){"use strict";t.Z=(e,t)=>e&&Object.keys(e).reduce((e,n)=>({...e,[n]:t}),{})},37842:function(e,t){"use strict";t.Z={checkbox:"checkbox",number:"number",password:"password",text:"text"}},87196:function(e,t,n){"use strict";var i=n(66173);let r=function(e){let{build:t=(e,t)=>{let n=t;if("string"==typeof n){let[e,...t]=n.split(/\s+/);n=[(0,i.Z)(e.replace(/^[^\s]+\.([^.]+)/,"$1")),...t].join(" ")}return{children:n,type:"warning"}},chain:n="",skip:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(e).reduce((e,i)=>{let[o,s]=i,a=[n,o].filter(e=>!!e).join(".");return null!==s&&"object"==typeof s?{...e,...r(s,{build:t,chain:a,skip:l})}:((null==l?void 0:l.call(null,a))||(e[a]=t(a,s)),e)},{})};t.Z=r},74077:function(e,t,n){"use strict";n.d(t,{T:function(){return o},u:function(){return l}});var i=n(16310),r=n(38189);let l=()=>i.Z_().matches(r.Qt,{message:"${path} must be a valid UUID"}),o=()=>i.Z_().matches(r.tf,{message:"${path} must be a valid IPv4 address"})},6033:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return es}});var i=n(85893),r=n(9008),l=n.n(r),o=n(39937),s=n(54490),a=n(67294),u=n(92230);let c=[["iso",["application/x-cd-image","ISO (optical disc)"]],["other",["text/plain","Other file type"]],["script",["text/plain","Script (program)"]]],d=new Map(c);var h=n(55066),v=n(25934),p=n(4845),f=n(98484),m=n(99429),b=n(28054),g=n(50361),x=n.n(g),Z=n(23279),j=n.n(Z),y=n(56903),k=n(83916),w=n(91029),C=n(23930),M=n(6189),P=n(59278),O=n(12387),B=e=>{let{anvils:t,drHosts:n,fileUuid:r,formik:l,showSyncInputGroup:o,showTypeInput:s}=e,{handleBlur:u,handleChange:d}=l,h=(0,a.useMemo)(()=>j()(d,500),[d]),{nameChain:v,locationsChain:p,typeChain:f}=(0,a.useMemo)(()=>({nameChain:"".concat(r,".name"),locationsChain:"".concat(r,".locations"),typeChain:"".concat(r,".type")}),[r]),m=(0,a.useCallback)((e,t)=>{l.setValues(n=>{var i;let l=x()(n),o=null===(i=l[r].locations)||void 0===i?void 0:i[e];return o?(Object.keys(o).forEach(e=>{o[e].active=t}),l):n})},[l,r]),g=(0,a.useCallback)(e=>{var t;let n=null===(t=l.values[r].locations)||void 0===t?void 0:t[e];return n?{checked:Object.values(n).every(e=>{let{active:t}=e;return t}),onChange:(t,n)=>{m(e,n)}}:{}},[l.values,r,m]),Z=(0,a.useCallback)((e,t)=>{var n,i,o;let s="".concat(p,".").concat(e,".").concat(t),a="".concat(s,".active");return{id:a,name:a,checked:null===(o=l.values[r].locations)||void 0===o?void 0:null===(i=o[e])||void 0===i?void 0:null===(n=i[t])||void 0===n?void 0:n.active,onBlur:u,onChange:d}},[l.values,r,u,d,p]),B=(0,a.useCallback)(e=>{var t;let n=null===(t=l.values[r].locations)||void 0===t?void 0:t[e];return n&&Object.keys(n).length>1},[l.values,r]),S=(0,a.useMemo)(()=>(0,i.jsx)(O.Z,{input:(0,i.jsx)(w.Z,{id:v,label:"File name",name:v,onBlur:u,onChange:h,value:l.values[r].name})}),[h,l.values,r,u,v]),A=(0,a.useMemo)(()=>o&&(0,i.jsx)(C.TZ,{header:"Sync with node(s)",panelProps:{mb:0,mt:0,width:"100%"},children:(0,i.jsx)(k.Z,{allowCheckAll:B("anvils"),allowCheckItem:!0,edit:!0,header:!0,listItems:t,getListCheckboxProps:()=>g("anvils"),getListItemCheckboxProps:e=>Z("anvils",e),renderListItem:(e,t)=>{let{description:n,name:r}=t;return(0,i.jsxs)(P.Ac,{children:[r,": ",n]})}})}),[t,B,g,Z,o]),F=(0,a.useMemo)(()=>o&&(0,i.jsx)(C.TZ,{header:"Sync with DR host(s)",panelProps:{mb:0,mt:0,width:"100%"},children:(0,i.jsx)(k.Z,{allowCheckAll:B("drHosts"),allowCheckItem:!0,edit:!0,header:!0,listItems:n,getListCheckboxProps:()=>g("drHosts"),getListItemCheckboxProps:e=>Z("drHosts",e),renderListItem:(e,t)=>{let{hostName:n}=t;return(0,i.jsx)(P.Ac,{children:n})}})}),[n,B,g,Z,o]),I=(0,a.useMemo)(()=>s&&(0,i.jsx)(M.Z,{id:f,label:"File type",name:f,onBlur:u,onChange:d,selectItems:c.map(e=>{let[t,[,n]]=e;return{displayValue:n,value:t}}),value:l.values[r].type}),[l.values,r,u,d,s,f]);return(0,i.jsxs)(b.Z,{sx:{"& > :not(:first-child)":{marginTop:"1em"}},children:[(0,i.jsxs)(y.Z,{sm:"row",xs:"column",children:[S,I]}),A,F]})},S=n(87196),A=n(97607),F=n(81208),I=n(16310),E=n(36026),D=n(74077);let R=I.Ry({active:I.O7().required()}),T=I.Vo(e=>I.Ry((0,E.Z)(e,R))),U=I.Vo(e=>I.Ry((0,E.Z)(e,R))),_=I.Ry({locations:I.Ry({anvils:T,drHosts:U}),name:I.Z_().required(),type:I.Z_().oneOf(["iso","other","script"]),uuid:(0,D.u)().required()}),V=I.Vo(e=>I.Ry((0,E.Z)(e,_)));var L=n(14440),H=n(40743),G=e=>{let{uploads:t}=e;return(0,i.jsx)(y.Z,{columnSpacing:".2em",children:Object.values(t).map(e=>{let{name:t,progress:n,uuid:r}=e;return(0,i.jsxs)(L.Z,{sx:{alignItems:{md:"center"},display:"flex",flexDirection:{xs:"column",md:"row"},"& > :first-child":{minWidth:100,overflow:"hidden",overflowWrap:"normal",textOverflow:"ellipsis",whiteSpace:"nowrap",width:{xs:"100%",md:200},wordBreak:"keep-all"},"& > :last-child":{flexGrow:1}},children:[(0,i.jsx)(P.Ac,{children:t}),(0,i.jsx)(H.ko,{progressPercentage:n})]},"upload-".concat(r))})})};let N=(e,t,n)=>e?(e[t].progress=n,{...e}):e;var Y=e=>{let{anvils:t,drHosts:n}=e,r=(0,a.useRef)(null),l=(0,a.useRef)(null),[o,s]=(0,a.useState)(),u=(0,a.useCallback)(e=>{var t,n;return null==r?void 0:null===(n=r.current)||void 0===n?void 0:null===(t=n.setMessage)||void 0===t?void 0:t.call(null,"api",e)},[]),c=(0,h.TA)({initialValues:{},onSubmit:e=>{let t=Object.values(e);s(t.reduce((e,t)=>{let{file:n,name:i,uuid:r}=t;return n&&(e[r]={name:i,progress:0,uuid:r}),e},{})),u({children:(0,i.jsx)(i.Fragment,{children:"Closing this dialog before the upload(s) complete will cancel the upload(s)."})}),Promise.all(t.reduce((e,t)=>{let{file:n,name:i,uuid:r}=t;if(!n)return e;let l=new FormData;l.append("file",new File([n],i,{...n}));let o=f.Z.post("/file",l,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let{loaded:t,total:n=t}=e;s(e=>N(e,r,Math.round(t/n*99)))}}).then(()=>{s(e=>N(e,r,100))});return e.push(o),e},[])).then(()=>{u({children:(0,i.jsxs)(y.Z,{spacing:0,children:[(0,i.jsx)("span",{children:"Upload(s) completed; file(s) will be listed after the job(s) to sync them to other host(s) finish."}),(0,i.jsx)("span",{children:"You can close this dialog."})]})})}).catch(e=>{let t=(0,A.Z)(e);t.children=(0,i.jsxs)(i.Fragment,{children:["Failed to add file. ",t.children]}),u(t)})},validationSchema:V}),d=(0,a.useMemo)(()=>(0,S.Z)(c.errors),[c.errors]),b=(0,a.useMemo)(()=>!c.dirty||!c.isValid||c.isValidating||c.isSubmitting,[c.dirty,c.isSubmitting,c.isValid,c.isValidating]),g=(0,a.useCallback)(e=>{let{target:{files:t}}=e;if(!t)return;let n=Array.from(t).reduce((e,t)=>{let n=(0,v.Z)();return e[n]={file:t,name:t.name,uuid:n},e},{});c.setValues(n)},[c]),x=(0,a.useMemo)(()=>c.values&&Object.values(c.values).map(e=>{let{uuid:r}=e;return(0,i.jsx)(B,{anvils:t,drHosts:n,fileUuid:r,formik:c},r)}),[t,n,c]);return(0,i.jsxs)(y.Z,{children:[(0,i.jsx)(F.Z,{ref:r}),o?(0,i.jsx)(G,{uploads:o}):(0,i.jsxs)(y.Z,{component:"form",onSubmit:e=>{e.preventDefault(),c.submitForm()},children:[(0,i.jsx)("input",{id:"files",multiple:!0,name:"files",onChange:g,ref:l,style:{display:"none"},type:"file"}),(0,i.jsx)(m.Z,{onClick:()=>{var e;null===(e=l.current)||void 0===e||e.click()},children:"Browse"}),x,(0,i.jsx)(F.Z,{count:1,messages:d}),(0,i.jsx)(p.Z,{actions:[{background:"blue",children:"Add",disabled:b,type:"submit"}]})]})]})},q=n(59752),W=n(77583),$=n(33544),K=n(29535);let z=(e,t)=>{let{locations:n,name:i,type:r,uuid:l}=e;if(!n||!r)return;let o=[];return Object.entries(n.anvils).reduce((e,n)=>{let[i,{active:r}]=n,{anvils:{[i]:{locationUuids:l}}}=t,o=l.map(e=>({fileLocationUUID:e,isFileLocationActive:r}));return e.push(...o),e},o),Object.entries(n.drHosts).reduce((e,n)=>{let[i,{active:r}]=n,{hosts:{[i]:{locationUuids:l}}}=t,o=l.map(e=>({fileLocationUUID:e,isFileLocationActive:r}));return e.push(...o),e},o),{fileLocations:o,fileName:i,fileType:r,fileUUID:l}};var J=e=>{let{anvils:t,drHosts:n,onSuccess:r,previous:l}=e,o=(0,a.useRef)({}),s=(0,a.useCallback)(e=>{var t;return null===(t=o.current.setMessage)||void 0===t?void 0:t.call(null,"api",e)},[]),u=(0,a.useMemo)(()=>{let{locations:e,name:t,type:i,uuid:r}=l;return{[r]:{locations:Object.values(e).reduce((e,t)=>{let{active:i,anvilUuid:r,hostUuid:l}=t,o="anvils",s=r;return l in n&&(o="drHosts",s=l),e[o][s]={active:i},e},{anvils:{},drHosts:{}}),name:t,type:i,uuid:r}}},[n,l]),c=(0,h.TA)({initialValues:u,onSubmit:(e,t)=>{let{setSubmitting:n}=t,o=z(e[l.uuid],l);f.Z.put("/file/".concat(l.uuid),o).then(()=>{s({children:(0,i.jsx)(i.Fragment,{children:"File updated."})}),null==r||r.call(null)}).catch(e=>{let t=(0,A.Z)(e);t.children=(0,i.jsxs)(i.Fragment,{children:["Failed to modify file. ",t.children]}),s(t)}).finally(()=>{n(!1)})},validationSchema:V}),d=(0,a.useMemo)(()=>(0,S.Z)(c.errors),[c.errors]),v=(0,a.useMemo)(()=>!c.dirty||!c.isValid||c.isValidating||c.isSubmitting,[c.dirty,c.isSubmitting,c.isValid,c.isValidating]);return(0,i.jsxs)(y.Z,{component:"form",onSubmit:e=>{e.preventDefault(),c.submitForm()},children:[(0,i.jsx)(B,{anvils:t,drHosts:n,fileUuid:l.uuid,formik:c,showSyncInputGroup:!0,showTypeInput:!0}),(0,i.jsx)(F.Z,{count:1,messages:d,ref:o}),(0,i.jsx)(p.Z,{loading:c.isSubmitting,actions:[{background:"blue",children:"Edit",disabled:v,type:"submit"}]})]})},X=n(48430),Q=n(53541),ee=n(68805),et=n(85291),en=n(62848),ei=n(77510);let er=e=>e.reduce((e,t)=>{let[n,i,r,l,o]=t;return e[n]={checksum:o,name:i,size:r,type:l,uuid:n},e},{}),el=e=>{let{0:t}=e;if(!t)return;let[n,i,r,l,o]=t;return e.reduce((e,t)=>{let{5:n,6:i,7:r,8:l,9:o,10:s,11:a,12:u}=t;e.anvils[r]||(e.anvils[r]={description:o,locationUuids:[],name:l,uuid:r}),e.hosts[s]||(e.hosts[s]={locationUuids:[],name:a,type:u,uuid:s}),"dr"===u?e.hosts[s].locationUuids.push(n):e.anvils[r].locationUuids.push(n);let c=1===Number(i);return e.locations[n]={anvilUuid:r,active:c,hostUuid:s,uuid:n},e},{anvils:{},checksum:o,hosts:{},locations:{},name:i,size:r,type:l,uuid:n})};var eo=()=>{let e=(0,a.useRef)(null),t=(0,a.useRef)({}),n=(0,a.useRef)(null),r=(0,a.useRef)({}),[l,o]=(0,en.Z)(),[c,h]=(0,a.useState)(!1),[v,p]=(0,a.useState)(),[m,b]=(0,a.useState)(),{isLoading:g}=(0,X.Z)("".concat(u.Z,"/file"),{onSuccess:e=>{b(er(e))}}),{fetch:x,loading:Z}=(0,ee.Z)({onData:e=>b(er(e)),url:"/file"}),j=(0,a.useMemo)(()=>g||Z,[Z,g]),{buildDeleteDialogProps:w,checks:M,getCheck:O,hasAllChecks:B,hasChecks:S,multipleItems:A,resetChecks:I,setAllChecks:E,setCheck:D}=(0,et.Z)({list:m}),R=(0,a.useCallback)(e=>{var t;return null===(t=r.current.setMessage)||void 0===t?void 0:t.call(null,"api",e)},[]),{fetch:T,loading:U}=(0,ee.Z)({onData:e=>p(el(e)),onError:e=>{let{children:t,...n}=e;R({children:(0,i.jsxs)(i.Fragment,{children:["Failed to get file detail. ",t]}),...n})},url:"/file/"}),{data:_,loading:V}=(0,ei.Z)("/anvil",{onError:e=>{R({children:(0,i.jsxs)(i.Fragment,{children:["Failed to get node list. ",e]}),type:"warning"})}}),L=(0,a.useMemo)(()=>_&&(0,q.Z)(_),[_]),{data:H,loading:G}=(0,ei.Z)("/host?types=dr",{onError:e=>{R({children:(0,i.jsxs)(i.Fragment,{children:["Failed to get DR host list. ",e]}),type:"warning"})}}),N=(0,a.useMemo)(()=>(0,i.jsx)(k.Z,{allowCheckAll:A,allowEdit:!0,allowItemButton:c,disableDelete:!S,edit:c,getListCheckboxProps:()=>({checked:B,onChange:(e,t)=>{E(t)}}),getListItemCheckboxProps:e=>({checked:O(e),onChange:(t,n)=>{D(e,n)}}),header:!0,listEmpty:"No file(s) found.",listItems:m,onAdd:()=>{var t;null===(t=e.current)||void 0===t||t.setOpen(!0)},onDelete:()=>{var e;o(w({onProceedAppend:()=>{Promise.all(M.map(e=>f.Z.delete("/file/".concat(e)))).then(()=>x()),I()},getConfirmDialogTitle:e=>"Delete the following ".concat(e," file(s)?"),renderEntry:e=>{let{key:t}=e;return(0,i.jsx)(P.Ac,{children:null==m?void 0:m[t].name})}})),null===(e=t.current.setOpen)||void 0===e||e.call(null,!0)},onEdit:()=>{h(e=>!e)},onItemClick:(e,t)=>{var i;null===(i=n.current)||void 0===i||i.setOpen(!0),T(t)},renderListItem:(e,t)=>{var n;let{checksum:r,name:l,size:o,type:a}=t;return(0,i.jsxs)(y.Z,{columnSpacing:0,fullWidth:!0,md:"row",xs:"column",children:[(0,i.jsxs)(y.Z,{spacing:0,flexGrow:1,children:[(0,i.jsxs)(y.Z,{row:!0,spacing:".5em",children:[(0,i.jsx)(P.$_,{children:l}),(0,i.jsx)(K.Z,{flexItem:!0,orientation:"vertical"}),(0,i.jsx)(P.Ac,{children:null===(n=d.get(a))||void 0===n?void 0:n[1]})]}),(0,i.jsx)(P.Ac,{children:(0,s._d)(o,{toUnit:"ibyte"})})]}),(0,i.jsx)(P.$_,{children:r})]})}}),[w,M,c,m,O,T,x,B,S,A,I,E,D,o]),z=(0,a.useMemo)(()=>j?(0,i.jsx)(Q.Z,{}):N,[j,N]),eo=(0,a.useMemo)(()=>(0,i.jsx)(F.Z,{count:1,ref:r,usePlaceholder:!1}),[]),es=(0,a.useMemo)(()=>g||V||G,[V,G,g]),ea=(0,a.useMemo)(()=>g||V||G||U,[V,G,U,g]),eu=(0,a.useMemo)(()=>L&&H&&(0,i.jsx)(Y,{anvils:L,drHosts:H}),[L,H]),ec=(0,a.useMemo)(()=>L&&H&&v&&(0,i.jsx)(J,{anvils:L,drHosts:H,onSuccess:()=>{x()},previous:v}),[L,H,v,x]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(C.s_,{children:[(0,i.jsx)(C.V9,{children:(0,i.jsx)(P.z,{children:"Files"})}),eo,z]}),(0,i.jsx)($.Js,{header:"Add file(s)",loading:es,ref:e,showClose:!0,wide:!0,children:eu}),(0,i.jsx)($.Js,{header:"Update file ".concat(null==v?void 0:v.name),loading:ea,ref:n,showClose:!0,wide:!0,children:ec}),(0,i.jsx)(W.Z,{closeOnProceed:!0,wide:!0,...l,ref:t})]})},es=()=>(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(l(),{children:(0,i.jsx)("title",{children:"File Manager"})}),(0,i.jsx)(o.Z,{}),(0,i.jsx)(eo,{})]})}},function(e){e.O(0,[162,442,318,206,461,602,334,26,321,888,774,179],function(){return e(e.s=91953)}),_N_E=e.O()}]);