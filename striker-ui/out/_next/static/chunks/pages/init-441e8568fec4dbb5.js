(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{62705:function(e,n,t){var l=t(55639).Symbol;e.exports=l},44239:function(e,n,t){var l=t(62705),r=t(89607),i=t(2333),s=l?l.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?r(e):i(e)}},27561:function(e,n,t){var l=t(67990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,l(e)+1).replace(r,""):e}},31957:function(e,n,t){var l="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=l},89607:function(e,n,t){var l=t(62705),r=Object.prototype,i=r.hasOwnProperty,s=r.toString,a=l?l.toStringTag:void 0;e.exports=function(e){var n=i.call(e,a),t=e[a];try{e[a]=void 0;var l=!0}catch(e){}var r=s.call(e);return l&&(n?e[a]=t:delete e[a]),r}},2333:function(e){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},55639:function(e,n,t){var l=t(31957),r="object"==typeof self&&self&&self.Object===Object&&self,i=l||r||Function("return this")();e.exports=i},67990:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},23279:function(e,n,t){var l=t(13218),r=t(7771),i=t(14841),s=Math.max,a=Math.min;e.exports=function(e,n,t){var o,u,c,d,h,m,x=0,f=!1,v=!1,g=!0;if("function"!=typeof e)throw TypeError("Expected a function");function p(n){var t=o,l=u;return o=u=void 0,x=n,d=e.apply(l,t)}function j(e){var t=e-m,l=e-x;return void 0===m||t>=n||t<0||v&&l>=c}function b(){var e,t,l,i=r();if(j(i))return P(i);h=setTimeout(b,(e=i-m,t=i-x,l=n-e,v?a(l,c-t):l))}function P(e){return(h=void 0,g&&o)?p(e):(o=u=void 0,d)}function Z(){var e,t=r(),l=j(t);if(o=arguments,u=this,m=t,l){if(void 0===h)return x=e=m,h=setTimeout(b,n),f?p(e):d;if(v)return clearTimeout(h),h=setTimeout(b,n),p(m)}return void 0===h&&(h=setTimeout(b,n)),d}return n=i(n)||0,l(t)&&(f=!!t.leading,c=(v="maxWait"in t)?s(i(t.maxWait)||0,n):c,g="trailing"in t?!!t.trailing:g),Z.cancel=function(){void 0!==h&&clearTimeout(h),x=0,o=m=u=h=void 0},Z.flush=function(){return void 0===h?d:P(r())},Z}},13218:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,n,t){var l=t(44239),r=t(37005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==l(e)}},7771:function(e,n,t){var l=t(55639);e.exports=function(){return l.Date.now()}},14841:function(e,n,t){var l=t(27561),r=t(13218),i=t(33448),s=0/0,a=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return s;if(r(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=r(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=l(e);var t=o.test(e);return t||u.test(e)?c(e.slice(2),t?2:8):a.test(e)?s:+e}},45844:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/init",function(){return t(89198)}])},77583:function(e,n,t){"use strict";var l=t(85893),r=t(14440),i=t(67294),s=t(33544),a=t(56903),o=t(87006),u=t(59278);let c=(0,i.forwardRef)((e,n)=>{let{actionCancelText:t="Cancel",actionProceedText:c,children:d,closeOnProceed:h=!1,contentContainerProps:m,dialogProps:x,disableProceed:f,loading:v,loadingAction:g=!1,onActionAppend:p,onCancelAppend:j,onProceedAppend:b,openInitially:P,preActionArea:Z,proceedButtonProps:y,proceedColour:k="blue",scrollContent:w=!1,scrollBoxProps:C,showActionArea:N=!0,showCancel:S,showClose:A,titleText:V,wide:R,content:O=d}=e,z=(0,i.useRef)(null),H=(0,i.useMemo)(()=>(0,o.Z)(O,u.Ac),[O]),F=(0,i.useMemo)(()=>(0,i.createElement)(w?s.VZ:r.Z,C,H),[H,C,w]),I=(0,i.useMemo)(()=>N&&(0,l.jsx)(s.ux,{cancelProps:{children:t,onClick:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];null==p||p.call(null,...n),null==j||j.call(null,...n)}},closeOnProceed:h,loading:g,proceedProps:{background:k,children:c,disabled:f,onClick:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];null==p||p.call(null,...n),null==b||b.call(null,...n)},...y},showCancel:S}),[t,c,h,f,g,p,j,b,y,k,N,S]);return(0,i.useImperativeHandle)(n,()=>({setOpen:e=>{var n;return null===(n=z.current)||void 0===n?void 0:n.setOpen(e)}}),[]),(0,l.jsx)(s.Js,{dialogProps:x,header:V,loading:v,openInitially:P,ref:z,showClose:A,wide:R,children:(0,l.jsxs)(a.Z,{...m,children:[F,Z,I]})})});c.displayName="ConfirmDialog",n.Z=c},81208:function(e,n,t){"use strict";var l=t(85893),r=t(67294),i=t(99576);let s={count:0,defaultMessageType:"info",messages:void 0,onSet:void 0,usePlaceholder:!0},a=(0,r.forwardRef)((e,n)=>{let{count:t=s.count,defaultMessageType:a=s.defaultMessageType,messages:o,onSet:u,usePlaceholder:c=s.usePlaceholder}=e,[d,h]=(0,r.useState)({}),m=(0,r.useMemo)(()=>({...o,...d}),[o,d]),x=(0,r.useCallback)(e=>void 0!==m[e],[m]),f=(0,r.useCallback)((e,n)=>{let t=0;h(l=>{let{[e]:r,...i}=l;return n&&(i[e]=n),t=Object.keys(i).length,i}),null==u||u.call(null,t)},[u]),v=(0,r.useCallback)((e,n)=>{let t=0,l=n?(e,l)=>{e[l]=n,t+=1}:void 0;h(n=>{let r={};return Object.keys(n).forEach(i=>{e.test(i)?null==l||l.call(null,r,i):(r[i]=n[i],t+=1)}),r}),null==u||u.call(null,t)},[u]),g=(0,r.useMemo)(()=>{let e=Object.entries(m),n=t>0,r=n?t:e.length,s=[];if(e.every(e=>{let[n,t]=e,{children:o,type:u=a}=t;return s.push((0,l.jsx)(i.Z,{type:u,children:o},"message-".concat(n))),s.length<r}),c&&n&&0===s.length){let e=t-s.length;for(let n=0;n<e;n+=1)s.push((0,l.jsx)(i.Z,{sx:{visibility:"hidden"},text:"Placeholder"},"message-placeholder-".concat(n)))}return s},[t,a,c,m]);return(0,r.useImperativeHandle)(n,()=>({exists:x,setMessage:f,setMessageRe:v}),[x,f,v]),(0,l.jsx)(l.Fragment,{children:g})});a.defaultProps=s,a.displayName="MessageGroup",n.Z=a},14879:function(e,n){"use strict";n.Z={boolean:e=>!!e,number:e=>parseInt(String(e),10)||0,string:e=>String(e)}},89198:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var l=t(85893),r=t(14440),i=t(19338),s=t(99514),a=t(11163),o=t(67294),u=t(92230),c=t(77831),d=t(98484),h=t(77583),m=t(99429),x=t(56903),f=t(20869),v=t(37842),g=t(38189),p=t(28293),j=t(99576),b=t(81208),P=t(91029),Z=t(95277);let y={show:!0},k=e=>{let{onClick:n,show:t=y.show,...r}=e;return t?(0,l.jsx)(m.Z,{onClick:n,tabIndex:-1,...r,children:"Suggest"}):(0,l.jsx)(l.Fragment,{})};k.defaultProps=y;var w=t(52675),C=t(59278);let N={adminPassword:"adminPassword",confirmAdminPassword:"confirmAdminPassword",domainName:"domainName",hostName:"hostName",hostNumber:"hostNumber",organizationName:"organizationName",organizationPrefix:"organizationPrefix"},S={0:()=>"",1:e=>{let[n]=e;return n.substring(0,1).toLocaleLowerCase()},2:e=>e.map(e=>e.substring(0,1).toLocaleLowerCase()).join("")},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.split(/\s/).filter(e=>!/and|of/.test(e)).slice(0,5);return S[n.length>1?2:n.length](n)},V=e=>{let{organizationPrefix:n,hostNumber:t,domainName:l}=e;return[n,t,l].every(e=>!!e)?"".concat(n,"-striker").concat((0,Z.Z)(t),".").concat(l):""},R=(0,o.forwardRef)((e,n)=>{var t,r,i,a;let{expectHostDetail:u=!1,hostDetail:c,onHostNumberBlurAppend:d,toggleSubmitDisabled:h}=e,[m,Z]=(0,o.useState)(),[y,S]=(0,o.useState)(!1),[R,O]=(0,o.useState)(!1),[z,H]=(0,o.useState)(!0),F=(0,o.useRef)(!0),I=(0,o.useRef)({}),_=(0,o.useRef)({}),M=(0,o.useRef)({}),T=(0,o.useRef)({}),q=(0,o.useRef)({}),D=(0,o.useRef)({}),L=(0,o.useRef)({}),$=(0,o.useRef)({}),B=(0,o.useCallback)(e=>{var n;return null===(n=$.current.setMessage)||void 0===n?void 0:n.call(null,N.organizationPrefix,e)},[]),E=(0,o.useCallback)(e=>{var n;return null===(n=$.current.setMessage)||void 0===n?void 0:n.call(null,N.hostNumber,e)},[]),Q=(0,o.useCallback)(e=>{var n;return null===(n=$.current.setMessage)||void 0===n?void 0:n.call(null,N.domainName,e)},[]),J=(0,o.useCallback)(e=>{var n;return null===(n=$.current.setMessage)||void 0===n?void 0:n.call(null,N.hostName,e)},[]),U=(0,o.useCallback)(e=>{var n;return null===(n=$.current.setMessage)||void 0===n?void 0:n.call(null,N.adminPassword,e)},[]),G=(0,o.useCallback)(e=>{var n;return null===(n=$.current.setMessage)||void 0===n?void 0:n.call(null,N.confirmAdminPassword,e)},[]),W=(0,o.useMemo)(()=>({[N.adminPassword]:{defaults:{getValue:()=>{var e;return null===(e=I.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:()=>{U(void 0)}},isRequired:!0,tests:[{onFailure:()=>{U({children:(0,l.jsxs)(l.Fragment,{children:["Admin password cannot contain single-quote (",(0,l.jsx)(C.Q0,{text:"'"}),"), double-quote (",(0,l.jsx)(C.Q0,{text:'"'}),"), slash (",(0,l.jsx)(C.Q0,{text:"/"}),"), backslash (",(0,l.jsx)(C.Q0,{text:"\\"}),"), angle brackets (",(0,l.jsx)(C.Q0,{text:"<>"}),"), curly brackets (",(0,l.jsx)(C.Q0,{text:"{}"}),")."]})})},test:e=>{let{value:n}=e;return!/['"/\\><}{]/g.test(n)}},{test:w.HJ}]},[N.confirmAdminPassword]:{defaults:{getValue:()=>{var e,n;return null===(n=_.current)||void 0===n?void 0:null===(e=n.getValue)||void 0===e?void 0:e.call(null)},onSuccess:()=>{G(void 0)}},isRequired:!0,tests:[{onFailure:()=>{G({children:"Confirmation doesn't match admin password."})},test:e=>{var n;let{value:t}=e;return t===(null===(n=I.current.getValue)||void 0===n?void 0:n.call(null))}},{test:w.HJ}]},[N.domainName]:{defaults:{compare:[!z],getValue:()=>{var e;return null===(e=q.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:()=>{Q(void 0)}},isRequired:!0,tests:[{onFailure:()=>{Q({children:(0,l.jsxs)(l.Fragment,{children:["Domain name can only contain lowercase alphanumeric, hyphen (",(0,l.jsx)(C.Q0,{text:"-"}),"), and dot (",(0,l.jsx)(C.Q0,{text:"."}),") characters."]})})},test:e=>{let{compare:n,value:t}=e;return n[0]||g.FZ.test(t)}},{test:w.HJ}]},[N.hostName]:{defaults:{compare:[!z],getValue:()=>{var e;return null===(e=L.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:()=>{J(void 0)}},isRequired:!0,tests:[{onFailure:()=>{J({children:(0,l.jsxs)(l.Fragment,{children:["Host name can only contain lowercase alphanumeric, hyphen (",(0,l.jsx)(C.Q0,{text:"-"}),"), and dot (",(0,l.jsx)(C.Q0,{text:"."}),") characters."]})})},test:e=>{let{compare:n,value:t}=e;return n[0]||g.FZ.test(t)}},{test:w.HJ}]},[N.hostNumber]:{defaults:{getValue:()=>{var e;return null===(e=D.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:()=>{E(void 0)}},isRequired:!0,tests:[{onFailure:()=>{E({children:"Striker number can only contain digits."})},test:e=>{let{value:n}=e;return/^\d+$/.test(n)}},{test:w.HJ}]},[N.organizationName]:{defaults:{getValue:()=>{var e;return null===(e=M.current.getValue)||void 0===e?void 0:e.call(null)}},isRequired:!0,tests:[{test:w.HJ}]},[N.organizationPrefix]:{defaults:{getValue:()=>{var e;return null===(e=T.current.getValue)||void 0===e?void 0:e.call(null)},max:5,min:1,onSuccess:()=>{B(void 0)}},isRequired:!0,tests:[{onFailure:e=>{let{max:n,min:t}=e;B({children:"Organization prefix must be ".concat(t," to ").concat(n," lowercase alphanumeric characters.")})},test:e=>{let{max:n,min:t,value:l}=e;return RegExp("^[a-z0-9]{".concat(t,",").concat(n,"}$")).test(l)}}]}}),[z,U,G,Q,J,E,B]),X=(0,o.useMemo)(()=>(0,w.LT)(W),[W]),Y=(0,o.useCallback)(function(){let{excludeTestIds:e=[],inputs:n,isContinueOnFailure:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};null==h||h.call(null,X({excludeTestIds:e,inputs:n,isContinueOnFailure:t,isIgnoreOnCallbacks:!0,isTestAll:!0}))},[X,h]),K=(0,o.useCallback)(function(){var e;let{organizationName:n=null===(t=M.current.getValue)||void 0===t?void 0:t.call(null)}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=A(n);return null===(e=T.current.setValue)||void 0===e||e.call(null,l),Y({inputs:{[N.organizationPrefix]:{isIgnoreOnCallbacks:!1,value:l}},isContinueOnFailure:!0}),l},[Y]),ee=(0,o.useCallback)(function(){var e;let{organizationPrefix:n=null===(r=T.current.getValue)||void 0===r?void 0:r.call(null),hostNumber:t=null===(i=D.current.getValue)||void 0===i?void 0:i.call(null),domainName:l=null===(a=q.current.getValue)||void 0===a?void 0:a.call(null)}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=V({organizationPrefix:n,hostNumber:t,domainName:l});return null===(e=L.current.setValue)||void 0===e||e.call(null,s),Y({inputs:{[N.hostName]:{isIgnoreOnCallbacks:!1,value:s}},isContinueOnFailure:!0}),s},[Y]),en=(0,o.useCallback)(()=>{var e;return!!(null===(e=M.current.getValue)||void 0===e?void 0:e.call(null))},[]),et=(0,o.useCallback)(()=>{var e,n,t;return[null===(e=T.current.getValue)||void 0===e?void 0:e.call(null),null===(n=D.current.getValue)||void 0===n?void 0:n.call(null),null===(t=q.current.getValue)||void 0===t?void 0:t.call(null)].every(e=>!!e)},[]),el=(0,o.useCallback)(()=>{var e;(null===(e=T.current.getIsChangedByUser)||void 0===e?void 0:e.call(null))?S(en()):K()},[en,K]),er=(0,o.useCallback)(()=>{var e;(null===(e=L.current.getIsChangedByUser)||void 0===e?void 0:e.call(null))?O(et()):ee()},[et,ee]),ei=(0,o.useCallback)(()=>{var e;let n=K();(null===(e=L.current.getIsChangedByUser)||void 0===e?void 0:e.call(null))||ee({organizationPrefix:n})},[ee,K]),es=(0,o.useCallback)(()=>{ee()},[ee]),ea=(0,o.useCallback)(e=>n=>n===e?void 0:e,[]),eo=(0,o.useMemo)(()=>(0,l.jsx)(f.Z,{checked:z,onChange:(e,n)=>{H(n),Y({inputs:{[N.domainName]:{compare:[!n],isIgnoreOnCallbacks:!1},[N.hostName]:{compare:[!n],isIgnoreOnCallbacks:!1}},isContinueOnFailure:!0})},sx:{padding:".2em"}}),[z,Y]);return(0,o.useEffect)(()=>{if([u,c,F.current,q.current,L.current,D.current,M.current,T.current].every(e=>!!e)){var e,n,t,l,r;F.current=!1;let{domain:i,hostName:s,organization:a,prefix:o,sequence:u}=c;null===(e=q.current.setValue)||void 0===e||e.call(null,i),null===(n=L.current.setValue)||void 0===n||n.call(null,s),null===(t=D.current.setValue)||void 0===t||t.call(null,u),null===(l=M.current.setValue)||void 0===l||l.call(null,a),null===(r=T.current.setValue)||void 0===r||r.call(null,o),Y()}},[u,c,Y]),(0,o.useImperativeHandle)(n,()=>({get:()=>{var e,n,t,l,r,i;return{adminPassword:null===(e=I.current.getValue)||void 0===e?void 0:e.call(null),organizationName:null===(n=M.current.getValue)||void 0===n?void 0:n.call(null),organizationPrefix:null===(t=T.current.getValue)||void 0===t?void 0:t.call(null),domainName:null===(l=q.current.getValue)||void 0===l?void 0:l.call(null),hostNumber:null===(r=D.current.getValue)||void 0===r?void 0:r.call(null),hostName:null===(i=L.current.getValue)||void 0===i?void 0:i.call(null)}}})),(0,l.jsxs)(x.Z,{children:[(0,l.jsxs)(s.ZP,{columns:{xs:1,sm:2,md:3},container:!0,spacing:"1em",children:[(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{id:"striker-init-general-organization-name",inputProps:{onBlur:el},inputLabelProps:{isNotifyRequired:!0},label:"Organization name",onChange:()=>{Y()},onHelp:()=>{Z(ea("Name of the organization that maintains this Anvil! system. You can enter anything that makes sense to you."))}}),ref:M}),(0,l.jsxs)(x.Z,{row:!0,sx:{"& > :first-child":{flexGrow:1}},children:[(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{id:"striker-init-general-organization-prefix",inputProps:{endAdornment:(0,l.jsx)(k,{show:y,onClick:ei}),inputProps:{maxLength:5,sx:{minWidth:"2.5em"}},onBlur:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];let{target:{value:r}}=e;X({inputs:{[N.organizationPrefix]:{value:r}}}),er(e,...t)}},inputLabelProps:{isNotifyRequired:!0},label:"Prefix",onChange:e=>{let{target:{value:n}}=e;Y({inputs:{[N.organizationPrefix]:{value:n}}}),B(),S(en())},onHelp:()=>{Z(ea("Alphanumberic short-form of the organization name. It's used as the prefix for host names."))}}),ref:T}),(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{id:"striker-init-general-host-number",inputProps:{inputProps:{maxLength:2,sx:{minWidth:"2em"}},onBlur:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[l]=n,{target:{value:r}}=l;X({inputs:{[N.hostNumber]:{value:r}}}),er(...n),null==d||d.call(null,...n)}},inputLabelProps:{isNotifyRequired:!0},label:"Striker #",onChange:e=>{let{target:{value:n}}=e;Y({inputs:{[N.hostNumber]:{value:n}}}),E()},onHelp:()=>{Z(ea("Number or count of this striker; this should be '1' for the first striker, '2' for the second striker, and such."))}}),ref:D,valueType:"number"})]})]})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{id:"striker-init-general-domain-name",inputProps:{onBlur:function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];let{target:{value:r}}=e;X({inputs:{[N.domainName]:{value:r}}}),er(e,...t)}},inputLabelProps:{isNotifyRequired:!0},label:"Domain name",onChange:e=>{let{target:{value:n}}=e;Y({inputs:{[N.domainName]:{value:n}}}),Q()},onHelp:()=>{Z(ea("Domain name for this striker. It's also the default domain used when creating new install manifests."))}}),ref:q}),(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{id:"striker-init-general-host-name",inputProps:{endAdornment:(0,l.jsx)(k,{show:R,onClick:es}),onBlur:e=>{let{target:{value:n}}=e;X({inputs:{[N.hostName]:{value:n}}})}},inputLabelProps:{isNotifyRequired:!0},label:"Host name",onChange:e=>{let{target:{value:n}}=e;Y({inputs:{[N.hostName]:{value:n}}}),J(),O(et())},onHelp:()=>{Z(ea("Host name for this striker. It's usually a good idea to use the auto-generated value."))}}),ref:L})]})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,sm:2,md:1,children:(0,l.jsxs)(s.ZP,{columns:{xs:1,sm:2,md:1},container:!0,spacing:"1em",sx:{"& > * > *":{width:"100%"}},children:[(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{disableAutofill:!0,id:"striker-init-general-admin-password",inputProps:{inputProps:{type:v.Z.password},onBlur:e=>{let{target:{value:n}}=e;X({inputs:{[N.adminPassword]:{value:n}}})}},inputLabelProps:{isNotifyRequired:!0},label:"Admin password",onChange:e=>{let{target:{value:n}}=e;Y({inputs:{[N.adminPassword]:{value:n}}}),U()},onHelp:()=>{Z(ea("Password use to login to this Striker and connect to its database. Don't provide an used password here because it'll be stored as plaintext."))}}),ref:I})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(p.Z,{input:(0,l.jsx)(P.Z,{disableAutofill:!0,id:"striker-init-general-confirm-admin-password",inputProps:{inputProps:{type:v.Z.password},onBlur:e=>{let{target:{value:n}}=e;X({inputs:{[N.confirmAdminPassword]:{value:n}}})}},inputLabelProps:{isNotifyRequired:!0},label:"Confirm password",onChange:e=>{let{target:{value:n}}=e;Y({inputs:{[N.confirmAdminPassword]:{value:n}}}),G()}}),ref:_})})]})})]}),(0,l.jsx)(b.Z,{count:1,defaultMessageType:"warning",ref:$}),(0,l.jsx)(j.Z,{children:(0,l.jsxs)(x.Z,{row:!0,sx:{"& > :last-child":{flexGrow:1}},children:[eo,(0,l.jsx)(C.Ac,{inverted:!0,children:z?"Uncheck to skip domain and host name pattern validation.":"Check to re-enable domain and host name pattern validation."})]})}),m&&(0,l.jsx)(j.Z,{onClose:()=>{Z(void 0)},children:m})]})});R.defaultProps={expectHostDetail:!1,hostDetail:void 0,onHostNumberBlurAppend:void 0,toggleSubmitDisabled:void 0},R.displayName="GeneralInitForm";var O=t(97607),z=t(65895),H=t(85838),F=t(56399),I=t(86549),_=t(4244),M=t(23930),T=t(53541),q=()=>{var e;let{isReady:n,query:{re:t}}=(0,a.useRouter)(),[r,f]=(0,o.useState)(),[v,g]=(0,o.useState)(),[p,b]=(0,o.useState)(!1),[P,Z]=(0,o.useState)(!0),[y,k]=(0,o.useState)(!1),[w,N]=(0,o.useState)(!1),[S,A]=(0,o.useState)(!1),[V,q]=(0,o.useState)(),[D,L]=(0,o.useState)(),$=(0,o.useRef)(!0),B=(0,o.useRef)({}),E=(0,o.useRef)({}),Q=(0,o.useRef)({}),J=(0,o.useRef)({}),[U,G]=(0,o.useState)("Loading..."),W=(0,o.useMemo)(()=>!!t,[t]),X=(0,o.useMemo)(()=>S?(0,l.jsx)(T.Z,{}):(0,l.jsx)(x.Z,{row:!0,sx:{flexDirection:"row-reverse"},children:(0,l.jsx)(m.Z,{disabled:P,onClick:()=>{var e,n,t,l;g({...null!==(t=null===(e=B.current.get)||void 0===e?void 0:e.call(null))&&void 0!==t?t:{},...null!==(l=null===(n=E.current.get)||void 0===n?void 0:n.call(null))&&void 0!==l?l:{networks:[]}}),b(!0)},children:"Initialize"})}),[P,S]),Y=(0,o.useCallback)(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];Z(!n.every(e=>e))},[]);return(0,o.useEffect)(()=>{if(n){if(!W){G("Initialize striker");return}$.current&&($.current=!1,d.Z.get("/host/local").then(e=>{let{data:n}=e;L(n),G("Reconfigure ".concat(n.shortHostName))}).catch(e=>{let n=(0,O.Z)(e);n.children=(0,l.jsxs)(l.Fragment,{children:["Failed to get host detail data. ",n.children]}),f(n)}))}},[n,W,L]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(M.s_,{children:[(0,l.jsxs)(M.V9,{children:[(0,l.jsx)(C.z,{children:U}),(0,l.jsx)(z.Z,{onClick:e=>{var n,t;let{currentTarget:l}=e;null===(n=J.current.setAnchor)||void 0===n||n.call(null,l),null===(t=J.current.setOpen)||void 0===t||t.call(null,!0)},variant:"normal",children:(0,l.jsx)(H.Z,{icon:i.Z,ref:Q})})]}),(0,l.jsxs)(x.Z,{children:[(0,l.jsx)(R,{expectHostDetail:W,hostDetail:D,onHostNumberBlurAppend:e=>{let{target:{value:n}}=e;q(n)},ref:B,toggleSubmitDisabled:e=>{e!==y&&(k(e),Y(e,w))}}),(0,l.jsx)(_.Z,{expectHostDetail:W,hostDetail:D,hostSequence:V,ref:E,toggleSubmitDisabled:e=>{e!==w&&(N(e),Y(y,e))}}),r&&(0,l.jsx)(j.Z,{...r,onClose:()=>f(void 0)}),X]})]}),(0,l.jsx)(h.Z,{actionProceedText:"Initialize",content:(0,l.jsxs)(s.ZP,{container:!0,spacing:".6em",columns:{xs:2},children:[(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Organization name"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.organizationName})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Organization prefix"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.organizationPrefix})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Striker number"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.hostNumber})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Domain name"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.domainName})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Host name"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.hostName})}),(0,l.jsx)(s.ZP,{item:!0,sx:{marginTop:"1.4em"},xs:2,children:(0,l.jsx)(C.Ac,{children:"Networks"})}),null==v?void 0:v.networks.map(e=>{let{inputUUID:n,interfaces:t,ipAddress:r,name:i,subnetMask:a,type:o,typeCount:u}=e;return(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsxs)(s.ZP,{container:!0,spacing:".6em",columns:{xs:2},children:[(0,l.jsx)(s.ZP,{item:!0,xs:2,children:(0,l.jsxs)(C.Ac,{children:[i," (",(0,l.jsx)(C.Q0,{children:"".concat(o.toUpperCase()).concat(u)}),")"]})}),t.map((e,t)=>{let r="network-confirm-".concat(n,"-interface").concat(t),i="none";if(e){let{networkInterfaceName:n,networkInterfaceUUID:t}=e;r="".concat(r,"-").concat(t),i=n}return(0,l.jsxs)(s.ZP,{columns:{xs:2},container:!0,item:!0,children:[(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Link ".concat(t+1)})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:i})})]},r)}),(0,l.jsx)(s.ZP,{item:!0,xs:2,children:(0,l.jsx)(C.$_,{children:"".concat(r,"/").concat(a)})})]})},"network-confirm-".concat(n))}),(0,l.jsx)(s.ZP,{item:!0,sx:{marginBottom:"1.4em"},xs:2}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Gateway"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.gateway})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Gateway network"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:null===(e=v.gatewayInterface)||void 0===e?void 0:e.toUpperCase()})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.Ac,{children:"Domain name server(s)"})}),(0,l.jsx)(s.ZP,{item:!0,xs:1,children:(0,l.jsx)(C.$_,{children:null==v?void 0:v.dns})})]}),dialogProps:{open:p},onCancelAppend:()=>{b(!1)},onProceedAppend:()=>{f(void 0),A(!0),b(!1),d.Z.put("/init",v).then(()=>{A(!1),f({children:W?(0,l.jsx)(l.Fragment,{children:"Successfully initiated reconfiguration."}):(0,l.jsxs)(l.Fragment,{children:["Successfully registered the configuration job! You can check the progress at the top right icon. Once the job completes, you can access the"," ",(0,l.jsx)(I.Z,{href:"/login",sx:{color:c.E5,display:"inline-flex"},children:"login page"}),"."]}),type:"info"})}).catch(e=>{f((0,O.Z)(e)),A(!1)})},titleText:"Confirm striker initialization"}),(0,l.jsx)(F.Z,{getJobUrl:()=>"".concat(u.Z,"/init/job"),onFetchSuccessAppend:e=>{var n;null===(n=Q.current.indicate)||void 0===n||n.call(null,Object.keys(e).length>0)},ref:J})]})},D=()=>(0,l.jsx)(r.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,l.jsx)(q,{})})}},function(e){e.O(0,[162,442,206,74,982,509,26,133,784,888,774,179],function(){return e(e.s=45844)}),_N_E=e.O()}]);