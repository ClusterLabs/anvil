(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[464],{593:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/init",function(){return t(8616)}])},9099:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var r=t(7294),i={boolean:function(e){return Boolean(e)},number:function(e){return parseInt(String(e),10)||0},string:function(e){return String(e)}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.postSet,t=e.preSet,r=e.set,l=e.setType,o=void 0===l?"string":l,u=e.valueKey,a=void 0===u?"value":u;return function(e){var l=e.target[a],u=i[o](l);null===t||void 0===t||t.call(null,e),null===r||void 0===r||r.call(null,u),null===n||void 0===n||n.call(null,e)}},o=t(7987);function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){a(e,n,t[n])}))}return e}function s(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function d(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){var n=function(e,n){if("object"!==v(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==v(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===v(n)?n:String(n)}var v=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var p="input",m={boolean:!1,number:0,string:""},h={createInputOnChangeHandlerOptions:{},required:!1,valueType:"string"},g=(0,r.forwardRef)((function(e,n){var t=e.input,i=e.inputTestBatch,u=e.onBlurAppend,v=e.onFirstRender,g=e.onFocusAppend,x=e.onUnmount,y=e.required,b=void 0===y?h.required:y,j=e.valueKey,w=e.valueType,P=void 0===w?h.valueType:w,S=e.createInputOnChangeHandlerOptions,k=void 0===S?h.createInputOnChangeHandlerOptions:S,O=k.postSet,Z=k.valueKey,C=void 0===Z?j:Z,A=s(e.createInputOnChangeHandlerOptions,["postSet","valueKey"]),I=t.props,N=(0,r.useMemo)((function(){return null!==C&&void 0!==C?C:"checked"in I?"checked":"value"}),[I,C]),V=I.onBlur,R=I.onChange,M=I.onFocus,F=I[N],H=void 0===F?m[P]:F,T=s(I,["onBlur","onChange","onFocus",N].map(f)),E=(0,r.useState)(H),z=E[0],D=E[1],B=(0,r.useState)(!1),_=B[0],L=B[1],U=(0,r.useState)(!1),q=U[0],$=U[1],Q=(0,r.useCallback)((function(e){D(e)}),[]),J=(0,r.useMemo)((function(){var e;return i&&(i.isRequired=b,e=(0,o.LT)(a({},p,i))),e}),[i,b]),G=(0,r.useMemo)((function(){return null!==V&&void 0!==V?V:J&&function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,i=n[0],l=i.target.value,o=J({inputs:a({},p,{value:l})});$(o),null===u||void 0===u||(r=u).call.apply(r,[null].concat(d(n)))}}),[V,u,J]),K=(0,r.useMemo)((function(){return l(c({postSet:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,i;L(!0),null===R||void 0===R||(r=R).call.apply(r,[null].concat(d(n))),null===O||void 0===O||(i=O).call.apply(i,[null].concat(d(n)))},set:Q,setType:P,valueKey:N},A))}),[R,O,A,Q,N,P]),W=(0,r.useMemo)((function(){return null!==M&&void 0!==M?M:i&&function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,l,o;null===(l=i.defaults)||void 0===l||null===(o=l.onSuccess)||void 0===o||o.call(null,{append:{}}),null===g||void 0===g||(r=g).call.apply(r,[null].concat(d(n)))}}),[M,i,g]);return(0,r.useEffect)((function(){var e,n=null!==(e=null===J||void 0===J?void 0:J.call(null,{inputs:a({},p,{value:z}),isIgnoreOnCallbacks:!0}))&&void 0!==e&&e;return null===v||void 0===v||v.call(null,{isValid:n}),x}),[]),(0,r.useImperativeHandle)(n,(function(){return{getIsChangedByUser:function(){return _},getValue:function(){return z},isValid:function(){return q},setValue:Q}}),[z,_,q,Q]),(0,r.cloneElement)(t,c({},T,a({onBlur:G,onChange:K,onFocus:W,required:b},N,z)))}));g.defaultProps=h,g.displayName="InputWithRef";var x=g},7869:function(e,n,t){"use strict";var r=t(5893),i=t(7294),l=t(8187);function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function u(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function a(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],o=!0,u=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);o=!0);}catch(a){u=!0,i=a}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return o(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){var n=function(e,n){if("object"!==s(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===s(n)?n:String(n)}var s=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var d={count:0,defaultMessageType:"info",onSet:void 0,usePlaceholder:!0},f=(0,i.forwardRef)((function(e,n){var t=e.count,o=void 0===t?d.count:t,s=e.defaultMessageType,f=void 0===s?d.defaultMessageType:s,v=e.onSet,p=e.usePlaceholder,m=void 0===p?d.usePlaceholder:p,h=(0,i.useState)({}),g=h[0],x=h[1],y=(0,i.useCallback)((function(e){return void 0!==g[e]}),[g]),b=(0,i.useCallback)((function(e,n){var t=0;x((function(r){r[e];var i=u(r,[e].map(c));return n&&(i[e]=n),t=Object.keys(i).length,i})),null===v||void 0===v||v.call(null,t)}),[v]),j=(0,i.useCallback)((function(e,n){var t=0,r=n?function(e,r){e[r]=n,t+=1}:void 0;x((function(n){var i={};return Object.keys(n).forEach((function(l){e.test(l)?null===r||void 0===r||r.call(null,i,l):(i[l]=n[l],t+=1)})),i})),null===v||void 0===v||v.call(null,t)}),[v]),w=(0,i.useMemo)((function(){var e=Object.entries(g),n=o>0,t=n?o:e.length,i=[];if(e.every((function(e){var n=a(e,2),o=n[0],u=n[1],c=u.children,s=u.type,d=void 0===s?f:s;return i.push((0,r.jsx)(l.Z,{type:d,children:c},"message-".concat(o))),i.length<t})),m&&n&&0===i.length)for(var u=o-i.length,c=0;c<u;c+=1)i.push((0,r.jsx)(l.Z,{sx:{visibility:"hidden"},text:"Placeholder"},"message-placeholder-".concat(c)));return i}),[o,f,m,g]);return(0,i.useImperativeHandle)(n,(function(){return{exists:y,setMessage:b,setMessageRe:j}}),[y,b,j]),(0,r.jsx)(r.Fragment,{children:w})}));f.defaultProps=d,f.displayName="MessageGroup",n.Z=f},8616:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ue}});var r=t(5893),i=t(7357),l=t(1113),o=t(6886),u=t(1163),a=t(7294),c=t(2029),s=t(7169),d=t(4390),f=t(157),v=t(4825),p=t(4690),m=t(8128),h=t(4188),g=t(1250),x=t(9099),y=t(8187),b=t(7869),j=t(6284),w=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.fillString,r=void 0===t?"0":t,i=n.maxLength,l=void 0===i?2:i,o=n.which,u=void 0===o?"Start":o;return String(e)["pad".concat(u)](l,r)};function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var k={show:!0},O=function(e){var n=e.onClick,t=e.show,i=void 0===t?k.show:t,l=S(e,["onClick","show"]);return i?(0,r.jsx)(v.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}({onClick:n,tabIndex:-1},l,{children:"Suggest"})):(0,r.jsx)(r.Fragment,{})};O.defaultProps=k;var Z=O,C=t(7987),A=t(7750);function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function V(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],o=!0,u=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);o=!0);}catch(a){u=!0,i=a}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return l}}(e,n)||M(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,n){if(e){if("string"===typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,n):void 0}}var F="adminPassword",H="confirmAdminPassword",T="domainName",E="hostName",z="hostNumber",D="organizationName",B="organizationPrefix",_={0:function(){return""},1:function(e){return V(e,1)[0].substring(0,1).toLocaleLowerCase()},2:function(e){return e.map((function(e){return e.substring(0,1).toLocaleLowerCase()})).join("")}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.split(/\s/).filter((function(e){return!/and|of/.test(e)})).slice(0,5),t=n.length>1?2:n.length;return _[t](n)},U=function(e){var n=e.organizationPrefix,t=e.hostNumber,r=e.domainName;return[n,t,r].every((function(e){return Boolean(e)}))?"".concat(n,"-striker").concat(w(t),".").concat(r):""},q=(0,a.forwardRef)((function(e,n){var t,i,l,u,c=e.expectHostDetail,s=void 0!==c&&c,d=e.hostDetail,f=e.toggleSubmitDisabled,v=(0,a.useState)(),w=v[0],P=v[1],S=(0,a.useState)(!1),k=S[0],O=S[1],I=(0,a.useState)(!1),V=I[0],M=I[1],_=(0,a.useState)(!0),q=_[0],$=_[1],Q=(0,a.useState)(!0),J=Q[0],G=Q[1],K=(0,a.useRef)(!0),W=(0,a.useRef)({}),X=(0,a.useRef)({}),Y=(0,a.useRef)({}),ee=(0,a.useRef)({}),ne=(0,a.useRef)({}),te=(0,a.useRef)({}),re=(0,a.useRef)({}),ie=(0,a.useRef)({}),le=(0,a.useCallback)((function(e){var n;return null===(n=ie.current.setMessage)||void 0===n?void 0:n.call(null,B,e)}),[]),oe=(0,a.useCallback)((function(e){var n;return null===(n=ie.current.setMessage)||void 0===n?void 0:n.call(null,z,e)}),[]),ue=(0,a.useCallback)((function(e){var n;return null===(n=ie.current.setMessage)||void 0===n?void 0:n.call(null,T,e)}),[]),ae=(0,a.useCallback)((function(e){var n;return null===(n=ie.current.setMessage)||void 0===n?void 0:n.call(null,E,e)}),[]),ce=(0,a.useCallback)((function(e){var n;return null===(n=ie.current.setMessage)||void 0===n?void 0:n.call(null,F,e)}),[]),se=(0,a.useCallback)((function(e){var n;return null===(n=ie.current.setMessage)||void 0===n?void 0:n.call(null,H,e)}),[]),de=(0,a.useMemo)((function(){var e;return N(e={},F,{defaults:{getValue:function(){var e;return null===(e=W.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:function(){ce(void 0)}},tests:[{onFailure:function(){ce({children:(0,r.jsxs)(r.Fragment,{children:["Admin password cannot contain single-quote (",(0,r.jsx)(A.Q0,{text:"'"}),"), double-quote (",(0,r.jsx)(A.Q0,{text:'"'}),"), slash (",(0,r.jsx)(A.Q0,{text:"/"}),"), backslash (",(0,r.jsx)(A.Q0,{text:"\\"}),"), angle brackets (",(0,r.jsx)(A.Q0,{text:"<>"}),"), curly brackets (",(0,r.jsx)(A.Q0,{text:"{}"}),")."]})})},test:function(e){var n=e.value;return!/['"/\\><}{]/g.test(n)}},{test:C.HJ}]}),N(e,H,{defaults:{getValue:function(){var e,n;return null===(e=X.current)||void 0===e||null===(n=e.getValue)||void 0===n?void 0:n.call(null)},onSuccess:function(){se(void 0)}},tests:[{onFailure:function(){se({children:"Confirmation doesn't match admin password."})},test:function(e){var n;return e.value===(null===(n=W.current.getValue)||void 0===n?void 0:n.call(null))}},{test:C.HJ}]}),N(e,T,{defaults:{compare:[!J],getValue:function(){var e;return null===(e=ne.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:function(){ue(void 0)}},tests:[{onFailure:function(){ue({children:(0,r.jsxs)(r.Fragment,{children:["Domain name can only contain lowercase alphanumeric, hyphen (",(0,r.jsx)(A.Q0,{text:"-"}),"), and dot (",(0,r.jsx)(A.Q0,{text:"."}),") characters."]})})},test:function(e){var n=e.compare,t=e.value;return n[0]||g.FZ.test(t)}},{test:C.HJ}]}),N(e,E,{defaults:{compare:[!J],getValue:function(){var e;return null===(e=re.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:function(){ae(void 0)}},tests:[{onFailure:function(){ae({children:(0,r.jsxs)(r.Fragment,{children:["Host name can only contain lowercase alphanumeric, hyphen (",(0,r.jsx)(A.Q0,{text:"-"}),"), and dot (",(0,r.jsx)(A.Q0,{text:"."}),") characters."]})})},test:function(e){var n=e.compare,t=e.value;return n[0]||g.FZ.test(t)}},{test:C.HJ}]}),N(e,z,{defaults:{getValue:function(){var e;return null===(e=te.current.getValue)||void 0===e?void 0:e.call(null)},onSuccess:function(){oe(void 0)}},tests:[{onFailure:function(){oe({children:"Striker number can only contain digits."})},test:function(e){var n=e.value;return/^\d+$/.test(n)}},{test:C.HJ}]}),N(e,D,{defaults:{getValue:function(){var e;return null===(e=Y.current.getValue)||void 0===e?void 0:e.call(null)}},tests:[{test:C.HJ}]}),N(e,B,{defaults:{getValue:function(){var e;return null===(e=ee.current.getValue)||void 0===e?void 0:e.call(null)},max:5,min:1,onSuccess:function(){le(void 0)}},tests:[{onFailure:function(e){var n=e.max,t=e.min;le({children:"Organization prefix must be ".concat(t," to ").concat(n," lowercase alphanumeric characters.")})},test:function(e){var n=e.max,t=e.min,r=e.value;return RegExp("^[a-z0-9]{".concat(t,",").concat(n,"}$")).test(r)}}]}),e}),[J,ce,se,ue,ae,oe,le]),fe=(0,a.useMemo)((function(){return(0,C.LT)(de)}),[de]),ve=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.excludeTestIds,t=void 0===n?[]:n,r=e.inputs,i=e.isContinueOnFailure,l=e.isExcludeConfirmAdminPassword,o=void 0===l?!q:l;o&&t.push(H),null===f||void 0===f||f.call(null,fe({excludeTestIds:t,inputs:r,isContinueOnFailure:i,isIgnoreOnCallbacks:!0,isTestAll:!0}))}),[q,fe,f]),pe=(0,a.useCallback)((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.organizationName,i=void 0===r?null===(t=Y.current.getValue)||void 0===t?void 0:t.call(null):r,l=L(i);return null===(e=ee.current.setValue)||void 0===e||e.call(null,l),ve({inputs:N({},B,{isIgnoreOnCallbacks:!1,value:l}),isContinueOnFailure:!0}),l}),[ve]),me=(0,a.useCallback)((function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.organizationPrefix,r=void 0===t?null===(i=ee.current.getValue)||void 0===i?void 0:i.call(null):t,o=n.hostNumber,a=void 0===o?null===(l=te.current.getValue)||void 0===l?void 0:l.call(null):o,c=n.domainName,s=void 0===c?null===(u=ne.current.getValue)||void 0===u?void 0:u.call(null):c,d=U({organizationPrefix:r,hostNumber:a,domainName:s});return null===(e=re.current.setValue)||void 0===e||e.call(null,d),ve({inputs:N({},E,{isIgnoreOnCallbacks:!1,value:d}),isContinueOnFailure:!0}),d}),[ve]),he=(0,a.useCallback)((function(){var e;return Boolean(null===(e=Y.current.getValue)||void 0===e?void 0:e.call(null))}),[]),ge=(0,a.useCallback)((function(){var e,n,t;return[null===(e=ee.current.getValue)||void 0===e?void 0:e.call(null),null===(n=te.current.getValue)||void 0===n?void 0:n.call(null),null===(t=ne.current.getValue)||void 0===t?void 0:t.call(null)].every((function(e){return Boolean(e)}))}),[]),xe=(0,a.useCallback)((function(){var e;(null===(e=ee.current.getIsChangedByUser)||void 0===e?void 0:e.call(null))?O(he()):pe()}),[he,pe]),ye=(0,a.useCallback)((function(){var e;(null===(e=re.current.getIsChangedByUser)||void 0===e?void 0:e.call(null))?M(ge()):me()}),[ge,me]),be=(0,a.useCallback)((function(){var e,n=pe();(null===(e=re.current.getIsChangedByUser)||void 0===e?void 0:e.call(null))||me({organizationPrefix:n})}),[me,pe]),je=(0,a.useCallback)((function(){me()}),[me]),we=(0,a.useCallback)((function(e){return function(n){return n===e?void 0:e}}),[]),Pe=(0,a.useMemo)((function(){return(0,r.jsx)(m.Z,{checked:J,onChange:function(e,n){var t;G(n),ve({inputs:(t={},N(t,T,{compare:[!n],isIgnoreOnCallbacks:!1}),N(t,E,{compare:[!n],isIgnoreOnCallbacks:!1}),t),isContinueOnFailure:!0})},sx:{padding:".2em"}})}),[J,ve]);return(0,a.useEffect)((function(){if([s,d,K.current,ne.current,re.current,te.current,Y.current,ee.current].every((function(e){return Boolean(e)}))){var e,n,t,r,i;K.current=!1;var l=d.domain,o=d.hostName,u=d.organization,a=d.prefix,c=d.sequence;null===(e=ne.current.setValue)||void 0===e||e.call(null,l),null===(n=re.current.setValue)||void 0===n||n.call(null,o),null===(t=te.current.setValue)||void 0===t||t.call(null,c),null===(r=Y.current.setValue)||void 0===r||r.call(null,u),null===(i=ee.current.setValue)||void 0===i||i.call(null,a),ve()}}),[s,d,ve]),(0,a.useImperativeHandle)(n,(function(){return{get:function(){var e,n,t,r,i,l;return{adminPassword:null===(e=W.current.getValue)||void 0===e?void 0:e.call(null),organizationName:null===(n=Y.current.getValue)||void 0===n?void 0:n.call(null),organizationPrefix:null===(t=ee.current.getValue)||void 0===t?void 0:t.call(null),domainName:null===(r=ne.current.getValue)||void 0===r?void 0:r.call(null),hostNumber:null===(i=te.current.getValue)||void 0===i?void 0:i.call(null),hostName:null===(l=re.current.getValue)||void 0===l?void 0:l.call(null)}}}})),(0,r.jsxs)(p.Z,{children:[(0,r.jsxs)(o.ZP,{columns:{xs:1,sm:2,md:3},container:!0,spacing:"1em",children:[(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-organization-name",inputProps:{onBlur:xe},inputLabelProps:{isNotifyRequired:!0},label:"Organization name",onChange:function(){ve()},onHelp:function(){P(we("Name of the organization that maintains this Anvil! system. You can enter anything that makes sense to you."))}}),ref:Y}),(0,r.jsxs)(p.Z,{row:!0,sx:{"& > :first-child":{flexGrow:1}},children:[(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-organization-prefix",inputProps:{endAdornment:(0,r.jsx)(Z,{show:k,onClick:be}),inputProps:{maxLength:5,sx:{minWidth:"2.5em"}},onBlur:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=e.target.value;fe({inputs:N({},B,{value:i})}),ye.apply(void 0,[e].concat(R(t)))}},inputLabelProps:{isNotifyRequired:!0},label:"Prefix",onChange:function(e){var n=e.target.value;ve({inputs:N({},B,{value:n})}),le(),O(he())},onHelp:function(){P(we("Alphanumberic short-form of the organization name. It's used as the prefix for host names."))}}),ref:ee}),(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-host-number",inputProps:{inputProps:{maxLength:2,sx:{minWidth:"2em"}},onBlur:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=e.target.value;fe({inputs:N({},z,{value:i})}),ye.apply(void 0,[e].concat(R(t)))}},inputLabelProps:{isNotifyRequired:!0},label:"Striker #",onChange:function(e){var n=e.target.value;ve({inputs:N({},z,{value:n})}),oe()},onHelp:function(){P(we("Number or count of this striker; this should be '1' for the first striker, '2' for the second striker, and such."))}}),ref:te,valueType:"number"})]})]})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsxs)(p.Z,{children:[(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-domain-name",inputProps:{onBlur:function(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=e.target.value;fe({inputs:N({},T,{value:i})}),ye.apply(void 0,[e].concat(R(t)))}},inputLabelProps:{isNotifyRequired:!0},label:"Domain name",onChange:function(e){var n=e.target.value;ve({inputs:N({},T,{value:n})}),ue()},onHelp:function(){P(we("Domain name for this striker. It's also the default domain used when creating new install manifests."))}}),ref:ne}),(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-host-name",inputProps:{endAdornment:(0,r.jsx)(Z,{show:V,onClick:je}),onBlur:function(e){var n=e.target.value;fe({inputs:N({},E,{value:n})})}},inputLabelProps:{isNotifyRequired:!0},label:"Host name",onChange:function(e){var n=e.target.value;ve({inputs:N({},E,{value:n})}),ae(),M(ge())},onHelp:function(){P(we("Host name for this striker. It's usually a good idea to use the auto-generated value."))}}),ref:re})]})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,sm:2,md:1,children:(0,r.jsxs)(o.ZP,{columns:{xs:1,sm:2,md:1},container:!0,spacing:"1em",sx:{"& > * > *":{width:"100%"}},children:[(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-admin-password",inputProps:{inputProps:{type:h.Z.password},onBlur:function(e){var n=e.target.value;fe({inputs:N({},F,{value:n})})},onPasswordVisibilityAppend:function(e){var n=e===h.Z.password;ve({isExcludeConfirmAdminPassword:!n}),$(n),se()}},inputLabelProps:{isNotifyRequired:!0},label:"Admin password",onChange:function(e){var n=e.target.value;ve({inputs:N({},F,{value:n})}),ce()},onHelp:function(){P(we("Password use to login to this Striker and connect to its database. Don't provide an used password here because it'll be stored as plaintext."))}}),ref:W})}),q&&(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(x.Z,{input:(0,r.jsx)(j.Z,{id:"striker-init-general-confirm-admin-password",inputProps:{inputProps:{type:h.Z.password},onBlur:function(e){var n=e.target.value;fe({inputs:N({},H,{value:n})})}},inputLabelProps:{isNotifyRequired:q},label:"Confirm password",onChange:function(e){var n=e.target.value;ve({inputs:N({},H,{value:n})}),se()}}),ref:X})})]})})]}),(0,r.jsx)(b.Z,{count:1,defaultMessageType:"warning",ref:ie}),(0,r.jsx)(y.Z,{children:(0,r.jsxs)(p.Z,{row:!0,sx:{"& > :last-child":{flexGrow:1}},children:[Pe,(0,r.jsx)(A.Ac,{inverted:!0,children:J?"Uncheck to skip domain and host name pattern validation.":"Check to re-enable domain and host name pattern validation."})]})}),w&&(0,r.jsx)(y.Z,{onClose:function(){P(void 0)},children:w})]})}));q.defaultProps={expectHostDetail:!1,hostDetail:void 0,toggleSubmitDisabled:void 0},q.displayName="GeneralInitForm";var $=q,Q=t(1770),J=t(1706),G=t(3377),K=t(2444),W=t(5741),X=t(8461),Y=t(3679),ee=t(2152),ne=t(2749);function te(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function re(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){re(e,n,t[n])}))}return e}function le(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],o=!0,u=!1;try{for(t=t.call(e);!(o=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);o=!0);}catch(a){u=!0,i=a}finally{try{o||null==t.return||t.return()}finally{if(u)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return te(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return te(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oe=function(){var e,n=(0,u.useRouter)(),t=n.isReady,i=n.query.re,m=(0,a.useState)(),h=m[0],g=m[1],x=(0,a.useState)(),b=x[0],j=x[1],w=(0,a.useState)(!1),P=w[0],S=w[1],k=(0,a.useState)(!0),O=k[0],Z=k[1],C=(0,a.useState)(!1),I=C[0],N=C[1],V=(0,a.useState)(!1),R=V[0],M=V[1],F=(0,a.useState)(!1),H=F[0],T=F[1],E=le((0,ne.Z)(void 0),2),z=E[0],D=E[1],B=(0,a.useRef)(!0),_=(0,a.useRef)({}),L=(0,a.useRef)({}),U=(0,a.useRef)({}),q=(0,a.useRef)({}),te=(0,a.useMemo)((function(){return Boolean(i)}),[i]),re=(0,a.useMemo)((function(){return H?(0,r.jsx)(ee.Z,{}):(0,r.jsx)(p.Z,{row:!0,sx:{flexDirection:"row-reverse"},children:(0,r.jsx)(v.Z,{disabled:O,onClick:function(){var e,n,t,r;j(ie({},null!==(t=null===(e=_.current.get)||void 0===e?void 0:e.call(null))&&void 0!==t?t:{},null!==(r=null===(n=L.current.get)||void 0===n?void 0:n.call(null))&&void 0!==r?r:{networks:[]})),S(!0)},children:"Initialize"})})}),[O,H]),oe=(0,a.useMemo)((function(){var e,n="Loading...";t&&(n=te?"Reconfigure ".concat(null!==(e=null===z||void 0===z?void 0:z.shortHostName)&&void 0!==e?e:"striker"):"Initialize striker");return n}),[null===z||void 0===z?void 0:z.shortHostName,t,te]),ue=(0,a.useCallback)((function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];Z(!n.every((function(e){return e})))}),[]);return(0,a.useEffect)((function(){t&&te&&B.current&&(B.current=!1,d.Z.get("/host/local").then((function(e){var n=e.data;D(n)})).catch((function(e){var n=(0,Q.Z)(e);n.children=(0,r.jsxs)(r.Fragment,{children:["Failed to get host detail data. ",n.children]}),g(n)})))}),[t,te,D]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Y.s_,{children:[(0,r.jsxs)(Y.V9,{children:[(0,r.jsx)(A.z,{children:oe}),(0,r.jsx)(J.Z,{onClick:function(e){var n,t,r=e.currentTarget;null===(n=q.current.setAnchor)||void 0===n||n.call(null,r),null===(t=q.current.setOpen)||void 0===t||t.call(null,!0)},variant:"normal",children:(0,r.jsx)(G.Z,{icon:l.Z,ref:U})})]}),(0,r.jsxs)(p.Z,{children:[(0,r.jsx)($,{expectHostDetail:te,hostDetail:z,ref:_,toggleSubmitDisabled:function(e){e!==I&&(N(e),ue(e,R))}}),(0,r.jsx)(X.Z,{expectHostDetail:te,hostDetail:z,ref:L,toggleSubmitDisabled:function(e){e!==R&&(M(e),ue(I,e))}}),h&&(0,r.jsx)(y.Z,ie({},h,{onClose:function(){return g(void 0)}})),re]})]}),(0,r.jsx)(f.Z,{actionProceedText:"Initialize",content:(0,r.jsxs)(o.ZP,{container:!0,spacing:".6em",columns:{xs:2},children:[(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Organization name"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.organizationName})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Organization prefix"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.organizationPrefix})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Striker number"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.hostNumber})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Domain name"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.domainName})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Host name"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.hostName})}),(0,r.jsx)(o.ZP,{item:!0,sx:{marginTop:"1.4em"},xs:2,children:(0,r.jsx)(A.Ac,{children:"Networks"})}),null===b||void 0===b?void 0:b.networks.map((function(e){var n=e.inputUUID,t=e.interfaces,i=e.ipAddress,l=e.name,u=e.subnetMask,a=e.type,c=e.typeCount;return(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsxs)(o.ZP,{container:!0,spacing:".6em",columns:{xs:2},children:[(0,r.jsx)(o.ZP,{item:!0,xs:2,children:(0,r.jsxs)(A.Ac,{children:[l," (",(0,r.jsx)(A.Q0,{children:"".concat(a.toUpperCase()).concat(c)}),")"]})}),t.map((function(e,t){var i="network-confirm-".concat(n,"-interface").concat(t),l="none";if(e){var u=e.networkInterfaceName,a=e.networkInterfaceUUID;i="".concat(i,"-").concat(a),l=u}return(0,r.jsxs)(o.ZP,{container:!0,item:!0,children:[(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Link ".concat(t+1)})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:l})})]},i)})),(0,r.jsx)(o.ZP,{item:!0,xs:2,children:(0,r.jsx)(A.$_,{children:"".concat(i,"/").concat(u)})})]})},"network-confirm-".concat(n))})),(0,r.jsx)(o.ZP,{item:!0,sx:{marginBottom:"1.4em"},xs:2}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Gateway"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.gateway})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Gateway network"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b||null===(e=b.gatewayInterface)||void 0===e?void 0:e.toUpperCase()})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.Ac,{children:"Domain name server(s)"})}),(0,r.jsx)(o.ZP,{item:!0,xs:1,children:(0,r.jsx)(A.$_,{children:null===b||void 0===b?void 0:b.dns})})]}),dialogProps:{open:P},onCancelAppend:function(){S(!1)},onProceedAppend:function(){g(void 0),T(!0),S(!1),d.Z.put("/init",b).then((function(){T(!1),g({children:(0,r.jsxs)(r.Fragment,{children:["Successfully registered the configuration job! You can check the progress at the top right icon. Once the job completes, you can access the"," ",(0,r.jsx)(W.Z,{href:"/login",sx:{color:s.E5,display:"inline-flex"},children:"login page"}),"."]}),type:"info"})})).catch((function(e){var n=(0,Q.Z)(e);g(n),T(!1)}))},titleText:"Confirm striker initialization"}),(0,r.jsx)(K.Z,{getJobUrl:function(e){return"".concat(c.Z,"/init/job?start=").concat(e)},onFetchSuccessAppend:function(e){var n;null===(n=U.current.indicate)||void 0===n||n.call(null,Object.keys(e).length>0)},ref:q})]})},ue=function(){return(0,r.jsx)(i.Z,{sx:{display:"flex",flexDirection:"column"},children:(0,r.jsx)(oe,{})})}}},function(e){e.O(0,[382,483,182,614,644,676,62,780,899,140,692,774,888,179],(function(){return n=593,e(e.s=n);var n}));var n=e.O();_N_E=n}]);