(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[941],{8283:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/file-manager",function(){return t(6474)}])},8610:function(e,n,t){"use strict";var r=t(5893),o=t(8216),i=t(7212),u=t(8462),l=t(7357),a=t(4690),c=t(7750);function s(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function f(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){f(e,n,t[n])}))}return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return s(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return s(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var p=function(e){var n=e.replace(/([a-z\d])([A-Z])/g,"$1 $2").toLowerCase();return(0,o.Z)(n)},m=function(e){var n=e.entry;return(0,r.jsx)(c.$_,{whiteSpace:"nowrap",children:String(n)})},v=function(e){var n=e.depth,t=void 0===n?0:n,o=e.entries,l=e.getEntryLabel,a=e.getListProps,c=e.getListItemProps,s=e.listKey,f=e.maxDepth,p=e.renderEntry,m=e.renderEntryValue,h=[];Object.entries(o).forEach((function(e){var n=y(e,2),o=n[0],u=n[1],a="form-summary-entry-".concat(o),s=null!==u&&"object"===typeof u,b=s?null:u;h.push((0,r.jsx)(i.ZP,d({sx:{paddingLeft:"".concat(t,"em")}},null===c||void 0===c?void 0:c.call(null,{depth:t,entry:b,key:o}),{children:p({depth:t,entry:b,getLabel:l,key:o,nest:s,renderValue:m})}),a)),s&&t<f&&h.push(v({depth:t+1,entries:u,getEntryLabel:l,listKey:o,maxDepth:f,renderEntry:p,renderEntryValue:m}))}));var b="form-summary-list-".concat(null!==s&&void 0!==s?s:"root");return(0,r.jsx)(u.Z,d({dense:!0,disablePadding:!0},null===a||void 0===a?void 0:a.call(null,{depth:t,entries:o,key:s}),{children:h}),b)};n.Z=function(e){var n=e.entries,t=e.getEntryLabel,o=void 0===t?function(e){return(0,e.cap)(e.key)}:t,i=e.getListProps,u=e.getListItemProps,s=e.hasPassword,f=e.maxDepth,d=void 0===f?3:f,y=e.renderEntry,h=void 0===y?function(e){var n=e.depth,t=e.entry,o=e.getLabel,i=e.key,u=e.nest,s=e.renderValue;return(0,r.jsxs)(a.Z,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,r.jsx)(c.Ac,{children:o({cap:p,depth:n,entry:t,key:i})}),(0,r.jsx)(l.Z,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!u&&s({depth:n,entry:t,key:i})})]})}:y,b=e.renderEntryValue;return v({entries:n,getEntryLabel:o,getListProps:i,getListItemProps:u,maxDepth:d,renderEntry:h,renderEntryValue:void 0===b?function(e){var n=e.entry;return["",null,void 0].some((function(e){return n===e}))?(0,r.jsx)(c.Ac,{children:"none"}):s?function(e){var n=e.entry,t=e.key;return/passw/i.test(t)?(0,r.jsx)(c.PJ,{revealButtonProps:{sx:{marginRight:0,padding:0}},monospaced:!0,textLineHeight:null,children:String(n)}):m(e)}(e):m(e)}:b})}},4427:function(e,n,t){"use strict";var r=t(5893),o=t(2429),i=t(9309),u=t(7169);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}n.Z=function(e){var n,t,c=e.children,s=e.sx,f=a((l(t={backgroundColor:u.lD,paddingRight:"3em"},"&.".concat(o.Z.selected),(l(n={backgroundColor:u.s7,fontWeight:400},"&.".concat(o.Z.focusVisible),{backgroundColor:u.s7}),l(n,"&:hover",{backgroundColor:u.s7}),n)),l(t,"&.".concat(o.Z.focusVisible),{backgroundColor:u.s7}),l(t,"&:hover",{backgroundColor:u.s7}),t),s);return(0,r.jsx)(i.Z,a({},e,{sx:f,children:c}))}},2519:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(5893),o=t(5603),i=t(8128),u=t(3640),l=t(7294),a=t(1363),c=t(4427),s=t(9),f=t(192),d=t(5537),y=t(9558),p=t(6239),m=t(7021),v=t(1057),h=t(4799),b=t(3213),g=t(7169);function j(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){j(e,n,t[n])}))}return e}function x(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var w=function(e){var n=e.onClearIndicatorClick,t=x(e,["onClearIndicatorClick"]),i=t.sx,u=t.value,a=x(t,["sx","value"]),c=(0,l.useMemo)((function(){var e;return O((j(e={},"& .".concat(o.Z.icon),{color:g.s7}),j(e,"& .".concat(y.Z.root),{marginRight:".8em"}),j(e,"& .".concat(p.Z.root),{color:g.s7,visibility:"hidden"}),j(e,"&:hover .".concat(y.Z.root," .").concat(p.Z.root,",\n      &.").concat(m.Z.focused," .").concat(y.Z.root," .").concat(p.Z.root),{visibility:"visible"}),e),i)}),[i]),s=(0,l.useMemo)((function(){return String(u).length>0&&n&&(0,r.jsx)(v.Z,{position:"end",children:(0,r.jsx)(h.Z,{onClick:n,children:(0,r.jsx)(d.Z,{fontSize:"small"})})})}),[n,u]);return(0,r.jsx)(b.Z,O({endAdornment:s,value:u},a,{sx:c}))};function k(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){k(e,n,t[n])}))}return e}function P(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var Z=function(e){var n=e.id,t=e.label,d=e.selectItems,y=e.checkItem,p=e.disableItem,m=e.formControlProps,v=e.hideItem,h=e.inputLabelProps,b=void 0===h?{}:h,g=e.isReadOnly,j=void 0!==g&&g,O=e.messageBoxProps,x=void 0===O?{}:O,Z=e.name,C=e.onBlur,A=e.onChange,I=e.onFocus,E=e.required,M=e.selectProps,D=void 0===M?{}:M,U=D.multiple,T=D.sx,L=e.value,F=e.isCheckableItems,V=void 0===F?U:F,R=P(e.selectProps,["multiple","sx"]),_=(0,l.useMemo)((function(){return j?S(k({},"& .".concat(o.Z.icon),{visibility:"hidden"}),T):T}),[j,T]),H=(0,l.useCallback)((function(e){return V&&(0,r.jsx)(i.Z,{checked:null===y||void 0===y?void 0:y.call(null,e)})}),[y,V]),N=(0,l.useCallback)((function(e,t){return(0,r.jsxs)(c.Z,{disabled:null===p||void 0===p?void 0:p.call(null,e),sx:{display:(null===v||void 0===v?void 0:v.call(null,e))?"none":void 0},value:e,children:[H(e),t]},"".concat(n,"-").concat(e))}),[H,p,v,n]),$=(0,l.useMemo)((function(){return"".concat(n,"-select-element")}),[n]),B=(0,l.useMemo)((function(){return(0,r.jsx)(s.Z,{id:n,label:t})}),[n,t]),W=(0,l.useMemo)((function(){return t&&(0,r.jsx)(f.Z,S({htmlFor:$,isNotifyRequired:E},b,{children:t}))}),[b,E,t,$]),z=(0,l.useMemo)((function(){return d.map((function(e){var n="string"===typeof e?{value:e}:e,t=n.value,r=n.displayValue;return N(t,void 0===r?t:r)}))}),[N,d]);return(0,r.jsxs)(u.Z,S({fullWidth:!0},m,{children:[W,(0,r.jsx)(w,S({id:$,input:B,multiple:U,name:Z,onBlur:C,onChange:A,onFocus:I,readOnly:j,value:L},R,{sx:_,children:z})),(0,r.jsx)(a.Z,S({},x))]}))}},3906:function(e,n,t){"use strict";var r=t(5893),o=t(7294),i=t(6607),u=t(8610);function l(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){l(e,n,t[n])}))}return e}n.Z=function(e){var n=e.list,t=void 0===n?{}:n,l=(0,o.useState)({}),c=l[0],s=l[1],f=(0,o.useMemo)((function(){return Object.keys(t)}),[t]),d=(0,o.useMemo)((function(){return Object.keys(c)}),[c]),y=(0,o.useMemo)((function(){return d.length===f.length}),[d.length,f.length]),p=(0,o.useMemo)((function(){return d.length>0}),[d.length]),m=(0,o.useMemo)((function(){return f.length>1}),[f.length]),v=(0,o.useCallback)((function(e){var n=e.confirmDialogProps,t=void 0===n?{}:n,o=e.formSummaryProps,i=void 0===o?{}:o,l=e.getConfirmDialogTitle,s=e.onProceedAppend,f=e.renderEntry;return a({actionProceedText:"Delete",content:(0,r.jsx)(u.Z,a({entries:c,maxDepth:0,renderEntry:f},i)),onProceedAppend:s,proceedColour:"red",titleText:l(d.length)},t)}),[c,d.length]),h=(0,o.useCallback)((function(e){return c[e]}),[c]),b=(0,o.useCallback)((function(e){return s(f.reduce((function(n,t){return e&&(n[t]=e),n}),{}))}),[f]),g=(0,o.useCallback)((function(e,n){return s((0,i.ZP)(e,n||void 0))}),[]);return{buildDeleteDialogProps:v,checklist:c,checks:d,getCheck:h,hasAllChecks:y,hasChecks:p,multipleItems:m,setAllChecks:b,setCheck:g}}},6632:function(e,n,t){"use strict";var r=t(7294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){o(e,n,t[n])}))}return e}function u(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}n.Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.actionProceedText,t=void 0===n?"":n,o=e.content,l=void 0===o?"":o,a=e.titleText,c=void 0===a?"":a,s=u(e,["actionProceedText","content","titleText"]);return(0,r.useState)(i({actionProceedText:t,content:l,titleText:c},s))}},7791:function(e,n,t){"use strict";var r=t(8100),o=t(2029),i=t(1200);function u(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}n.Z=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.fetcher,l=void 0===t?i.Z:t,a=n.baseUrl,c=void 0===a?o.Z:a,s=u(n,["fetcher","baseUrl"]),f=(0,r.ZP)("".concat(c).concat(e),l,s),d=f.data,y=f.error,p=!y&&!d;return{data:d,error:y,loading:p}}},8669:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=function(e){return e.reduce((function(e,n){var t=n.hostName,r=n.hostType,o=n.hostUUID;return e[o]={name:t,type:r,uuid:o},e}),{})},o=function(e){return e.reduce((function(e,n){var t=n.anvilDescription,o=n.anvilName,i=n.anvilUUID,u=n.hosts;return e[i]={description:t,hosts:r(u),name:o,uuid:i},e}),{})}},6474:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ae}});var r=t(5893),o=t(9008),i=t(5521),u=t(4490),l=t(7294),a=t(2029),c=[["iso",["application/x-cd-image","ISO (optical disc)"]],["other",["text/plain","Other file type"]],["script",["text/plain","Script (program)"]]],s=new Map(c),f=t(2175),d=t(5934),y=t(46),p=t(4390),m=t(4825);function v(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){h(e,n,t[n])}))}return e}function g(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return v(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return v(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var j=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.build,r=void 0===t?function(e,n){return{children:n,type:"warning"}}:t,o=n.chain,i=void 0===o?"":o;return Object.entries(e).reduce((function(e,n){var t=g(n,2),o=t[0],u=t[1],l=String(i).length?[i,o].join("."):o;return"object"===typeof u?b({},e,j(u,{chain:l})):(e[l]=r(l,u),e)}),{})},O=j,x=t(3457),w=t(6486),k=t(4690),S=t(6125),P=t(6284),Z=t(3679),C=t(2519),A=t(7750),I=t(4188),E=t(3675);function M(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function U(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function T(e){return function(e){if(Array.isArray(e))return M(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return M(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return M(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(e){var n=function(e,n){if("object"!==F(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===F(n)?n:String(n)}var F=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var V=(0,l.forwardRef)((function(e,n){var t=e.input,r=e.onChange,o=void 0===r?function(e){for(var n,t,r=e.handlers,o=r.base,i=r.origin,u=arguments.length,l=new Array(u>1?u-1:0),a=1;a<u;a++)l[a-1]=arguments[a];null===o||void 0===o||(n=o).call.apply(n,[null].concat(T(l))),null===i||void 0===i||(t=i).call.apply(t,[null].concat(T(l)))}:r,i=e.onMount,u=e.onUnmount,a=t.props,c=(0,l.useMemo)((function(){var e="value",n="string";return a.type===I.Z.checkbox&&(e="checked",n="boolean"),{valueKey:e,valueType:n}}),[a]),s=c.valueKey,f=c.valueType,d=a.onChange,y=a[s],p=U(a,["onChange",s].map(L)),m=(0,l.useState)(y),v=m[0],h=m[1],b=(0,l.useCallback)((function(e){var n=e.target[s],t=E.Z[f](n);h(t)}),[s,f]),g=(0,l.useCallback)((function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r;return null===o||void 0===o?void 0:(r=o).call.apply(r,[null,{handlers:{base:b,origin:d}}].concat(T(n)))}),[b,d,o]);return(0,l.useEffect)((function(){return null===i||void 0===i||i.call(null),u}),[]),(0,l.useImperativeHandle)(n,(function(){return{get:function(){return v},set:h}}),[v]),(0,l.cloneElement)(t,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){D(e,n,t[n])}))}return e}({},p,D({onChange:g},s,v)))}));V.displayName="UncontrolledInput";var R=V;function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function H(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return _(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e){var n=e.anvils,t=e.drHosts,o=e.fileUuid,i=e.formik,u=e.showSyncInputGroup,a=e.showTypeInput,s=i.handleBlur,f=i.handleChange,d=(0,l.useMemo)((function(){return(0,w.debounce)(f,500)}),[f]),y=(0,l.useMemo)((function(){return{nameChain:"".concat(o,".name"),locationsChain:"".concat(o,".locations"),typeChain:"".concat(o,".type")}}),[o]),p=y.nameChain,m=y.locationsChain,v=y.typeChain,h=(0,l.useCallback)((function(e,n){i.setValues((function(t){var r,i=(0,w.cloneDeep)(t),u=null===(r=i[o].locations)||void 0===r?void 0:r[e];return u?(Object.keys(u).forEach((function(e){u[e].active=n})),i):t}))}),[i,o]),b=(0,l.useCallback)((function(e){var n,t=null===(n=i.values[o].locations)||void 0===n?void 0:n[e];return t?{checked:Object.values(t).every((function(e){return e.active})),onChange:function(n,t){h(e,t)}}:{}}),[i.values,o,h]),g=(0,l.useCallback)((function(e,n){var t,r,u,l="".concat(m,".").concat(e,".").concat(n),a="".concat(l,".active");return{id:a,name:a,checked:null===(t=i.values[o].locations)||void 0===t||null===(r=t[e])||void 0===r||null===(u=r[n])||void 0===u?void 0:u.active,onBlur:s,onChange:f}}),[i.values,o,s,f,m]),j=(0,l.useCallback)((function(e){var n,t=null===(n=i.values[o].locations)||void 0===n?void 0:n[e];return t&&Object.keys(t).length>1}),[i.values,o]),O=(0,l.useMemo)((function(){return(0,r.jsx)(R,{input:(0,r.jsx)(P.Z,{id:p,label:"File name",name:p,onBlur:s,onChange:d,value:i.values[o].name})})}),[d,i.values,o,s,p]),I=(0,l.useMemo)((function(){return u&&(0,r.jsx)(Z.TZ,{header:"Sync with node(s)",panelProps:{mb:0,mt:0,width:"100%"},children:(0,r.jsx)(S.Z,{allowCheckAll:j("anvils"),allowCheckItem:!0,edit:!0,header:!0,listItems:n,getListCheckboxProps:function(){return b("anvils")},getListItemCheckboxProps:function(e){return g("anvils",e)},renderListItem:function(e,n){var t=n.description,o=n.name;return(0,r.jsxs)(A.Ac,{children:[o,": ",t]})}})})}),[n,j,b,g,u]),E=(0,l.useMemo)((function(){return u&&(0,r.jsx)(Z.TZ,{header:"Sync with DR host(s)",panelProps:{mb:0,mt:0,width:"100%"},children:(0,r.jsx)(S.Z,{allowCheckAll:j("drHosts"),allowCheckItem:!0,edit:!0,header:!0,listItems:t,getListCheckboxProps:function(){return b("drHosts")},getListItemCheckboxProps:function(e){return g("drHosts",e)},renderListItem:function(e,n){var t=n.hostName;return(0,r.jsx)(A.Ac,{children:t})}})})}),[t,j,b,g,u]),M=(0,l.useMemo)((function(){return a&&(0,r.jsx)(C.Z,{id:v,label:"File type",name:v,onBlur:s,onChange:f,selectItems:c.map((function(e){var n=H(e,2),t=n[0];return{displayValue:H(n[1],2)[1],value:t}})),value:i.values[o].type})}),[i.values,o,s,f,a,v]);return(0,r.jsxs)(x.Z,{sx:{"& > :not(:first-child)":{marginTop:"1em"}},children:[(0,r.jsxs)(k.Z,{sm:"row",xs:"column",children:[O,M]}),I,E]})},$=t(1770),B=t(8187),W=t(7869),z=t(6310);function q(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var G=function(e,n){return e&&Object.keys(e).reduce((function(e,t){return function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){q(e,n,t[n])}))}return e}({},e,q({},t,n))}),{})},K=z.Ry({active:z.O7().required()}),J=z.Vo((function(e){return z.Ry(G(e,K))})),X=z.Vo((function(e){return z.Ry(G(e,K))})),Q=z.Ry({locations:z.Ry({anvils:J,drHosts:X}),name:z.Z_().required(),type:z.Z_().oneOf(["iso","other","script"]),uuid:z.Z_().uuid().required()}),Y=z.Vo((function(e){return z.Ry(G(e,Q))})),ee=t(7357),ne=t(5172),te=function(e){var n=e.uploads;return(0,r.jsx)(k.Z,{columnSpacing:".2em",children:Object.values(n).map((function(e){var n=e.name,t=e.progress,o=e.uuid;return(0,r.jsxs)(ee.Z,{sx:{alignItems:{md:"center"},display:"flex",flexDirection:{xs:"column",md:"row"},"& > :first-child":{minWidth:100,overflow:"hidden",overflowWrap:"normal",textOverflow:"ellipsis",whiteSpace:"nowrap",width:{xs:"100%",md:200},wordBreak:"keep-all"},"& > :last-child":{flexGrow:1}},children:[(0,r.jsx)(A.Ac,{children:n}),(0,r.jsx)(ne.ko,{progressPercentage:t})]},"upload-".concat(o))}))})},re=t(2749);function oe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function ie(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ie(e,n,t[n])}))}return e}function le(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return oe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return oe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ae=function(e,n,t){return e?(e[n].progress=t,ue({},e)):e},ce=function(e){var n=e.anvils,t=e.drHosts,o=(0,l.useRef)(null),i=le((0,re.Z)(void 0),2),u=i[0],a=i[1],c=(0,f.TA)({initialValues:{},onSubmit:function(e){var n=Object.values(e);a(n.reduce((function(e,n){var t=n.file,r=n.name,o=n.uuid;return t?(e[o]={name:r,progress:0,uuid:o},e):e}),{}));var t=n.reduce((function(e,n){var t=n.file,r=n.name,o=n.uuid;if(!t)return e;var i=new FormData;i.append("file",new File([t],r,ue({},t)));var u,l=p.Z.post("/file",i,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:(u=o,function(e){var n=e.loaded,t=e.total;a((function(e){return ae(e,u,Math.round(n/t*99))}))})}).then(function(e){return function(){a((function(n){return ae(n,e,100)}))}}(o));return e.push(l),e}),[]);Promise.all(t).catch((function(e){var n=(0,$.Z)(e);n.children=(0,r.jsxs)(r.Fragment,{children:["Failed to add file. ",n.children]})}))},validationSchema:Y}),s=(0,l.useMemo)((function(){return O(c.errors)}),[c.errors]),v=(0,l.useMemo)((function(){return!c.dirty||!c.isValid||c.isValidating||c.isSubmitting}),[c.dirty,c.isSubmitting,c.isValid,c.isValidating]),h=(0,l.useCallback)((function(e){var n=e.target.files;if(n){var t=Array.from(n).reduce((function(e,n){var t=(0,d.Z)();return e[t]={file:n,name:n.name,uuid:t},e}),{});c.setValues(t)}}),[c]),b=(0,l.useMemo)((function(){return c.values&&Object.values(c.values).map((function(e){var o=e.uuid;return(0,r.jsx)(N,{anvils:n,drHosts:t,fileUuid:o,formik:c},o)}))}),[n,t,c]);return(0,r.jsxs)(k.Z,{children:[(0,r.jsx)(B.Z,{children:"Uploaded files will be listed automatically, but it may take a while for larger files to finish uploading and appear on the list."}),u?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(B.Z,{children:"This dialog can be closed after all uploads complete. Closing before completion will stop the upload."}),(0,r.jsx)(te,{uploads:u})]}):(0,r.jsxs)(k.Z,{component:"form",onSubmit:function(e){e.preventDefault(),c.submitForm()},children:[(0,r.jsx)("input",{id:"files",multiple:!0,name:"files",onChange:h,ref:o,style:{display:"none"},type:"file"}),(0,r.jsx)(m.Z,{onClick:function(){var e;null===(e=o.current)||void 0===e||e.click()},children:"Browse"}),b,(0,r.jsx)(W.Z,{count:1,messages:s}),(0,r.jsx)(y.Z,{actions:[{background:"blue",children:"Add",disabled:v,type:"submit"}]})]})]})},se=t(8669),fe=t(157),de=t(9308),ye=t(582);function pe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function me(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||he(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ve(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||he(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,n){if(e){if("string"===typeof e)return pe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?pe(e,n):void 0}}var be=function(e){var n=e.anvils,t=e.drHosts,o=e.previous,i=(0,l.useRef)({}),u=(0,l.useCallback)((function(e){var n;return null===(n=i.current.setMessage)||void 0===n?void 0:n.call(null,"api",e)}),[]),a=(0,l.useMemo)((function(){var e,n,r,i=o.locations,u=o.name,l=o.type,a=o.uuid;return e={},n=a,r={locations:Object.values(i).reduce((function(e,n){var r=n.active,o=n.anvilUuid,i=n.hostUuid,u="anvils",l=o;return i in t&&(u="drHosts",l=i),e[u][l]={active:r},e}),{anvils:{},drHosts:{}}),name:u,type:l,uuid:a},n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}),[t,o]),c=(0,f.TA)({initialValues:a,onSubmit:function(e,n){var t=n.setSubmitting,i=function(e,n){var t=e.locations,r=e.name,o=e.type,i=e.uuid;if(t&&o){var u=[];return Object.entries(t.anvils).reduce((function(e,t){var r,o=me(t,2),i=o[0],u=o[1].active,l=n.anvils[i].locationUuids.map((function(e){return{fileLocationUUID:e,isFileLocationActive:u}}));return(r=e).push.apply(r,ve(l)),e}),u),Object.entries(t.drHosts).reduce((function(e,t){var r,o=me(t,2),i=o[0],u=o[1].active,l=n.hosts[i].locationUuids.map((function(e){return{fileLocationUUID:e,isFileLocationActive:u}}));return(r=e).push.apply(r,ve(l)),e}),u),{fileLocations:u,fileName:r,fileType:o,fileUUID:i}}}(e[o.uuid],o);p.Z.put("/file/".concat(o.uuid),i).then((function(){u({children:(0,r.jsx)(r.Fragment,{children:"File updated."})})})).catch((function(e){var n=(0,$.Z)(e);n.children=(0,r.jsxs)(r.Fragment,{children:["Failed to modify file. ",n.children]}),u(n)})).finally((function(){t(!1)}))},validationSchema:Y}),s=(0,l.useMemo)((function(){return O(c.errors)}),[c.errors]),d=(0,l.useMemo)((function(){return!c.dirty||!c.isValid||c.isValidating||c.isSubmitting}),[c.dirty,c.isSubmitting,c.isValid,c.isValidating]);return(0,r.jsxs)(k.Z,{component:"form",onSubmit:function(e){e.preventDefault(),c.submitForm()},children:[(0,r.jsx)(N,{anvils:n,drHosts:t,fileUuid:o.uuid,formik:c,showSyncInputGroup:!0,showTypeInput:!0}),(0,r.jsx)(W.Z,{count:1,messages:s,ref:i}),(0,r.jsx)(y.Z,{loading:c.isSubmitting,actions:[{background:"blue",children:"Edit",disabled:d,type:"submit"}]})]})},ge=t(1905),je=t(2152),Oe=t(3906),xe=t(6632),we=t(7791);function ke(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Se(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Se(e,n,t[n])}))}return e}function Ze(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);u=!0);}catch(a){l=!0,o=a}finally{try{u||null==t.return||t.return()}finally{if(l)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ke(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ke(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce=function(){var e=(0,l.useRef)(null),n=(0,l.useRef)({}),t=(0,l.useRef)(null),o=(0,l.useRef)({}),i=Ze((0,xe.Z)(),2),c=i[0],f=i[1],d=(0,l.useState)(!1),y=d[0],m=d[1],v=Ze((0,re.Z)(void 0),2),h=v[0],b=v[1],g=Ze((0,re.Z)(!1),2),j=g[0],O=g[1],x=(0,ge.Z)("".concat(a.Z,"/file")),w=x.data,P=x.isLoading,C=(0,l.useMemo)((function(){return w?function(e){return e.reduce((function(e,n){var t=Ze(n,5),r=t[0],o=t[1],i=t[2],u=t[3],l=t[4];return e[r]={checksum:l,name:o,size:i,type:u,uuid:r},e}),{})}(w):void 0}),[w]),I=(0,Oe.Z)({list:C}),E=I.buildDeleteDialogProps,M=I.checks,D=I.getCheck,U=I.hasAllChecks,T=I.hasChecks,L=I.multipleItems,F=I.setAllChecks,V=I.setCheck,R=(0,l.useCallback)((function(e){var n;return null===(n=o.current.setMessage)||void 0===n?void 0:n.call(null,"api",e)}),[]),_=(0,l.useCallback)((function(e){O(!0),p.Z.get("file/".concat(e)).then((function(e){var n=e.data;b(function(e){var n=e[0];if(n){var t=Ze(n,5),r=t[0],o=t[1],i=t[2],u=t[3],l=t[4];return e.reduce((function(e,n){var t=n[5],r=n[6],o=n[7],i=n[8],u=n[9],l=n[10],a=n[11],c=n[12];e.anvils[o]||(e.anvils[o]={description:u,locationUuids:[],name:i,uuid:o}),e.hosts[l]||(e.hosts[l]={locationUuids:[],name:a,type:c,uuid:l}),"dr"===c?e.hosts[l].locationUuids.push(t):e.anvils[o].locationUuids.push(t);var s=1===Number(r);return e.locations[t]={anvilUuid:o,active:s,hostUuid:l,uuid:t},e}),{anvils:{},checksum:l,hosts:{},locations:{},name:o,size:i,type:u,uuid:r})}}(n))})).catch((function(e){var n=(0,$.Z)(e);n.children=(0,r.jsxs)(r.Fragment,{children:["Failed to get file detail. ",n.children]}),R(n)})).finally((function(){O(!1)}))}),[R,b,O]),H=(0,we.Z)("/anvil",{onError:function(e){R({children:(0,r.jsxs)(r.Fragment,{children:["Failed to get node list. ",e]}),type:"warning"})}}),N=H.data,B=H.loading,z=(0,l.useMemo)((function(){return N&&(0,se.Z)(N)}),[N]),q=(0,we.Z)("/host?types=dr",{onError:function(e){R({children:(0,r.jsxs)(r.Fragment,{children:["Failed to get DR host list. ",e]}),type:"warning"})}}),G=q.data,K=q.loading,J=(0,l.useMemo)((function(){return(0,r.jsx)(S.Z,{allowCheckAll:L,allowEdit:!0,allowItemButton:y,disableDelete:!T,edit:y,getListCheckboxProps:function(){return{checked:U,onChange:function(e,n){F(n)}}},getListItemCheckboxProps:function(e){return{checked:D(e),onChange:function(n,t){V(e,t)}}},header:!0,listEmpty:"No file(s) found.",listItems:C,onAdd:function(){var n;null===(n=e.current)||void 0===n||n.setOpen(!0)},onDelete:function(){var e;f(E({onProceedAppend:function(){M.forEach((function(e){return p.Z.delete("/file/".concat(e))}))},getConfirmDialogTitle:function(e){return"Delete the following ".concat(e," file(s)?")},renderEntry:function(e){var n=e.key;return(0,r.jsx)(A.Ac,{children:null===C||void 0===C?void 0:C[n].name})}})),null===(e=n.current.setOpen)||void 0===e||e.call(null,!0)},onEdit:function(){m((function(e){return!e}))},onItemClick:function(e,n){var r;null===(r=t.current)||void 0===r||r.setOpen(!0),_(n)},renderListItem:function(e,n){var t,o=n.checksum,i=n.name,l=n.size,a=n.type;return(0,r.jsxs)(k.Z,{columnSpacing:0,fullWidth:!0,md:"row",xs:"column",children:[(0,r.jsxs)(k.Z,{spacing:0,flexGrow:1,children:[(0,r.jsxs)(k.Z,{row:!0,spacing:".5em",children:[(0,r.jsx)(A.$_,{children:i}),(0,r.jsx)(ye.Z,{flexItem:!0,orientation:"vertical"}),(0,r.jsx)(A.Ac,{children:null===(t=s.get(a))||void 0===t?void 0:t[1]})]}),(0,r.jsx)(A.Ac,{children:(0,u._d)(l,{toUnit:"ibyte"})})]}),(0,r.jsx)(A.$_,{children:o})]})}})}),[E,M,y,C,D,_,U,T,L,F,V,f]),X=(0,l.useMemo)((function(){return P?(0,r.jsx)(je.Z,{}):J}),[P,J]),Q=(0,l.useMemo)((function(){return(0,r.jsx)(W.Z,{count:1,ref:o,usePlaceholder:!1})}),[]),Y=(0,l.useMemo)((function(){return P||B||K}),[B,K,P]),ee=(0,l.useMemo)((function(){return P||B||K||j}),[B,K,j,P]),ne=(0,l.useMemo)((function(){return z&&G&&(0,r.jsx)(ce,{anvils:z,drHosts:G})}),[z,G]),te=(0,l.useMemo)((function(){return z&&G&&h&&(0,r.jsx)(be,{anvils:z,drHosts:G,previous:h})}),[z,G,h]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(Z.s_,{children:[(0,r.jsx)(Z.V9,{children:(0,r.jsx)(A.z,{children:"Files"})}),Q,X]}),(0,r.jsx)(de.Js,{header:"Add file(s)",loading:Y,ref:e,showClose:!0,wide:!0,children:ne}),(0,r.jsx)(de.Js,{header:"Update file ".concat(null===h||void 0===h?void 0:h.name),loading:ee,ref:t,showClose:!0,wide:!0,children:te}),(0,r.jsx)(fe.Z,Pe({closeOnProceed:!0,wide:!0},c,{ref:n}))]})},Ae=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.default,{children:(0,r.jsx)("title",{children:"File Manager"})}),(0,r.jsx)(i.Z,{}),(0,r.jsx)(Ce,{})]})}}},function(e){e.O(0,[662,412,438,894,182,176,62,195,157,248,774,888,179],(function(){return n=8283,e(e.s=n);var n}));var n=e.O();_N_E=n}]);