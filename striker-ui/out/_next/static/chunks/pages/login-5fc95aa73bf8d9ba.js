(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{50361:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>I});var r=t(37876),s=t(77328),l=t.n(s),i=t(89099),a=t(23934),u=t(12981),o=t(14232),p=t(48171),c=t(53198),d=t(31465),m=t(667),h=t(94091),f=t(71401),g=t(69267),x=t(79982),A=t(33852),j=t(44193);let b={width:"100%"},w="gate-input",P="".concat(w,"-credential-id"),v="".concat(w,"-credential-passphrase"),_="access",y=(0,o.forwardRef)((e,n)=>{let{formContainer:t=!0,gridProps:{columns:s={xs:1,sm:2},layout:l,spacing:i="1em",...a}={},identifierId:w=P,identifierInputTestBatchBuilder:y=A.rn,identifierLabel:C,identifierOutlinedInputWithLabelProps:{formControlProps:R={},inputProps:L,...B}={},onIdentifierBlurAppend:I,onSubmit:T,onSubmitAppend:E,passphraseId:F=v,passphraseLabel:N,passphraseOutlinedInputWithLabelProps:{formControlProps:S={},inputProps:k,...M}={},submitLabel:O,allowSubmit:q=t}=e,{sx:U,...W}=R,{sx:G,...V}=S,X=(0,o.useRef)({}),D=(0,o.useRef)({}),H=(0,o.useRef)({}),[Z,z]=(0,o.useState)(!1),{buildFinishInputTestBatchFunction:J,buildInputFirstRenderFunction:K,buildInputUnmountFunction:Q,isFormInvalid:Y,setMessage:$}=(0,j.A)([w,F],H),ee=(0,o.useMemo)(()=>null!=T?T:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let{0:r}=n;r.preventDefault(),$(_),z(!0);let{target:s}=r,{elements:l}=s,{value:i}=l.namedItem(w),{value:a}=l.namedItem(F);null==E||E.call(null,i,a,e=>{$(_,e)},z,...n)},[w,T,E,F,z,$]),en=(0,o.useMemo)(()=>Z?(0,r.jsx)(x.A,{mt:0}):(0,r.jsx)(d.A,{row:!0,sx:{justifyContent:"flex-end"},children:(0,r.jsx)(c.A,{disabled:Y,type:"submit",children:O})}),[Y,Z,O]),et=(0,o.useMemo)(()=>{let e={};return q&&(e["gate-cell-message-group"]={children:(0,r.jsx)(f.A,{count:1,defaultMessageType:"warning",ref:H}),sm:2},e["gate-cell-submit"]={children:en,sm:2}),e},[q,en]),er=(0,o.useMemo)(()=>{let e={};return t&&(e.component="form",e.onSubmit=ee),e},[t,ee]);return(0,o.useImperativeHandle)(n,()=>({get:()=>{var e,n,t,r;return{identifier:null!=(t=null==(e=X.current.getValue)?void 0:e.call(null))?t:"",passphrase:null!=(r=null==(n=D.current.getValue)?void 0:n.call(null))?r:""}},messageGroup:{...H.current},setIsSubmitting:e=>{z(e)}})),(0,r.jsx)(u.A,{...er,children:(0,r.jsx)(m.A,{columns:s,layout:{"gate-input-cell-credential-id":{children:(0,r.jsx)(h.A,{input:(0,r.jsx)(g.A,{formControlProps:{...W,sx:{...b,...U}},id:w,inputProps:L,label:C,...B}),inputTestBatch:y(C,()=>{$(w)},{onFinishBatch:J(w)},e=>{$(w,{children:e})}),onBlurAppend:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];null==I||I.call(null,...n)},onFirstRender:K(w),onUnmount:Q(w),ref:X,required:!0})},"gate-input-cell-credential-passphrase":{children:(0,r.jsx)(h.A,{input:(0,r.jsx)(g.A,{formControlProps:{...V,sx:{...b,...G}},id:F,inputProps:k,label:N,type:p.A.password,...M}),inputTestBatch:(0,A.rn)(N,()=>{$(F)},{onFinishBatch:J(F)},e=>{$(F,{children:e})}),onFirstRender:K(F),onUnmount:Q(F),ref:D,required:!0})},...et},spacing:i,...a})})});y.displayName="GateForm";var C=t(5806),R=t(23437);let L=()=>{let{query:{rt:e}}=(0,i.useRouter)();return(0,r.jsx)(R.Zk,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 14em)",minWidth:"16em",width:{xs:"fit-content",sm:"26em"}},children:(0,r.jsx)(y,{gridProps:{columns:1},identifierLabel:"Username",onSubmitAppend:(n,t,r,s)=>{s(!0),a.A.post("/auth/login",{username:n,password:t}).then(()=>{let n=e?String(e):"/";window.location.replace(n)}).catch(e=>{r((0,C.A)(e,{onResponseErrorAppend:()=>({children:"Credentials mismatched.",type:"warning"})}))}).finally(()=>{s(!1)})},passphraseLabel:"Passphrase",submitLabel:"Login"})})};var B=t(86732);let I=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Login"})}),(0,r.jsx)(B.A,{}),(0,r.jsx)(L,{})]})},60641:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(50361)}])},89099:(e,n,t)=>{e.exports=t(48253)}},e=>{var n=n=>e(e.s=n);e.O(0,[559,3,133,732,821,636,593,792],()=>n(60641)),_N_E=e.O()}]);