(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[912],{2062:(e,t,l)=>{"use strict";l.d(t,{A:()=>n});let n=(e,t)=>{let l;try{l=Object.keys(e)}catch(e){l=[]}let n="function"==typeof t?t:()=>t;return l.reduce((t,l)=>{let{[l]:r}=e;return t[l]=n(l,r),t},{})}},4064:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var n=l(14232),r=l(48171),a=l(44076);let s=(0,n.forwardRef)((e,t)=>{let{input:l,onChange:s=function(e){let{handlers:{base:t,origin:l}}=e;for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];null==t||t.call(null,...r),null==l||l.call(null,...r)},onMount:i,onUnmount:o}=e,{props:u}=l,{valueKey:c,valueType:d}=(0,n.useMemo)(()=>{let{type:e}=u,t="value",l="string";return e===r.A.checkbox&&(t="checked",l="boolean"),{valueKey:t,valueType:l}},[u]),{onChange:h,[c]:m,...p}=u,[v,f]=(0,n.useState)(m),g=(0,n.useCallback)(e=>{let{target:{[c]:t}}=e;f(a.A[d](t))},[c,d]),x=(0,n.useCallback)(function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return null==s?void 0:s.call(null,{handlers:{base:g,origin:h}},...t)},[g,h,s]);return(0,n.useEffect)(()=>(null==i||i.call(null),o),[]),(0,n.useEffect)(()=>{f(m)},[m]),(0,n.useImperativeHandle)(t,()=>({get:()=>v,set:f}),[v]),(0,n.cloneElement)(l,{...p,onChange:x,[c]:v})});s.displayName="UncontrolledInput";let i=s},4177:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>er});var n=l(37876),r=l(77328),a=l.n(r),s=l(86732),i=l(64410),o=l(69647),u=l(14232);let c=[["iso",["application/x-cd-image","ISO (optical disc)"]],["other",["text/plain","Other file type"]],["script",["text/plain","Script (program)"]]],d=new Map(c);var h=l(91423),m=l(63190),p=l(23934),v=l(53198),f=l(36085),g=l(72649),x=l.n(g),A=l(4917),j=l.n(A),b=l(31465),y=l(74799),k=l(69267),C=l(23437),w=l(65873),M=l(51677),S=l(4064);let I=e=>{let{anvils:t,drHosts:l,fileUuid:r,formik:a,showSyncInputGroup:s,showTypeInput:i}=e,{handleBlur:o,handleChange:d}=a,h=(0,u.useMemo)(()=>j()(d,500),[d]),m=(0,u.useMemo)(()=>({locations:"".concat(r,".locations"),name:"".concat(r,".name"),type:"".concat(r,".type")}),[r]),p=(0,u.useCallback)((e,t)=>{a.setValues(l=>{var n;let a=x()(l),s=null==(n=a[r].locations)?void 0:n[e];return s?(Object.keys(s).forEach(e=>{s[e].active=t}),a):l})},[a,r]),v=(0,u.useCallback)(e=>{var t;let l=null==(t=a.values[r].locations)?void 0:t[e];return l?{checked:Object.values(l).every(e=>{let{active:t}=e;return t}),onChange:(t,l)=>{p(e,l)}}:{}},[a.values,r,p]),g=(0,u.useCallback)((e,t)=>{var l,n,s;let i="".concat(m.locations,".").concat(e,".").concat(t),u="".concat(i,".active");return{id:u,name:u,checked:null==(s=a.values[r].locations)||null==(n=s[e])||null==(l=n[t])?void 0:l.active,onBlur:o,onChange:d}},[m.locations,a.values,r,o,d]),A=(0,u.useCallback)(e=>{var t;let l=null==(t=a.values[r].locations)?void 0:t[e];return l&&Object.keys(l).length>1},[a.values,r]),I=(0,u.useMemo)(()=>(0,n.jsx)(S.A,{input:(0,n.jsx)(k.A,{id:m.name,label:"File name",name:m.name,onBlur:o,onChange:h,value:a.values[r].name})}),[m.name,h,a.values,r,o]),O=(0,u.useMemo)(()=>s&&(0,n.jsx)(C.l8,{header:"Sync with node(s)",panelProps:{mb:0,mt:0,width:"100%"},children:(0,n.jsx)(y.A,{allowCheckAll:A("anvils"),allowCheckItem:!0,edit:!0,header:!0,listItems:t,getListCheckboxProps:()=>v("anvils"),getListItemCheckboxProps:e=>g("anvils",e),renderListItem:(e,t)=>{let{description:l,name:r}=t;return(0,n.jsxs)(M.a3,{children:[r,": ",l]})}})}),[t,A,v,g,s]),F=(0,u.useMemo)(()=>s&&(0,n.jsx)(C.l8,{header:"Sync with DR host(s)",panelProps:{mb:0,mt:0,width:"100%"},children:(0,n.jsx)(y.A,{allowCheckAll:A("drHosts"),allowCheckItem:!0,edit:!0,header:!0,listItems:l,getListCheckboxProps:()=>v("drHosts"),getListItemCheckboxProps:e=>g("drHosts",e),renderListItem:(e,t)=>{let{hostName:l}=t;return(0,n.jsx)(M.a3,{children:l})}})}),[l,A,v,g,s]),P=(0,u.useMemo)(()=>i&&(0,n.jsx)(w.A,{id:m.type,label:"File type",name:m.type,onBlur:o,onChange:d,selectItems:c.map(e=>{let[t,[,l]]=e;return{displayValue:l,value:t}}),value:a.values[r].type}),[m.type,a.values,r,o,d,i]);return(0,n.jsxs)(f.A,{sx:{"& > :not(:first-child)":{marginTop:"1em"}},children:[(0,n.jsxs)(b.A,{sm:"row",xs:"column",children:[I,P]}),O,F]})};var O=l(5806),F=l(71401),P=l(91408),U=l(2062),$=l(45566);let D=P.Ik({active:P.zM().required()}),E=P.RZ(e=>P.Ik((0,U.A)(e,D))),N=P.RZ(e=>P.Ik((0,U.A)(e,D))),V=P.Ik({locations:P.Ik({anvils:E,drHosts:N}),name:P.Yj().required(),type:P.Yj().oneOf(["iso","other","script"]),uuid:(0,$.ZC)().required()}),H=P.RZ(e=>P.Ik((0,U.A)(e,V)));var R=l(12981),_=l(64632);let z=e=>{let{uploads:t}=e;return(0,n.jsx)(b.A,{columnSpacing:".2em",children:Object.values(t).map(e=>{let{name:t,progress:l,uuid:r}=e;return(0,n.jsxs)(R.A,{sx:{alignItems:{md:"center"},display:"flex",flexDirection:{xs:"column",md:"row"},"& > :first-child":{minWidth:100,overflow:"hidden",overflowWrap:"normal",textOverflow:"ellipsis",whiteSpace:"nowrap",width:{xs:"100%",md:200},wordBreak:"keep-all"},"& > :last-child":{flexGrow:1}},children:[(0,n.jsx)(M.a3,{children:t}),(0,n.jsx)(_.z2,{progressPercentage:l})]},"upload-".concat(r))})})};var T=l(71986);let W=(e,t,l)=>e?(e[t].progress=l,{...e}):e,L=e=>{let{anvils:t,drHosts:l}=e,r=(0,u.useRef)(null),[a,s]=(0,u.useState)({}),[i,o]=(0,u.useState)(),c=(0,u.useCallback)(e=>s(t=>{let{api:l,...n}=t;return e&&(n.api=e),n}),[]),{disabledSubmit:d,formik:f,formikErrors:g}=(0,T.A)({initialValues:{},onSubmit:e=>{let t=Object.values(e);o(t.reduce((e,t)=>{let{file:l,name:n,uuid:r}=t;return l&&(e[r]={name:n,progress:0,uuid:r}),e},{})),c({children:(0,n.jsx)(n.Fragment,{children:"Closing this dialog before the upload(s) complete will cancel the upload(s)."})}),Promise.all(t.reduce((e,t)=>{let{file:l,name:n,uuid:r}=t;if(!l)return e;let a=new FormData;a.append("file",new File([l],n,{...l}));let s=p.A.post("/file",a,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:e=>{let{loaded:t,total:l=t}=e;o(e=>W(e,r,Math.round(t/l*99)))}}).then(()=>{o(e=>W(e,r,100))});return e.push(s),e},[])).then(()=>{c({children:(0,n.jsxs)(b.A,{spacing:0,children:[(0,n.jsx)("span",{children:"Upload(s) completed; file(s) will be listed after the job(s) to sync them to other host(s) finish."}),(0,n.jsx)("span",{children:"You can close this dialog."})]})})}).catch(e=>{let t=(0,O.A)(e);t.children=(0,n.jsxs)(n.Fragment,{children:["Failed to add file. ",t.children]}),c(t)})},validationSchema:H}),x=(0,u.useCallback)(e=>{let{target:{files:t}}=e;if(!t)return;let l=Array.from(t).reduce((e,t)=>{let l=(0,h.A)();return e[l]={file:t,name:t.name,uuid:l},e},{});f.setValues(l,!0)},[f]),A=(0,u.useMemo)(()=>Object.values(f.values).map(e=>{let{uuid:r}=e;return(0,n.jsx)(I,{anvils:t,drHosts:l,fileUuid:r,formik:f},r)}),[t,l,f]);return(0,n.jsxs)(b.A,{children:[(0,n.jsx)(F.A,{messages:a}),i?(0,n.jsx)(z,{uploads:i}):(0,n.jsxs)(b.A,{component:"form",onSubmit:e=>{e.preventDefault(),f.submitForm()},children:[(0,n.jsx)("input",{id:"files",multiple:!0,name:"files",onChange:x,ref:e=>{r.current=e},style:{display:"none"},type:"file"}),(0,n.jsx)(v.A,{onClick:()=>{var e;null==(e=r.current)||e.click()},children:"Browse"}),A,(0,n.jsx)(F.A,{count:1,messages:g}),(0,n.jsx)(m.A,{actions:[{background:"blue",children:"Add",disabled:d,type:"submit"}]})]})]})};var q=l(99327),B=l(35685),Y=l(75925),Z=l(57547),K=l(30198);let Q=(e,t)=>{let{locations:l,name:n,type:r,uuid:a}=e;if(!l||!r)return;let s=[];return Object.entries(l.anvils).reduce((e,l)=>{let[n,{active:r}]=l,{anvils:{[n]:{locationUuids:a}}}=t,s=a.map(e=>({fileLocationUUID:e,isFileLocationActive:r}));return e.push(...s),e},s),Object.entries(l.drHosts).reduce((e,l)=>{let[n,{active:r}]=l,{hosts:{[n]:{locationUuids:a}}}=t,s=a.map(e=>({fileLocationUUID:e,isFileLocationActive:r}));return e.push(...s),e},s),{fileLocations:s,fileName:n,fileType:r,fileUUID:a}},X=e=>{let{anvils:t,drHosts:l,onSuccess:r,previous:a}=e,s=(0,u.useRef)({}),i=(0,u.useCallback)(e=>{var t;return null==(t=s.current.setMessage)?void 0:t.call(null,"api",e)},[]),o=(0,u.useMemo)(()=>{let{name:e,type:n,uuid:r}=a,s={anvils:{},drHosts:{}};Object.values(t).forEach(e=>{let t=a.anvils[e.uuid].locationUuids.every(e=>a.locations[e].active);s.anvils[e.uuid]={active:t}});let i=Object.values(a.locations);return Object.values(l).forEach(e=>{let t=i.find(t=>t.hostUuid===e.hostUUID);s.drHosts[e.hostUUID]={active:!!t&&t.active}}),{[r]:{locations:s,name:e,type:n,uuid:r}}},[t,l,a]),{formik:c,disabledSubmit:d,formikErrors:h}=(0,T.A)({initialValues:o,onSubmit:(e,t)=>{let{setSubmitting:l}=t,s=Q(e[a.uuid],a);p.A.put("/file/".concat(a.uuid),s).then(()=>{i({children:(0,n.jsx)(n.Fragment,{children:"File updated."})}),null==r||r.call(null)}).catch(e=>{let t=(0,O.A)(e);t.children=(0,n.jsxs)(n.Fragment,{children:["Failed to modify file. ",t.children]}),i(t)}).finally(()=>{l(!1)})},validationSchema:H});return(0,n.jsxs)(b.A,{component:"form",onSubmit:e=>{e.preventDefault(),c.submitForm()},children:[(0,n.jsx)(I,{anvils:t,drHosts:l,fileUuid:a.uuid,formik:c,showSyncInputGroup:!0,showTypeInput:!0}),(0,n.jsx)(F.A,{count:1,messages:h,ref:s}),(0,n.jsx)(m.A,{loading:c.isSubmitting,actions:[{background:"blue",children:"Update",disabled:d,type:"submit"}]})]})};var G=l(79982),J=l(23192),ee=l(57656),et=l(42116),el=l(59664);let en=()=>{let e=(0,u.useRef)(null),t=(0,u.useRef)({}),l=(0,u.useRef)(null),r=(0,u.useRef)({}),[a,s]=(0,et.A)(),[c,h]=(0,u.useState)(!1),[m,v]=(0,u.useState)(),{data:f,loading:g,mutate:x}=(0,el.A)("/file",{refreshInterval:5e3}),{buildDeleteDialogProps:A,checks:j,getCheck:k,hasAllChecks:w,hasChecks:S,multipleItems:I,resetChecks:O,setAllChecks:P,setCheck:U}=(0,ee.A)({list:f}),$=(0,u.useCallback)(e=>{var t;return null==(t=r.current.setMessage)?void 0:t.call(null,"api",e)},[]),{fetch:D,loading:E}=(0,J.A)({onData:e=>{$(),v(e)},onError:e=>{let{children:t,...l}=e;$({children:(0,n.jsxs)(n.Fragment,{children:["Failed to get file detail. ",t]}),...l})},url:"/file/"}),{altData:N,loading:V}=(0,el.A)("/anvil",{mod:q.A}),{data:H,loading:R}=(0,el.A)("/host?type=dr"),_=(0,u.useMemo)(()=>(0,n.jsx)(y.A,{allowCheckAll:I,allowEdit:!0,allowItemButton:c,disableDelete:!S,edit:c,getListCheckboxProps:()=>({checked:w,onChange:(e,t)=>{P(t)}}),getListItemCheckboxProps:e=>({checked:k(e),onChange:(t,l)=>{U(e,l)}}),header:!0,listEmpty:"No file(s) found.",listItems:f,onAdd:()=>{var t;null==(t=e.current)||t.setOpen(!0)},onDelete:()=>{var e;s(A({onProceedAppend:()=>{Promise.all(j.map(e=>p.A.delete("/file/".concat(e)))).then(()=>x()),O()},getConfirmDialogTitle:e=>"Delete the following ".concat(e," file(s)?"),renderEntry:e=>{let{key:t}=e;return(0,n.jsx)(M.a3,{children:null==f?void 0:f[t].name})}})),null==(e=t.current.setOpen)||e.call(null,!0)},onEdit:()=>{h(e=>!e)},onItemClick:(e,t)=>{var n;null==(n=l.current)||n.setOpen(!0),D(t)},renderListItem:(e,t)=>{var l;let{anvils:r,checksum:a,name:s,size:u,type:c}=t,h=Object.values(r).some(e=>{let{ready:t}=e;return!t});return(0,n.jsxs)(i.Ay,{container:!0,columnGap:"1em",children:[h&&(0,n.jsx)(i.Ay,{alignSelf:"center",item:!0,children:(0,n.jsx)(B.A,{size:"1.5em",variant:"indeterminate"})}),(0,n.jsxs)(i.Ay,{item:!0,xs:!0,children:[(0,n.jsxs)(b.A,{columnSpacing:0,rowSpacing:".5em",sm:"row",xs:"column",children:[(0,n.jsx)(M.NA,{noWrap:!0,children:s}),(0,n.jsx)(K.A,{flexItem:!0,orientation:"vertical"}),(0,n.jsx)(M.a3,{children:null==(l=d.get(c))?void 0:l[1]})]}),(0,n.jsxs)(b.A,{row:!0,spacing:".5em",children:[h&&(0,n.jsx)(M.a3,{children:"Syncing..."}),(0,n.jsx)(M.a3,{children:(0,o.zz)(u,{toUnit:"ibyte"})})]})]}),(0,n.jsx)(i.Ay,{alignSelf:"center",item:!0,width:{xs:"100%",md:"auto"},children:(0,n.jsx)(M.NA,{noWrap:!0,children:a})})]})}}),[A,j,c,f,k,D,x,w,S,I,O,P,U,s]),z=(0,u.useMemo)(()=>g?(0,n.jsx)(G.A,{}):_,[g,_]),T=(0,u.useMemo)(()=>g||V||R,[V,R,g]),W=(0,u.useMemo)(()=>g||V||R||E,[V,R,E,g]),Q=(0,u.useMemo)(()=>N&&H&&(0,n.jsx)(L,{anvils:N,drHosts:H}),[N,H]),en=(0,u.useMemo)(()=>N&&H&&m&&(0,n.jsx)(X,{anvils:N,drHosts:H,onSuccess:()=>{x()},previous:m}),[N,H,m,x]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(C.Zk,{children:[(0,n.jsx)(C.aO,{children:(0,n.jsx)(M.HM,{children:"Files"})}),(0,n.jsx)(F.A,{ref:r}),z]}),(0,n.jsx)(Z.K_,{header:"Add file(s)",loading:T,ref:e,showClose:!0,wide:!0,children:Q}),(0,n.jsx)(Z.K_,{header:"Update file ".concat(null==m?void 0:m.name),loading:W,ref:l,showClose:!0,wide:!0,children:en}),(0,n.jsx)(Y.A,{closeOnProceed:!0,wide:!0,...a,ref:t})]})},er=()=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"File Manager"})}),(0,n.jsx)(s.A,{}),(0,n.jsx)(en,{})]})},12698:(e,t,l)=>{"use strict";l.d(t,{Ay:()=>a,WT:()=>r});let n=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[,n,r,a]=t;void 0!==a&&(n[r]=a)},r=function(e,t){let{set:l=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let r={};return Object.keys(n).forEach(a=>{e.test(a)?l(n,r,a,t):r[a]=n[a]}),r}},a=function(e,t){let{guard:l=()=>!0,set:r=n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=>{let{[e]:a,...s}=n,i={...s};return l(n,e,t)&&r(n,i,e,t),i}}},23192:(e,t,l)=>{"use strict";l.d(t,{A:()=>s});var n=l(14232),r=l(23934),a=l(5806);let s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{config:t,onError:l,onData:s,url:i=""}=e,[o,u]=(0,n.useState)(!1);return{fetch:(0,n.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0,o="".concat(i).concat(e);o&&(u(!0),r.A.get(o,{...t,...n}).then(e=>{let{data:t}=e;null==s||s.call(null,t)}).catch(e=>{let t=(0,a.A)(e);null==l||l.call(null,t)}).finally(()=>{u(!1)}))},[i,t,s,l]),loading:o}}},42116:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});var n=l(14232);let r=function(){let{actionProceedText:e="",content:t="",titleText:l="",...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,n.useState)({actionProceedText:e,content:t,titleText:l,...r})}},45566:(e,t,l)=>{"use strict";l.d(t,{By:()=>i,W5:()=>u,Yj:()=>c,ZC:()=>o,fD:()=>s});var n=l(69647),r=l(91408),a=l(96043);let s=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{filterBy:n}=l,r=Object.values(e);return n&&(r=r.filter(n)),r.map(t)},i=()=>r.Yj().matches(a.e6,{message:"${path} must be a valid MAC address"}),o=()=>r.Yj().matches(a.KF,{message:"${path} must be a valid UUID"}),u=()=>r.Yj().matches(a._9,{message:"${path} must be a valid IPv4 address"}),c=e=>{let t,l,{baseUnit:a="B",max:s,min:i,nds:o="not-data-size"}=e;return i&&(l=(e,t)=>{var l;let{createError:r}=t,s=null!=(l=(0,n.zz)(i,{toUnit:"ibyte"}))?l:"".concat(i," ").concat(a);if(!(e>=i))throw r({message:"${path} must be greater than or equal to ${min}",params:{min:s}});return!0}),s&&(t=(e,t)=>{var l;let{createError:r,parent:a}=t,i=null!=(l=(0,n.zz)(s,{toUnit:a.unit}))?l:"available size";if(!(e<=s))throw r({message:"${path} must be less than or equal to ${max}",params:{max:i}});return!0}),r.Ik({value:r.Yj().ensure().when(["unit"],(e,r)=>{let[s]=e;return/percent/.test(s)?r.test({exclusive:!0,name:"percent",test:(e,t)=>{let{createError:l}=t,n=Number(e);return Number.isSafeInteger(n)?n<=100?n>=0||l({message:"${path} (%) must be greater than or equal to ${min}%",params:{min:0}}):l({message:"${path} (%) must be less than or equal to ${max}%",params:{max:100}}):l({message:"${path} (%) must be a valid integer"})}}):r.transform(e=>{if(s===a)return e;let t=(0,n.u7)(e,{fromUnit:s,precision:0,toUnit:a});return t?t.value:o}).test({exclusive:!0,message:"${path} is not a valid data size",name:"datasize",test:e=>e!==o}).test({exclusive:!0,name:"sequence",test:(e,n)=>{let r,{createError:a}=n;try{r=BigInt(e)}catch(e){return a({message:"${path} cannot have decimal bytes"})}try{null==l||l.call(n,r,n),null==t||t.call(n,r,n)}catch(e){return e}return!0}})}),unit:r.Yj()})}},48440:(e,t,l)=>{"use strict";l.d(t,{A:()=>a});var n=l(52076),r=l.n(n);let a=e=>{let t=e.replace(/([a-z\d])([A-Z])/g,"$1 $2");return r()(t)}},52627:(e,t,l)=>{"use strict";l.d(t,{A:()=>b});var n=l(37876),r=l(12981),a=l(63009),s=l(12572),i=l(40123),o=l.n(i),u=l(96043),c=l(48440),d=l(31465),h=l(51677);let m=e=>null==e||"number"==typeof e&&!Number.isFinite(e)||"string"==typeof e&&0===e.trim().length,p=e=>{let{entry:t}=e;return(0,n.jsx)(h.NA,{whiteSpace:"nowrap",children:String(t)})},v=e=>{let{entry:t,key:l}=e;return u.sX.test(l)?(0,n.jsx)(h.EN,{wrapper:"mono",children:String(t)}):p(e)},f=e=>{let{entry:t,hasPassword:l}=e;return m(t)?(0,n.jsx)(h.a3,{children:"none"}):l?v(e):p(e)},g=e=>{let{depth:t,entry:l,getLabel:a,hasPassword:s,key:i,nest:o,renderValue:u}=e;return(0,n.jsxs)(d.A,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,n.jsx)(h.a3,{children:a({cap:c.A,depth:t,entry:l,hasPassword:s,key:i})}),(0,n.jsx)(r.A,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!o&&u(f,{depth:t,entry:l,hasPassword:s,key:i})})]})},x=e=>{let{key:t}=e;return/confirm|uuid/i.test(t)},A=e=>null!==e&&"object"==typeof e&&!o()(e),j=e=>{let{depth:t=0,entries:l,getEntryLabel:r,getListProps:i,getListItemProps:o,hasPassword:u,listKey:c,maxDepth:d,renderEntry:h,renderEntryValue:m,skip:p}=e,v=[];Object.entries(l).forEach(e=>{let[l,a]=e,i="form-summary-entry-".concat(l),c=A(a),f=c?null:a,g={depth:t,entry:f,hasPassword:u,key:l};p(x,g)||v.push((0,n.jsx)(s.Ay,{sx:{paddingLeft:"".concat(t,"em")},...null==o?void 0:o.call(null,g),children:h({depth:t,entry:f,getLabel:r,hasPassword:u,key:l,nest:c,renderValue:m})},i)),c&&t<d&&v.push(j({depth:t+1,entries:a,getEntryLabel:r,hasPassword:u,listKey:l,maxDepth:d,renderEntry:h,renderEntryValue:m,skip:p}))});let f="form-summary-list-".concat(null!=c?c:"root");return(0,n.jsx)(a.A,{dense:!0,disablePadding:!0,...null==i?void 0:i.call(null,{depth:t,entries:l,key:c}),children:v},f)},b=e=>{let{entries:t,getEntryLabel:l=e=>{let{cap:t,key:l}=e;return t(l)},getListProps:n,getListItemProps:r,hasPassword:a=!1,maxDepth:s=3,renderEntry:i=g,renderEntryValue:o=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)},skip:u=function(e){for(var t=arguments.length,l=Array(t>1?t-1:0),n=1;n<t;n++)l[n-1]=arguments[n];return e(...l)}}=e;return j({entries:t,getEntryLabel:l,getListProps:n,getListItemProps:r,hasPassword:a,maxDepth:s,renderEntry:i,renderEntryValue:o,skip:u})}},57656:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var n=l(37876),r=l(14232),a=l(12698),s=l(52627);let i=e=>{let{list:t={}}=e,[l,i]=(0,r.useState)({}),o=(0,r.useMemo)(()=>Object.keys(t),[t]),u=(0,r.useMemo)(()=>Object.keys(l),[l]),c=(0,r.useMemo)(()=>u.length===o.length,[u.length,o.length]),d=(0,r.useMemo)(()=>u.length>0,[u.length]),h=(0,r.useMemo)(()=>o.length>1,[o.length]),m=(0,r.useCallback)(e=>{let{confirmDialogProps:t={},formSummaryProps:r={},getConfirmDialogTitle:a,onProceedAppend:i,renderEntry:o}=e;return{actionProceedText:"Delete",content:(0,n.jsx)(s.A,{entries:l,maxDepth:0,renderEntry:o,...r}),onProceedAppend:i,proceedColour:"red",titleText:a(u.length),...t}},[l,u.length]),p=(0,r.useCallback)(e=>!!l[e],[l]),v=(0,r.useCallback)(()=>i({}),[]);return{buildDeleteDialogProps:m,checklist:l,checks:u,getCheck:p,hasAllChecks:c,hasChecks:d,multipleItems:h,resetChecks:v,setAllChecks:(0,r.useCallback)(e=>i(o.reduce((t,l)=>(e&&(t[l]=e),t),{})),[o]),setCheck:(0,r.useCallback)((e,t)=>i((0,a.Ay)(e,t||void 0)),[])}}},65873:(e,t,l)=>{"use strict";l.d(t,{A:()=>C});var n=l(37876),r=l(99846),a=l(32378),s=l(75638),i=l(54024),o=l(50046),u=l.n(o),c=l(14232),d=l(90890),h=l(71949),m=l(72015),p=l(49210),v=l(42262),f=l(48504),g=l(50174),x=l(86250),A=l(98630),j=l(21220),b=l(38456),y=l(75720);let k=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[r]=t,{onClearIndicatorClick:a,...s}=r,{sx:o,value:u,...h}=s,m=(0,c.useMemo)(()=>({["& .".concat(i.A.icon)]:{color:d.Qu},["& .".concat(b.A.root)]:{marginRight:".8em"},["& .".concat(g.A.root)]:{color:d.Qu,visibility:"hidden"},["&:hover .".concat(b.A.root," .").concat(g.A.root,",\n      &.").concat(A.A.focused," .").concat(b.A.root," .").concat(g.A.root)]:{visibility:"visible"},...o}),[o]),p=(0,c.useMemo)(()=>{if(u&&a)return(0,n.jsx)(y.A,{position:"end",children:(0,n.jsx)(x.A,{onClick:a,tabIndex:-1,children:(0,n.jsx)(f.A,{fontSize:"small"})})})},[a,u]);return(0,n.jsx)(j.A,{endAdornment:p,value:u,...h,sx:m})},C=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[o]=t,{id:f,label:g,selectItems:x,checkItem:A,disableItem:j,formControlProps:b,hideItem:y,inputLabelProps:C={},isReadOnly:w=!1,messageBoxProps:M={},name:S,noOptionsText:I="No options",onBlur:O,onChange:F,onFocus:P,required:U,selectProps:{MenuProps:$,multiple:D,sx:E,...N}={},value:V,isCheckableItems:H=D}=o,R=(0,c.useMemo)(()=>w?u()({["& .".concat(i.A.icon)]:{visibility:"hidden"}},E):E,[w,E]),_=(0,c.useCallback)(e=>H&&(0,n.jsx)(r.A,{checked:null==A?void 0:A.call(null,e)}),[A,H]),z=(0,c.useCallback)((e,t)=>(0,n.jsxs)(m.A,{disabled:null==j?void 0:j.call(null,e),sx:{display:(null==y?void 0:y.call(null,e))?"none":void 0},value:e,children:[_(e),t]},"".concat(f,"-").concat(e)),[_,j,y,f]),T=(0,c.useMemo)(()=>"".concat(f,"-select-element"),[f]),W=(0,c.useMemo)(()=>(0,n.jsx)(p.A,{id:f,label:g,required:U}),[f,g,U]),L=(0,c.useMemo)(()=>g&&(0,n.jsx)(v.A,{htmlFor:T,...C,children:g}),[C,g,T]),q=(0,c.useMemo)(()=>x.length?x.map(e=>{if("string"==typeof e)return z(e,e);let{value:t,displayValue:l=String(t)}=e;return z(t,l)}):(0,n.jsx)(m.A,{disabled:!0,children:I}),[z,I,x]),B=(0,c.useMemo)(()=>u()({sx:{["& .".concat(s.A.paper)]:{backgroundColor:d.Qu}}},$),[$]);return(0,n.jsxs)(a.A,{fullWidth:!0,...b,children:[L,(0,n.jsx)(k,{id:T,input:W,MenuProps:B,multiple:D,name:S,onBlur:O,onChange:F,onFocus:P,readOnly:w,value:V,...N,sx:R,children:q}),(0,n.jsx)(h.A,{...M})]})}},71986:(e,t,l)=>{"use strict";l.d(t,{A:()=>x});var n=l(39593),r=l(41946),a=l.n(r),s=l(98825),i=l.n(s),o=l(36827),u=l.n(o),c=l(14232),d=l(91408),h=l(4917),m=l.n(h);let p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{wait:l=500,...n}=t;return m()(e,l,n)};var v=l(48440);let f=function(e){let{build:t=(e,t)=>{let l=null;if("string"==typeof t){let[e,...n]=t.split(/\s+/);l=[(0,v.A)(e.replace(/^[^\s]+\.([^.]+)/,"$1")),...n].join(" ")}return{children:l,type:"warning"}},chain:l="",skip:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.entries(e).reduce((e,r)=>{let[a,s]=r,i=[l,a].filter(e=>!!e).join(".");return null!==s&&"object"==typeof s?{...e,...f(s,{build:t,chain:i,skip:n})}:((null==n?void 0:n.call(null,i))||(e[i]=t(i,s)),e)},{})},g=(e,t,l)=>{let[n,...r]=u()(t)?t.split("."):t;if(!(n in e))return!1;let s=e[n],o=l[n];return i()(s)&&i()(o)&&r.length?g(s,r,o):!a()(s,o)},x=e=>{let t=(0,c.useRef)({}),l=(0,c.useCallback)(e=>(0,n.O6)(t.current,e),[]),r=(0,c.useCallback)(function(e){let l=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.current=(0,n.Oe)(t.current,e,l)},[]),[a,s]=(0,c.useState)(!1),i=(0,n.Wx)({...e}),o=(0,c.useCallback)(async function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[n]=t;r(n,!0),await i.setFieldValue(...t)},[i.setFieldValue,r]),h=(0,c.useCallback)(e=>g(i.values,e,i.initialValues),[i.initialValues,i.values]),m=(0,c.useMemo)(()=>{let e=p(function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];i.handleChange(...t),s(!1)});return function(){for(var t=arguments.length,l=Array(t),n=0;n<t;n++)l[n]=arguments[n];s(!0);let[a]=l;u()(a)||r((a.target?a.target:a.currentTarget).name,!0),e(...l)}},[i.handleChange,r]),v=(0,c.useMemo)(()=>{let e=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];let[n]=t,{validate:r=!0,values:a}=n;i.setValues(a,r),s(!1)},t=p(e);return function(){for(var l=arguments.length,n=Array(l),a=0;a<l;a++)n[a]=arguments[a];let[i]=n,{debounce:o,event:u}=i;s(!0),u&&r((u.target?u.target:u.currentTarget).name,!0),o?t(i):e(i)}},[i.setValues,r]),x=(0,c.useMemo)(()=>a||!i.dirty||!i.isValid||i.isValidating||i.isSubmitting,[a,i.dirty,i.isSubmitting,i.isValid,i.isValidating]),A=(0,c.useMemo)(()=>f(i.errors,{skip:e=>!l(e)}),[i.errors,l]);return{changeFieldValue:o,disabledSubmit:x,formik:i,formikErrors:A,getFieldChanged:l,getFieldIsDiff:h,handleChange:m,setFieldChanged:r,setValuesKai:v,validationSchemaHelpers:(0,c.useMemo)(()=>{if(!d.Wl(e.validationSchema))return;let t=e.validationSchema.describe();return{description:t,required:e=>{if(!("fields"in t))return;let l=t.fields[e];if(l&&"optional"in l)return!l.optional}}},[e.validationSchema])}}},72015:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var n=l(47160),r=l(31880),a=l(54773),s=l(90890);let i=(0,a.Ay)(n.A)({backgroundColor:s.Qu,paddingRight:"3em",["&.".concat(r.A.selected)]:{backgroundColor:s.a$,fontWeight:400,["&.".concat(r.A.focusVisible)]:{backgroundColor:s.a$},"&:hover":{backgroundColor:s.a$}},["&.".concat(r.A.focusVisible)]:{backgroundColor:s.a$},"&:hover":{backgroundColor:s.a$}})},75925:(e,t,l)=>{"use strict";l.d(t,{A:()=>d});var n=l(37876),r=l(12981),a=l(14232),s=l(57547),i=l(31465),o=l(46316),u=l(51677);let c=(0,a.forwardRef)((e,t)=>{let{actionCancelText:l="Cancel",actionProceedText:c,children:d,closeOnProceed:h=!1,contentContainerProps:m,dialogProps:p,disableProceed:v,loading:f,loadingAction:g=!1,onActionAppend:x,onCancelAppend:A,onProceedAppend:j,openInitially:b,preActionArea:y,proceedButtonProps:k,proceedColour:C="blue",scrollBoxProps:w,scrollContent:M=!1,showActionArea:S=!0,showCancel:I,showClose:O,titleText:F,wide:P,content:U=d}=e,$=(0,a.useRef)(null),D=(0,a.useMemo)(()=>(0,o.A)(U,u.a3),[U]),E=(0,a.useMemo)(()=>(0,a.createElement)(M?s.Ji:r.A,w,D),[D,w,M]),N=(0,a.useMemo)(()=>S&&(0,n.jsx)(s.aZ,{cancelProps:{children:l,onClick:function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];null==x||x.call(null,...t),null==A||A.call(null,...t)}},closeOnProceed:h,loading:g,proceedProps:{background:C,children:c,disabled:v,onClick:function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];null==x||x.call(null,...t),null==j||j.call(null,...t)},...k},showCancel:I}),[l,c,h,v,g,x,A,j,k,C,S,I]);return(0,a.useImperativeHandle)(t,()=>({setOpen:e=>{var t;return null==(t=$.current)?void 0:t.setOpen(e)}}),[]),(0,n.jsx)(s.K_,{dialogProps:p,header:F,loading:f,openInitially:b,ref:$,showClose:O,wide:P,children:(0,n.jsxs)(i.A,{...m,children:[E,y,N]})})});c.displayName="ConfirmDialog";let d=c},96507:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/file-manager",function(){return l(4177)}])},99327:(e,t,l)=>{"use strict";l.d(t,{A:()=>r});let n=e=>e.reduce((e,t)=>{let{hostName:l,hostType:n,hostUUID:r,shortHostName:a}=t;return e[r]={name:l,short:a,type:n,uuid:r},e},{}),r=e=>e.reduce((e,t)=>{let{anvilDescription:l,anvilName:r,anvilUUID:a,hosts:s}=t;return e[a]={description:l,hosts:n(s),name:r,uuid:a},e},{})}},e=>{var t=t=>e(e.s=t);e.O(0,[325,208,3,925,282,133,732,636,593,792],()=>t(96507)),_N_E=e.O()}]);