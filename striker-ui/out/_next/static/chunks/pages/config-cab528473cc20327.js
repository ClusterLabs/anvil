(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[490],{92996:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var l,r=n(67294);let o=0,s=(l||(l=n.t(r,2)))["useId".toString()];function i(e){if(void 0!==s){let t=s();return null!=e?e:t}return function(e){let[t,n]=r.useState(e),l=e||t;return r.useEffect(()=>{null==t&&(o+=1,n(`mui-${o}`))},[t]),l}(e)}},14453:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/config",function(){return n(78138)}])},4845:function(e,t,n){"use strict";var l=n(85893),r=n(89262),o=n(67294),s=n(25934),i=n(99429),a=n(56903),c=n(25137);let d=(0,r.ZP)(a.Z)({justifyContent:"flex-end",width:"100%"});t.Z=e=>{let{actions:t=[],loading:n}=e,r=(0,o.useMemo)(()=>t.map(e=>(0,l.jsx)(i.Z,{...e,children:e.children},(0,s.Z)())),[t]);return n?(0,l.jsx)(c.Z,{mt:0}):(0,l.jsx)(d,{row:!0,spacing:".5em",children:r})}},77583:function(e,t,n){"use strict";var l=n(85893),r=n(14440),o=n(67294),s=n(33544),i=n(56903),a=n(87006),c=n(59278);let d=(0,o.forwardRef)((e,t)=>{let{actionCancelText:n="Cancel",actionProceedText:d,children:u,closeOnProceed:p=!1,contentContainerProps:h,dialogProps:m,disableProceed:x,loading:f,loadingAction:g=!1,onActionAppend:v,onCancelAppend:Z,onProceedAppend:j,openInitially:b,preActionArea:y,proceedButtonProps:P,proceedColour:w="blue",scrollContent:k=!1,scrollBoxProps:C,showActionArea:A=!0,showCancel:S,showClose:M,titleText:T,wide:I,content:O=u}=e,R=(0,o.useRef)(null),F=(0,o.useMemo)(()=>(0,a.Z)(O,c.Ac),[O]),E=(0,o.useMemo)(()=>(0,o.createElement)(k?s.VZ:r.Z,C,F),[F,C,k]),W=(0,o.useMemo)(()=>A&&(0,l.jsx)(s.ux,{cancelProps:{children:n,onClick:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];null==v||v.call(null,...t),null==Z||Z.call(null,...t)}},closeOnProceed:p,loading:g,proceedProps:{background:w,children:d,disabled:x,onClick:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];null==v||v.call(null,...t),null==j||j.call(null,...t)},...P},showCancel:S}),[n,d,p,x,g,v,Z,j,P,w,A,S]);return(0,o.useImperativeHandle)(t,()=>({setOpen:e=>{var t;return null===(t=R.current)||void 0===t?void 0:t.setOpen(e)}}),[]),(0,l.jsx)(s.Js,{dialogProps:m,header:T,loading:f,openInitially:b,ref:R,showClose:M,wide:I,children:(0,l.jsxs)(i.Z,{...h,children:[E,y,W]})})});d.displayName="ConfirmDialog",t.Z=d},33544:function(e,t,n){"use strict";n.d(t,{ux:function(){return p},VZ:function(){return j},Js:function(){return y}});var l=n(85893),r=n(92309),o=n(67294),s=n(23930),i=n(25137);let a=(0,o.createContext)(void 0),c=(0,o.forwardRef)((e,t)=>{let{children:n,dialogProps:c={},loading:d,openInitially:u=!1,wide:p}=e,{open:h,PaperProps:m={},...x}=c,{sx:f,...g}=m,[v,Z]=(0,o.useState)(u),j=(0,o.useMemo)(()=>null!=h?h:v,[v,h]),b=(0,o.useMemo)(()=>d?(0,l.jsx)(i.Z,{mt:0}):n,[n,d]),y=(0,o.useMemo)(()=>({minWidth:p?{xs:"calc(100%)",md:"50em"}:null,overflow:"visible",...f}),[f,p]);return(0,o.useImperativeHandle)(t,()=>({open:j,setOpen:Z}),[j]),(0,l.jsx)(r.Z,{open:j,PaperComponent:s.s_,PaperProps:{...g,sx:y},...x,children:(0,l.jsx)(a.Provider,{value:{open:j,setOpen:Z},children:b})})});c.displayName="Dialog";var d=n(4845);let u=function(e){let{handlers:{base:t,origin:n}}=e;for(var l=arguments.length,r=Array(l>1?l-1:0),o=1;o<l;o++)r[o-1]=arguments[o];null==t||t.call(null,...r),null==n||n.call(null,...r)};var p=e=>{let{cancelProps:t,closeOnProceed:n,loading:r=!1,onCancel:s=u,onProceed:i=u,proceedColour:c,proceedProps:p,showCancel:h=!0,cancelChildren:m=null==t?void 0:t.children,proceedChildren:x=null==p?void 0:p.children}=e,f=(0,o.useContext)(a),g=(0,o.useCallback)(function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];return s({handlers:{base:()=>{null==f||f.setOpen(!1)},origin:null==t?void 0:t.onClick}},...n)},[null==t?void 0:t.onClick,f,s]),v=(0,o.useCallback)(function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return i({handlers:{base:()=>{n&&(null==f||f.setOpen(!1))},origin:null==p?void 0:p.onClick}},...t)},[n,f,i,null==p?void 0:p.onClick]);return(0,o.useMemo)(()=>{let e=[{background:c,...p,children:x,onClick:v}];return h&&e.unshift({...t,children:m,onClick:g}),(0,l.jsx)(d.Z,{actions:e,loading:r})},[m,g,t,r,x,c,v,p,h])},h=n(65895),m=n(87006),x=n(59278),f=e=>{let{children:t,showClose:n}=e,r=(0,o.useContext)(a),i=(0,o.useMemo)(()=>(0,m.Z)(t,x.z),[t]),c=(0,o.useMemo)(()=>n&&(0,l.jsx)(h.Z,{mapPreset:"close",onClick:()=>{null==r||r.setOpen(!1)},size:"small"}),[r,n]);return(0,l.jsxs)(s.V9,{children:[i,c]})},g=n(89262),v=n(14440);let Z=(0,g.ZP)(v.Z)({overflowY:"scroll",paddingRight:".4em"});var j=(0,g.ZP)(Z)({maxHeight:"60vh"});let b=(0,o.forwardRef)((e,t)=>{let{children:n,dialogProps:r,header:o,loading:s,openInitially:i,showClose:a,wide:d}=e;return(0,l.jsxs)(c,{dialogProps:r,loading:s,openInitially:i,ref:t,wide:d,children:[(0,l.jsx)(f,{showClose:a,children:o}),n]})});b.displayName="DialogWithHeader";var y=b},11399:function(e,t,n){"use strict";var l=n(85893),r=n(67294),o=n(77583);let s=(0,r.forwardRef)((e,t)=>{let{children:n,contentContainerProps:s,dialogProps:i,onSubmitAppend:a,proceedButtonProps:c,scrollBoxProps:d,scrollContent:u,...p}=e,h=(0,r.useMemo)(()=>({...s,component:"form",onSubmit:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[l]=t;l.preventDefault(),null==a||a.call(null,...t)}}),[s,a]),m=(0,r.useMemo)(()=>({...d,sx:u?{overflowX:"hidden",paddingTop:".6em",...null==d?void 0:d.sx}:null==d?void 0:d.sx}),[d,u]);return(0,l.jsx)(o.Z,{dialogProps:i,contentContainerProps:h,proceedButtonProps:{...c,type:"submit"},scrollContent:u,scrollBoxProps:m,wide:!0,...p,ref:t,children:n})});s.displayName="FormDialog",t.Z=s},44089:function(e,t,n){"use strict";var l=n(85893),r=n(14440),o=n(54965),s=n(37969),i=n(38189),a=n(66173),c=n(56903),d=n(59278);let u=e=>{let{entry:t}=e;return(0,l.jsx)(d.$_,{whiteSpace:"nowrap",children:String(t)})},p=e=>{let{entry:t,key:n}=e;return i.JW.test(n)?(0,l.jsx)(d.PJ,{monospaced:!0,children:String(t)}):u(e)},h=e=>{let{entry:t,hasPassword:n}=e;return["",null,void 0].some(e=>t===e)?(0,l.jsx)(d.Ac,{children:"none"}):n?p(e):u(e)},m=e=>{let{depth:t,entry:n,getLabel:o,hasPassword:s,key:i,nest:u,renderValue:p}=e;return(0,l.jsxs)(c.Z,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,l.jsx)(d.Ac,{children:o({cap:a.Z,depth:t,entry:n,hasPassword:s,key:i})}),(0,l.jsx)(r.Z,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!u&&p(h,{depth:t,entry:n,hasPassword:s,key:i})})]})},x=e=>{let{key:t}=e;return!/confirm|uuid/i.test(t)},f=e=>{let{depth:t=0,entries:n,getEntryLabel:r,getListProps:i,getListItemProps:a,hasPassword:c,listKey:d,maxDepth:u,renderEntry:p,renderEntryValue:h,skip:m}=e,g=[];Object.entries(n).forEach(e=>{let[n,s]=e,i=null!==s&&"object"==typeof s,d=i?null:s,v={depth:t,entry:d,hasPassword:c,key:n};m(x,v)&&g.push((0,l.jsx)(o.ZP,{sx:{paddingLeft:"".concat(t,"em")},...null==a?void 0:a.call(null,v),children:p({depth:t,entry:d,getLabel:r,hasPassword:c,key:n,nest:i,renderValue:h})},"form-summary-entry-".concat(n))),i&&t<u&&g.push(f({depth:t+1,entries:s,getEntryLabel:r,hasPassword:c,listKey:n,maxDepth:u,renderEntry:p,renderEntryValue:h,skip:m}))});let v="form-summary-list-".concat(null!=d?d:"root");return(0,l.jsx)(s.Z,{dense:!0,disablePadding:!0,...null==i?void 0:i.call(null,{depth:t,entries:n,key:d}),children:g},v)};t.Z=e=>{let{entries:t,getEntryLabel:n=e=>{let{cap:t,key:n}=e;return t(n)},getListProps:l,getListItemProps:r,hasPassword:o=!1,maxDepth:s=3,renderEntry:i=m,renderEntryValue:a=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return e(...n)},skip:c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),l=1;l<t;l++)n[l-1]=arguments[l];return e(...n)}}=e;return f({entries:t,getEntryLabel:n,getListProps:l,getListItemProps:r,hasPassword:o,maxDepth:s,renderEntry:i,renderEntryValue:a,skip:c})}},34635:function(e,t,n){"use strict";var l=n(85893),r=n(99576);t.Z=function(){let{sx:e,text:t,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.jsx)(l.Fragment,{children:t&&(0,l.jsx)(r.Z,{...n,sx:{marginTop:".4em",...e},text:t})})}},28293:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var l=n(23279),r=n.n(l),o=n(67294),s=n(14879),i=function(){let{postSet:e,preSet:t,set:n,setType:l="string",valueKey:r="value"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o=>{let{target:{[r]:i}}=o,a=s.Z[l](i);null==t||t.call(null,o),null==n||n.call(null,a),null==e||e.call(null,o)}},a=n(52675);let c="input",d={boolean:!1,number:0,string:""},u={createInputOnChangeHandlerOptions:{},debounceWait:500,required:!1,valueType:"string"},p=(0,o.forwardRef)((e,t)=>{let{debounceWait:n=u.debounceWait,input:l,inputTestBatch:s,onBlurAppend:p,onFirstRender:h,onFocusAppend:m,onUnmount:x,required:f=u.required,valueKey:g,valueType:v=u.valueType,createInputOnChangeHandlerOptions:{postSet:Z,valueKey:j=g,...b}=u.createInputOnChangeHandlerOptions}=e,{props:y}=l,P=(0,o.useMemo)(()=>null!=j?j:"checked"in y?"checked":"value",[y,j]),{onBlur:w,onChange:k,onFocus:C,[P]:A=d[v],...S}=y,[M,T]=(0,o.useState)(A),[I,O]=(0,o.useState)(!1),[R,F]=(0,o.useState)(!1),E=(0,o.useCallback)(e=>{T(e)},[]),W=(0,o.useMemo)(()=>{let e;return s&&(s.isRequired=f,e=(0,a.LT)({[c]:s})),e},[s,f]),D=(0,o.useCallback)(e=>{var t;let n=null!==(t=null==W?void 0:W.call(null,{inputs:{[c]:{value:e}},isIgnoreOnCallbacks:!0}))&&void 0!==t&&t;null==h||h.call(null,{isValid:n}),F(n)},[h,W]),B=(0,o.useMemo)(()=>r()(D,n),[n,D]),N=(0,o.useMemo)(()=>null!=w?w:W&&function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let{0:{target:{value:l}}}=t;F(W({inputs:{[c]:{value:l}}})),null==p||p.call(null,...t)},[w,p,W]),U=(0,o.useMemo)(()=>i({postSet:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];O(!0),null==k||k.call(null,...t),null==Z||Z.call(null,...t)},set:e=>{E(e),B(e)},setType:v,valueKey:P,...b}),[B,k,Z,b,E,P,v]),L=(0,o.useMemo)(()=>null!=C?C:s&&function(){for(var e,t,n=arguments.length,l=Array(n),r=0;r<n;r++)l[r]=arguments[r];null===(t=s.defaults)||void 0===t||null===(e=t.onSuccess)||void 0===e||e.call(null,{append:{}}),null==m||m.call(null,...l)},[C,s,m]);return(0,o.useEffect)(()=>(D(M),x),[]),(0,o.useEffect)(()=>{!I&&M!==A&&A&&(D(A),T(A))},[D,A,M,I]),(0,o.useImperativeHandle)(t,()=>({getIsChangedByUser:()=>I,getValue:()=>M,isValid:()=>R,setValue:E}),[M,I,R,E]),(0,o.cloneElement)(l,{...S,onBlur:N,onChange:U,onFocus:L,required:f,[P]:M})});p.defaultProps=u,p.displayName="InputWithRef";var h=p},86549:function(e,t,n){"use strict";var l=n(85893),r=n(11632),o=n(77574),s=n(77831),i=n(56903);t.Z=e=>{let{children:t,sx:n,...a}=e;return(0,l.jsx)(o.Z,{underline:"hover",variant:"subtitle1",...a,sx:{color:s.lD,textDecorationColor:s.s7,...n},children:(0,l.jsxs)(i.Z,{row:!0,children:[t,(0,l.jsx)(r.Z,{sx:{marginLeft:".3em"}})]})})}},81208:function(e,t,n){"use strict";var l=n(85893),r=n(67294),o=n(99576);let s={count:0,defaultMessageType:"info",messages:void 0,onSet:void 0,usePlaceholder:!0},i=(0,r.forwardRef)((e,t)=>{let{count:n=s.count,defaultMessageType:i=s.defaultMessageType,messages:a,onSet:c,usePlaceholder:d=s.usePlaceholder}=e,[u,p]=(0,r.useState)({}),h=(0,r.useMemo)(()=>({...a,...u}),[a,u]),m=(0,r.useCallback)(e=>void 0!==h[e],[h]),x=(0,r.useCallback)((e,t)=>{let n=0;p(l=>{let{[e]:r,...o}=l;return t&&(o[e]=t),n=Object.keys(o).length,o}),null==c||c.call(null,n)},[c]),f=(0,r.useCallback)((e,t)=>{let n=0,l=t?(e,l)=>{e[l]=t,n+=1}:void 0;p(t=>{let r={};return Object.keys(t).forEach(o=>{e.test(o)?null==l||l.call(null,r,o):(r[o]=t[o],n+=1)}),r}),null==c||c.call(null,n)},[c]),g=(0,r.useMemo)(()=>{let e=Object.entries(h),t=n>0,r=t?n:e.length,s=[];if(e.every(e=>{let[t,n]=e,{children:a,type:c=i}=n;return s.push((0,l.jsx)(o.Z,{type:c,children:a},"message-".concat(t))),s.length<r}),d&&t&&0===s.length){let e=n-s.length;for(let t=0;t<e;t+=1)s.push((0,l.jsx)(o.Z,{sx:{visibility:"hidden"},text:"Placeholder"},"message-placeholder-".concat(t)))}return s},[n,i,d,h]);return(0,r.useImperativeHandle)(t,()=>({exists:m,setMessage:x,setMessageRe:f}),[m,x,f]),(0,l.jsx)(l.Fragment,{children:g})});i.defaultProps=s,i.displayName="MessageGroup",t.Z=i},15627:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var l=n(85893),r=n(19607),o=n(58811),s=n(80594),i=n(28721),a=n(61481),c=n(67294),d=n(77831),u=n(37842);let p=e=>{let{disableAutofill:t=!1,endAdornment:n,label:p,onPasswordVisibilityAppend:h,sx:m,inputProps:{type:x,...f}={},type:g=x,...v}=e,[Z,j]=(0,c.useState)(g),b=(0,c.useMemo)(()=>{let e=g===u.Z.password,t=Z===u.Z.password;return(0,l.jsx)(l.Fragment,{children:e&&(0,l.jsx)(s.Z,{onClick:function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];let r=t?u.Z.text:u.Z.password;j(r),null==h||h.call(null,r,...n)},children:t?(0,l.jsx)(r.Z,{}):(0,l.jsx)(o.Z,{})})})},[g,h,Z]),y=(0,c.useMemo)(()=>({color:d.s7,["& .".concat(i.Z.notchedOutline)]:{borderColor:d.UZ},["& .".concat(i.Z.input)]:{color:d.lD},"&:hover":{["& .".concat(i.Z.notchedOutline)]:{borderColor:d.s7}},["&.".concat(i.Z.focused)]:{color:d.lD,["& .".concat(i.Z.notchedOutline)]:{borderColor:d.s7,"& legend":{paddingRight:p?"1.2em":0}}},...m}),[p,m]),P=(0,c.useMemo)(()=>{let e;if("object"==typeof n){let{props:{children:t=[],...r}}=n;e=(0,c.cloneElement)(n,{...r,children:(0,l.jsxs)(l.Fragment,{children:[b,t]})})}return e},[b,n]),w=(0,c.useMemo)(()=>t?{onFocus:function(){for(var e,t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];let[r]=n;r.target.readOnly=!1,null==v||null===(e=v.onFocus)||void 0===e||e.call(null,...n)},readOnly:!0}:void 0,[t,null==v?void 0:v.onFocus]);return(0,l.jsx)(a.Z,{endAdornment:P,label:p,inputProps:{type:Z,...f},...v,...w,sx:y})};p.defaultProps={disableAutofill:!1,onPasswordVisibilityAppend:void 0};var h=p},79237:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var l=n(85893),r=n(21182),o=n(73315),s=n(69375),i=n(72341),a=n(14440),c=n(77831),d=e=>{let{children:t,isNotifyRequired:n,sx:d,variant:u="outlined",...p}=e,h={color:"".concat(c.s7,"9F"),["& .".concat(o.Z.root)]:{color:c.s7},["&.".concat(s.Z.focused)]:{backgroundColor:c.s7,borderRadius:c.n_,color:c.E5,padding:".1em .6em"},["&.".concat(s.Z.shrink," .").concat(o.Z.root)]:{display:"none"},...d};return(0,l.jsx)(i.Z,{variant:u,...p,sx:h,children:(0,l.jsxs)(a.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"row"},children:[n&&(0,l.jsx)(r.Z,{sx:{marginLeft:"-.2rem",marginRight:".4rem"}}),t]})})}},91029:function(e,t,n){"use strict";var l=n(85893),r=n(77970),o=n(51714),s=n(99657),i=n(80543),a=n(80594),c=n(67294),d=n(77831),u=n(34635),p=n(15627),h=n(79237);let m={baseInputProps:void 0,formControlProps:{},helpMessageBoxProps:{},id:"",inputProps:{},inputLabelProps:{},messageBoxProps:{},onHelp:void 0,onHelpAppend:void 0,required:!1,type:void 0,value:""},x=e=>{let{baseInputProps:t,disableAutofill:n,formControlProps:x=m.formControlProps,helpMessageBoxProps:f=m.helpMessageBoxProps,id:g=m.id,inputProps:{endAdornment:v,...Z}=m.inputProps,inputLabelProps:j=m.inputLabelProps,label:b,messageBoxProps:y=m.messageBoxProps,name:P,onBlur:w,onChange:k,onFocus:C,onHelp:A,onHelpAppend:S,required:M=m.required,type:T,value:I=m.value}=e,{text:O=""}=f,[R,F]=(0,c.useState)(!1),E=(0,c.useMemo)(()=>R&&(0,l.jsx)(u.Z,{onClose:()=>{F(!1)},...f}),[f,R]),W=(0,c.useMemo)(()=>void 0!==A||O.length>0,[O,A]),D=(0,c.useCallback)(()=>{let e;return A?e=A:O.length>0&&(e=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];F(e=>!e),null==S||S.call(null,...t)}),e},[O,A,S]),B=(0,c.useMemo)(D,[D]);return(0,l.jsxs)(o.Z,{fullWidth:!0,...x,children:[(0,l.jsx)(h.Z,{htmlFor:g,isNotifyRequired:M,...j,children:b}),(0,l.jsx)(p.Z,{disableAutofill:n,endAdornment:(0,l.jsxs)(s.Z,{position:"end",sx:{display:"flex",flexDirection:"row",["& > .".concat(i.Z.root)]:{color:d.s7,padding:".2em"},["& > :not(:first-child, .".concat(i.Z.root,")")]:{marginLeft:".3em"}},children:[v,W&&(0,l.jsx)(a.Z,{onClick:B,tabIndex:-1,children:(0,l.jsx)(r.Z,{})})]}),fullWidth:x.fullWidth,id:g,inputProps:t,label:b,name:P,onBlur:w,onChange:k,onFocus:C,type:T,value:I,...Z}),E,(0,l.jsx)(u.Z,{...y})]})};x.defaultProps=m,t.Z=x},85291:function(e,t,n){"use strict";var l=n(85893),r=n(67294),o=n(8534),s=n(44089);t.Z=e=>{let{list:t={}}=e,[n,i]=(0,r.useState)({}),a=(0,r.useMemo)(()=>Object.keys(t),[t]),c=(0,r.useMemo)(()=>Object.keys(n),[n]),d=(0,r.useMemo)(()=>c.length===a.length,[c.length,a.length]),u=(0,r.useMemo)(()=>c.length>0,[c.length]),p=(0,r.useMemo)(()=>a.length>1,[a.length]),h=(0,r.useCallback)(e=>{let{confirmDialogProps:t={},formSummaryProps:r={},getConfirmDialogTitle:o,onProceedAppend:i,renderEntry:a}=e;return{actionProceedText:"Delete",content:(0,l.jsx)(s.Z,{entries:n,maxDepth:0,renderEntry:a,...r}),onProceedAppend:i,proceedColour:"red",titleText:o(c.length),...t}},[n,c.length]),m=(0,r.useCallback)(e=>!!n[e],[n]);return{buildDeleteDialogProps:h,checklist:n,checks:c,getCheck:m,hasAllChecks:d,hasChecks:u,multipleItems:p,resetChecks:(0,r.useCallback)(()=>i({}),[]),setAllChecks:(0,r.useCallback)(e=>i(a.reduce((t,n)=>(e&&(t[n]=e),t),{})),[a]),setCheck:(0,r.useCallback)((e,t)=>i((0,o.ZP)(e,t||void 0)),[])}}},62848:function(e,t,n){"use strict";var l=n(67294);t.Z=function(){let{actionProceedText:e="",content:t="",titleText:n="",...r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,l.useState)({actionProceedText:e,content:t,titleText:n,...r})}},56907:function(e,t,n){"use strict";var l=n(67294),r=n(98484),o=n(8534),s=n(97607);t.Z=(e,t)=>{var n;let[i,a]=(0,l.useState)(!1),[c,d]=(0,l.useState)({}),u=(0,l.useCallback)(e=>{var n,l;return null==t?void 0:null===(l=t.current)||void 0===l?void 0:null===(n=l.setMessage)||void 0===n?void 0:n.call(null,"api",e)},[t]),p=(0,l.useCallback)((e,n)=>{var l,r;null==t||null===(r=t.current)||void 0===r||null===(l=r.setMessage)||void 0===l||l.call(null,String(e),n)},[t]),h=(0,l.useCallback)((e,n)=>{var l,r;null==t||null===(r=t.current)||void 0===r||null===(l=r.setMessageRe)||void 0===l||l.call(null,e,n)},[t]),m=(0,l.useCallback)((e,t)=>{d((0,o.ZP)(e,t))},[]),x=(0,l.useCallback)((e,t)=>{d((0,o.Um)(e,t))},[]),f=(0,l.useCallback)(e=>{p(e),m(e)},[p,m]),g=(0,l.useCallback)(e=>{h(e),x(e)},[h,x]),v=(0,l.useCallback)(e=>t=>{m(e,t)},[m]),Z=(0,l.useCallback)(e=>t=>{let{isValid:n}=t;m(e,n)},[m]),j=(0,l.useCallback)(e=>()=>{f(e)},[f]),b=(0,l.useCallback)(e=>{let{body:l,getErrorMsg:o,msgKey:i="api",method:c,onError:d,onSuccess:u,setMsg:p=null==t?void 0:null===(n=t.current)||void 0===n?void 0:n.setMessage,successMsg:h,url:m}=e;a(!0),r.Z.request({data:l,method:c,url:m}).then(()=>{null==p||p.call(null,i,{children:h,type:"info"}),null==u||u.call(null)}).catch(e=>{let t=(0,s.Z)(e);t.children=o(t.children),null==p||p.call(null,i,t),null==d||d.call(null)}).finally(()=>{a(!1)})},[t,a]),y=(0,l.useMemo)(()=>Object.values(c).some(e=>!e),[c]);return{buildFinishInputTestBatchFunction:v,buildInputFirstRenderFunction:Z,buildInputUnmountFunction:j,formValidity:c,isFormInvalid:y,isFormSubmitting:i,setApiMessage:u,setFormValidity:d,setMessage:p,setMessageRe:h,setValidity:m,setValidityRe:x,submitForm:b,unsetKey:f,unsetKeyRe:g}}},8534:function(e,t,n){"use strict";n.d(t,{Um:function(){return r}});let l=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[,l,r,o]=t;void 0!==o&&(l[r]=o)},r=function(e,t){let{set:n=l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l=>{let r={};return Object.keys(l).forEach(o=>{e.test(o)?n(l,r,o,t):r[o]=l[o]}),r}};t.ZP=function(e,t){let{guard:n=()=>!0,set:r=l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return l=>{let{[e]:o,...s}=l,i={...s};return n(l,e,t)&&r(l,i,e,t),i}}},37842:function(e,t){"use strict";t.Z={checkbox:"checkbox",number:"number",password:"password",text:"text"}},14879:function(e,t){"use strict";t.Z={boolean:e=>!!e,number:e=>parseInt(String(e),10)||0,string:e=>String(e)}},26339:function(e,t){"use strict";t.default={bcn:"Back-Channel Network",ifn:"Internet-Facing Network",mn:"Migration Network",sn:"Storage Network"}},38189:function(e,t,n){"use strict";n.d(t,{FZ:function(){return c},JW:function(){return h},OU:function(){return p},ah:function(){return u},tf:function(){return d}});let l="[a-z0-9]",r="[a-z0-9-]",o="[0-9a-f]",s="(?:25[0-5]|(?:2[0-4]|1[0-9]|[1-9]|)[0-9])",i="(?:".concat(s,"[.]){3}").concat(s),a="".concat(o,"{8}-(?:").concat(o,"{4}-){3}").concat(o,"{12}"),c=new RegExp("^(?:".concat(l,"(?:").concat(r,"{0,61}").concat(l,")?[.])+").concat(l).concat(r,"{0,61}").concat(l,"$")),d=new RegExp("^".concat(i,"$")),u=new RegExp("^(?:".concat(i,"\\s*,\\s*)*").concat(i,"$")),p=/^[^'"/\\><}{]*$/;RegExp("^".concat(a,"$"),"i");let h=/(?=.*passw)(?!.*script).*/i},66173:function(e,t,n){"use strict";var l=n(48403),r=n.n(l);t.Z=e=>{let t=e.replace(/([a-z\d])([A-Z])/g,"$1 $2");return r()(t)}},87006:function(e,t,n){"use strict";var l=n(67294);t.Z=(e,t)=>"string"==typeof e?(0,l.createElement)(t,null,e):e},92309:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var l=n(63366),r=n(87462),o=n(67294),s=n(92827),i=n(94780),a=n(92996),c=n(75228),d=n(99160),u=n(15142),p=n(62191),h=n(59145),m=n(89262),x=n(1588),f=n(34867);function g(e){return(0,f.Z)("MuiDialog",e)}let v=(0,x.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Z=o.createContext({});var j=n(16268),b=n(49360),y=n(85893);let P=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],w=(0,m.ZP)(j.Z,{name:"MuiDialog",slot:"Backdrop",overrides:(e,t)=>t.backdrop})({zIndex:-1}),k=e=>{let{classes:t,scroll:n,maxWidth:l,fullWidth:r,fullScreen:o}=e,s={root:["root"],container:["container","scroll".concat((0,c.Z)(n))],paper:["paper","paperScroll".concat((0,c.Z)(n)),"paperWidth".concat((0,c.Z)(String(l))),r&&"paperFullWidth",o&&"paperFullScreen"]};return(0,i.Z)(s,g,t)},C=(0,m.ZP)(d.Z,{name:"MuiDialog",slot:"Root",overridesResolver:(e,t)=>t.root})({"@media print":{position:"absolute !important"}}),A=(0,m.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.container,t["scroll".concat((0,c.Z)(n.scroll))]]}})(e=>{let{ownerState:t}=e;return(0,r.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})}),S=(0,m.ZP)(p.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.paper,t["scrollPaper".concat((0,c.Z)(n.scroll))],t["paperWidth".concat((0,c.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})(e=>{let{theme:t,ownerState:n}=e;return(0,r.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&{maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)"),["&.".concat(v.paperScrollBody)]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64)]:{maxWidth:"calc(100% - 64px)"}}},n.maxWidth&&"xs"!==n.maxWidth&&{maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit),["&.".concat(v.paperScrollBody)]:{[t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64)]:{maxWidth:"calc(100% - 64px)"}}},n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,["&.".concat(v.paperScrollBody)]:{margin:0,maxWidth:"100%"}})});var M=o.forwardRef(function(e,t){let n=(0,h.Z)({props:e,name:"MuiDialog"}),i=(0,b.Z)(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":d,"aria-labelledby":m,BackdropComponent:x,BackdropProps:f,children:g,className:v,disableEscapeKeyDown:j=!1,fullScreen:M=!1,fullWidth:T=!1,maxWidth:I="sm",onBackdropClick:O,onClose:R,open:F,PaperComponent:E=p.Z,PaperProps:W={},scroll:D="paper",TransitionComponent:B=u.Z,transitionDuration:N=c,TransitionProps:U}=n,L=(0,l.Z)(n,P),_=(0,r.Z)({},n,{disableEscapeKeyDown:j,fullScreen:M,fullWidth:T,maxWidth:I,scroll:D}),H=k(_),V=o.useRef(),q=(0,a.Z)(m),$=o.useMemo(()=>({titleId:q}),[q]);return(0,y.jsx)(C,(0,r.Z)({className:(0,s.Z)(H.root,v),closeAfterTransition:!0,components:{Backdrop:w},componentsProps:{backdrop:(0,r.Z)({transitionDuration:N,as:x},f)},disableEscapeKeyDown:j,onClose:R,open:F,ref:t,onClick:e=>{V.current&&(V.current=null,O&&O(e),R&&R(e,"backdropClick"))},ownerState:_},L,{children:(0,y.jsx)(B,(0,r.Z)({appear:!0,in:F,timeout:N,role:"presentation"},U,{children:(0,y.jsx)(A,{className:(0,s.Z)(H.container),onMouseDown:e=>{V.current=e.target===e.currentTarget},ownerState:_,children:(0,y.jsx)(S,(0,r.Z)({as:E,elevation:24,role:"dialog","aria-describedby":d,"aria-labelledby":q},W,{className:(0,s.Z)(H.paper,W.className),ownerState:_,children:(0,y.jsx)(Z.Provider,{value:$,children:g})}))})}))}))})},78138:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return ep}});var l=n(85893),r=n(99514),o=n(9008),s=n.n(o),i=n(67294),a=n(92230),c=n(77583),d=n(39937),u=n(48430),p=n(26339),h=n(37842),m=n(98484);let x=function(e,t,n){let l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e,r=n=>{var l;null===(l=t.current.setMessage)||void 0===l||l.call(null,e,n)};return n&&(n[l]=r),r};var f=(e,t)=>{let n={};return e instanceof Array?e.reduce((e,n)=>(x(n,t,e),e),n):Object.entries(e).reduce((e,n)=>{let[l,r]=n;return x(r,t,e,l),e},n)},g=n(8534),v=n(41553),Z=n(45486),j=n(59278),b=e=>{let{checkboxProps:t,checked:n,formControlLabelProps:r,label:o,onChange:s}=e,a=(0,i.useMemo)(()=>"string"==typeof o?(0,l.jsx)(j.Ac,{children:o}):o,[o]);return(0,l.jsx)(v.Z,{...r,control:(0,l.jsx)(Z.Z,{...t,checked:n,onChange:s}),label:a})},y=n(56903),P=n(82777),w=n(97607),k=n(65895),C=n(28293),A=n(81208),S=n(91029),M=n(52675);let T={dbPort:"dbPort",ipAddress:"ipAddress",password:"password",sshPort:"sshPort",user:"user"},I="IP address",O="Password",R=(0,i.forwardRef)((e,t)=>{let{formGridColumns:n=2}=e,r=(0,i.useRef)({}),o=(0,i.useRef)({}),s=(0,i.useRef)({}),a=(0,i.useRef)({}),d=(0,i.useRef)({}),u=(0,i.useRef)({}),[p,x]=(0,i.useState)({}),[v,Z]=(0,i.useState)(!0),[R,F]=(0,i.useState)(!1),E=(0,i.useCallback)(e=>t=>{let{isValid:n}=t;x((0,g.ZP)(e,n))},[]),W=(0,i.useCallback)(e=>t=>{x((0,g.ZP)(e,t))},[]),D=(0,i.useCallback)(e=>{var t;null===(t=u.current.setMessage)||void 0===t||t.call(null,"api",e)},[]),B=(0,i.useMemo)(()=>Object.values(p).some(e=>!e),[p]),N=(0,i.useMemo)(()=>f(T,u),[]);return(0,l.jsx)(c.Z,{actionProceedText:"Add",content:(0,l.jsx)(P.Z,{columns:{xs:1,sm:n},layout:{"add-peer-ip-address":{children:(0,l.jsx)(y.Z,{row:!0,spacing:".3em",children:(0,l.jsx)(C.Z,{input:(0,l.jsx)(S.Z,{id:"add-peer-ip-address-input",inputProps:{readOnly:!0,onFocus:e=>{e.target.readOnly=!1}},label:I}),inputTestBatch:(0,M._)(I,()=>{N.ipAddress()},{onFinishBatch:W(T.ipAddress)},e=>{N.ipAddress({children:e})}),onFirstRender:E(T.ipAddress),ref:o,required:!0})})},"add-peer-password":{children:(0,l.jsx)(C.Z,{input:(0,l.jsx)(S.Z,{id:"add-peer-password-input",label:O,type:h.Z.password}),inputTestBatch:(0,M.Gn)(O,()=>{N.password()},{onFinishBatch:W(T.password)},e=>{N.password({children:e})}),onFirstRender:E(T.password),ref:s,required:!0})},"add-peer-is-ping":{children:(0,l.jsx)(b,{checked:v,label:"Ping",onChange:(e,t)=>{Z(t)}}),sx:{display:"flex"}},"add-peer-message-group":{children:(0,l.jsx)(A.Z,{count:1,defaultMessageType:"warning",ref:u}),sm:n}},spacing:"1em"}),dialogProps:{PaperProps:{sx:{minWidth:"16em"}}},loadingAction:R,onActionAppend:()=>{D()},onProceedAppend:()=>{var e,t,n,l,i;F(!0),m.Z.post("/host/connection",{ipAddress:null===(e=o.current.getValue)||void 0===e?void 0:e.call(null),isPing:v,password:null===(t=s.current.getValue)||void 0===t?void 0:t.call(null),port:null===(n=r.current.getValue)||void 0===n?void 0:n.call(null),sshPort:null===(l=a.current.getValue)||void 0===l?void 0:l.call(null),user:null===(i=d.current.getValue)||void 0===i?void 0:i.call(null)}).then(()=>{D({children:"Successfully initiated the peer addition. You can continue to edit the field(s) to add another peer.",type:"info"})}).catch(e=>{let t=(0,w.Z)(e);t.children="Failed to add the given peer. ".concat(t.children),D(t)}).finally(()=>{F(!1)})},proceedButtonProps:{disabled:B},ref:t,titleText:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j.z,{children:"Add a peer"}),(0,l.jsx)(k.Z,{mapPreset:"close",onClick:()=>{if(t&&"current"in t){var e;null===(e=t.current.setOpen)||void 0===e||e.call(null,!1)}},variant:"redcontained"})]})})});R.displayName="AddPeerDialog";var F=n(83916),E=n(99576),W=n(23930),D=n(12641),B=n(74443),N=n(77831);let U={small:j.KI,medium:j.Ac},L={size:"small",stateMap:new Map([[!1,(0,l.jsx)(D.Z,{sx:{color:N.Wd}},"state-false")],[!0,(0,l.jsx)(B.Z,{sx:{color:N.Ej}},"state-true")]])},_=e=>{let{label:t,size:n=L.size,state:r,stateMap:o=L.stateMap}=e,s=o.get(r);return(0,l.jsxs)(y.Z,{row:!0,spacing:".3em",children:[s&&(0,i.cloneElement)(s,{fontSize:n}),(0,i.createElement)(U[n],{},t)]})};_.defaultProps=L;var H=e=>{let{refreshInterval:t=6e4}=e,n=(0,i.useRef)({}),o=(0,i.useRef)({}),[s,d]=(0,i.useState)(void 0),[h,x]=(0,i.useState)({actionProceedText:"",content:"",titleText:""}),[f,g]=(0,i.useState)({}),[v,Z]=(0,i.useState)(!1),[b,P]=(0,i.useState)({}),k=(0,i.useMemo)(()=>s&&(0,l.jsx)(r.ZP,{item:!0,sm:2,xs:1,children:(0,l.jsx)(E.Z,{...s})}),[s]),{isLoading:C}=(0,u.Z)("".concat(a.Z,"/host/connection"),{refreshInterval:t,onError:e=>{d({children:"Failed to get connection data. Error: ".concat(e),type:"error"})},onSuccess:e=>{let{local:{inbound:{ipAddress:t,port:n,user:l},peer:r}}=e;g(e=>Object.entries(t).reduce((t,r)=>{let[o,{networkLinkNumber:s,networkNumber:i,networkType:a}]=r;return t[o]={...e[o],dbPort:n,dbUser:l,ipAddress:o,networkLinkNumber:s,networkNumber:i,networkType:a},t},{})),P(e=>Object.entries(r).reduce((t,n)=>{let[l,{hostUUID:r,isPing:o,port:s,user:i}]=n,a="".concat(i,"@").concat(l,":").concat(s);return t[a]={...e[a],dbPort:s,dbUser:i,hostUUID:r,ipAddress:l,isPingTest:o},t},{}))}});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(W.TZ,{header:"Configure striker peers",loading:C,children:(0,l.jsxs)(r.ZP,{columns:{xs:1,sm:2},container:!0,spacing:"1em",children:[(0,l.jsx)(r.ZP,{item:!0,xs:1,children:(0,l.jsx)(F.Z,{header:"Inbound connections",listEmpty:(0,l.jsx)(j.Ac,{align:"center",children:"No inbound connections found."}),listItemKeyPrefix:"config-peers-inbound-connection",listItems:f,renderListItem:(e,t)=>{let{dbPort:n,dbUser:r,networkNumber:o,networkType:s}=t;return(0,l.jsxs)(y.Z,{spacing:0,sx:{width:"100%"},children:[(0,l.jsx)(j.$_,{children:"".concat(r,"@").concat(e,":").concat(n)}),(0,l.jsx)(j.KI,{children:"".concat(p.default[s]," ").concat(o)})]})}})}),(0,l.jsx)(r.ZP,{item:!0,xs:1,children:(0,l.jsx)(F.Z,{header:"Peer connections",allowEdit:!0,edit:v,listEmpty:(0,l.jsx)(j.Ac,{align:"center",children:"No peer connections found."}),listItemKeyPrefix:"config-peers-peer-connection",listItems:b,onAdd:()=>{var e;null===(e=n.current.setOpen)||void 0===e||e.call(null,!0)},onDelete:()=>{let e=Object.entries(b).reduce((e,t)=>{let[,{hostUUID:n,isChecked:l}]=t;return l&&e.local.push(n),e},{local:[]}),t=e.local.length;if(t>0){var n;x({actionProceedText:"Delete",content:"The peer relationship between this striker and the selected ".concat(t," host(s) will terminate. The removed peer(s) can be re-added later."),onProceedAppend:()=>{m.Z.delete("/host/connection",{data:e}).catch(e=>{let t=(0,w.Z)(e);t.children="Failed to delete peer connection(s). ".concat(t.children),d(t)})},proceedColour:"red",titleText:"Delete ".concat(t," peer(s) from this striker?")}),null===(n=o.current.setOpen)||void 0===n||n.call(null,!0)}},onEdit:()=>{Z(e=>!e)},onItemCheckboxChange:(e,t,n)=>{b[e].isChecked=n,P(e=>({...e}))},renderListItem:(e,t)=>{let{isPingTest:n=!1}=t;return(0,l.jsx)(y.Z,{row:!0,spacing:0,children:(0,l.jsxs)(y.Z,{spacing:0,children:[(0,l.jsx)(j.$_,{children:e}),(0,l.jsx)(_,{label:"Ping",state:n})]})})}})}),k]})}),(0,l.jsx)(R,{ref:n}),(0,l.jsx)(c.Z,{closeOnProceed:!0,...h,ref:o})]})},V=n(29535),q=n(86549),$=n(85291),z=e=>{let{mitmExternalHref:t="https://en.wikipedia.org/wiki/Man-in-the-middle_attack",refreshInterval:n=6e4}=e,r=(0,i.useRef)({}),[o,s]=(0,i.useState)(),[d,p]=(0,i.useState)({}),[h,x]=(0,i.useState)({actionProceedText:"",content:"",titleText:""}),{checks:f,getCheck:g,hasAllChecks:v,hasChecks:Z,setAllChecks:b,setCheck:P}=(0,$.Z)({list:d}),k=(0,i.useMemo)(()=>o&&(0,l.jsx)(E.Z,{...o}),[o]),C=(0,i.useMemo)(()=>Object.keys(d).length>1,[d]),{isLoading:A}=(0,u.Z)("".concat(a.Z,"/ssh-key/conflict"),{onError:e=>{s({children:"Failed to fetch SSH key conflicts. Error: ".concat(e),type:"error"})},onSuccess:e=>{p(t=>Object.values(e).reduce((e,n)=>(Object.values(n).forEach(n=>{let{hostName:l,hostUUID:r,ipAddress:o,stateUUID:s}=n;e[s]={...t[s],hostName:l,hostUUID:r,ipAddress:o}}),e),{}))},refreshInterval:n});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(W.TZ,{header:"Manage changed SSH keys",loading:A,children:[(0,l.jsxs)(y.Z,{spacing:".2em",children:[(0,l.jsx)(j.Ac,{children:"The identity of the following targets have unexpectedly changed."}),(0,l.jsxs)(E.Z,{type:"warning",isAllowClose:!0,children:["If you haven't rebuilt the listed targets, then you could be experiencing a"," ",(0,l.jsx)(q.Z,{href:t,sx:{display:"inline-flex"},target:"_blank",children:'"Man In The Middle"'})," ","attack. Please verify the targets have changed for a known reason before proceeding to remove the broken keys."]}),(0,l.jsx)(F.Z,{header:(0,l.jsxs)(y.Z,{row:!0,spacing:".3em",sx:{width:"100%","& > :not(:last-child)":{display:{xs:"none",sm:"flex"}},"& > :last-child":{display:{xs:"initial",sm:"none"},marginLeft:0}},children:[(0,l.jsxs)(y.Z,{row:!0,spacing:".3em",sx:{flexBasis:"calc(50% + 1em)"},children:[(0,l.jsx)(j.Ac,{children:"Host name"}),(0,l.jsx)(V.Z,{sx:{flexGrow:1}})]}),(0,l.jsxs)(y.Z,{row:!0,spacing:".3em",sx:{flexGrow:1},children:[(0,l.jsx)(j.Ac,{children:"IP address"}),(0,l.jsx)(V.Z,{sx:{flexGrow:1}})]}),(0,l.jsx)(V.Z,{sx:{flexGrow:1}})]}),allowCheckAll:C,allowCheckItem:!0,allowDelete:!0,allowEdit:!1,disableDelete:!Z,edit:!0,getListCheckboxProps:()=>({checked:v}),listEmpty:(0,l.jsx)(j.Ac,{align:"center",children:"No conflicting keys found."}),listItems:d,onAllCheckboxChange:(e,t)=>{b(t)},onDelete:()=>{var e;let t=f.reduce((e,t)=>{if(!g(t))return e;let{hostUUID:n}=d[t];return e[n]||(e[n]=[]),e[n].push(t),e},{});x({actionProceedText:"Delete",content:"Resolve ".concat(f.length," SSH key conflicts. Please make sure the identity change(s) are expected to avoid MITM attacks."),onProceedAppend:()=>{m.Z.delete("/ssh-key/conflict",{data:t}).catch(e=>{let t=(0,w.Z)(e);t.children="Failed to delete selected SSH key conflicts. ".concat(t.children),s(t)})},proceedColour:"red",titleText:"Delete ".concat(f.length," conflicting SSH keys?")}),null===(e=r.current.setOpen)||void 0===e||e.call(null,!0)},onItemCheckboxChange:(e,t,n)=>{P(e,n)},renderListItem:(e,t)=>{let{hostName:n,ipAddress:r}=t;return(0,l.jsxs)(y.Z,{spacing:0,sm:"row",sx:{width:"100%","& > *":{flexBasis:"50%"}},xs:"column",children:[(0,l.jsx)(j.Ac,{children:n}),(0,l.jsx)(j.Ac,{children:r})]})},renderListItemCheckboxState:e=>g(e)})]}),k]}),(0,l.jsx)(c.Z,{closeOnProceed:!0,...h,ref:r})]})};let G="common-user-input-confirm-password",K="common-user-input-name",X="common-user-input-password",J="Username",Y="Password";var Q=e=>{let{formUtils:{buildFinishInputTestBatchFunction:t,buildInputFirstRenderFunction:n,setMessage:r,setValidity:o},previous:{name:s}={},readOnlyUserName:a,requirePassword:c=!1,showPasswordField:d}=e,u=(0,i.useRef)({}),p=(0,i.useRef)({}),[m,x]=(0,i.useState)(c),f=(0,i.useMemo)(()=>d?{"common-user-input-cell-password":{children:(0,l.jsx)(C.Z,{input:(0,l.jsx)(S.Z,{id:X,label:Y,type:h.Z.password}),inputTestBatch:(0,M.Gn)(Y,()=>{r(X)},{onFinishBatch:t(X)},e=>{r(X,{children:e})}),onBlurAppend:e=>{var t;let{target:{value:n}}=e;x(n.length>0),o(G,n===(null===(t=p.current.getValue)||void 0===t?void 0:t.call(null)))},onFirstRender:n(X),ref:u,required:c})},"common-user-input-cell-confirm-password":{children:(0,l.jsx)(C.Z,{input:(0,l.jsx)(S.Z,{id:G,inputProps:{readOnly:!m},label:"Confirm password",type:h.Z.password}),inputTestBatch:{defaults:{onSuccess:()=>{r(G)}},onFinishBatch:t(G),tests:[{test:M.HJ},{onFailure:()=>{r(G,{children:"The passwords do not match."})},test:e=>{var t;let{value:n}=e;return n===(null===(t=u.current.getValue)||void 0===t?void 0:t.call(null))}}]},onFirstRender:n(G),ref:p,required:m})}}:void 0,[t,n,m,c,r,o,d]);return(0,l.jsx)(P.Z,{columns:{xs:1,sm:2,md:3},layout:{"common-user-input-cell-name":{children:(0,l.jsx)(C.Z,{input:(0,l.jsx)(S.Z,{id:K,inputProps:{readOnly:a},label:J,value:s}),inputTestBatch:(0,M.Gn)(J,()=>{r(K)},{onFinishBatch:t(K)},e=>{r(K,{children:e})}),onFirstRender:n(K),required:!0}),md:1,sm:2},...f},spacing:"1em"})},ee=n(11399),et=n(44089),en=n(62848),el=n(56907);let er=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[{target:l}]=t,{elements:r}=l,{value:o}=r.namedItem(K),s=r.namedItem(X),i="";return s&&({value:i}=s),{password:i,userName:o}};var eo=()=>{let e=(0,i.useRef)({}),t=(0,i.useRef)({}),n=(0,i.useRef)({}),r=(0,i.useRef)({}),[o,s]=(0,en.Z)(),[d,p]=(0,i.useState)(!1),[h,m]=(0,i.useState)({children:"No users found."}),[x,f]=(0,i.useState)(),{data:g,isLoading:v}=(0,u.Z)("".concat(a.Z,"/user"),{onError:e=>{m((0,w.Z)(e))}}),Z=(0,el.Z)([G,K,X],r),{isFormInvalid:b,isFormSubmitting:y,submitForm:P}=Z,{buildDeleteDialogProps:k,checks:C,getCheck:S,hasChecks:M,setCheck:T}=(0,$.Z)({list:g}),{userName:I,userUUID:O}=(0,i.useMemo)(()=>null!=x?x:{},[x]),R=(0,i.useMemo)(()=>({actionProceedText:"Add",content:(0,l.jsx)(Q,{formUtils:Z,requirePassword:!0,showPasswordField:!0}),onSubmitAppend:function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];let i=er(...r);s({actionProceedText:"Add",content:(0,l.jsx)(et.Z,{entries:i,hasPassword:!0}),onProceedAppend:()=>{P({body:i,getErrorMsg:e=>(0,l.jsxs)(l.Fragment,{children:["Add user failed. ",e]}),method:"post",successMsg:"Created user ".concat(i.userName,"."),url:"/user"})},titleText:"Add the following new user?"}),null===(e=t.current.setOpen)||void 0===e||e.call(null,!0)},titleText:"Add a web interface user"}),[Z,s,P]),D=(0,i.useMemo)(()=>({actionProceedText:"Edit",content:(0,l.jsx)(Q,{formUtils:Z,previous:{name:I},readOnlyUserName:"admin"===I,showPasswordField:!0}),onSubmitAppend:function(){for(var e,n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];let i=er(...r);s({actionProceedText:"Update",content:(0,l.jsx)(et.Z,{entries:i,hasPassword:!0}),onProceedAppend:()=>{P({body:i,getErrorMsg:e=>(0,l.jsxs)(l.Fragment,{children:["Update user failed. ",e]}),method:"put",successMsg:"Updated user ".concat(I),url:"/user/".concat(O)})},titleText:"Update user ".concat(I," with the following?")}),null===(e=t.current.setOpen)||void 0===e||e.call(null,!0)},titleText:"Edit user ".concat(I)}),[Z,s,P,I,O]),B=(0,i.useMemo)(()=>(0,l.jsx)(A.Z,{count:1,defaultMessageType:"warning",ref:r}),[]),N=(0,i.useMemo)(()=>{var e;return(null==g?void 0:null===(e=g.current)||void 0===e?void 0:e.userName)==="admin"},[g]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(W.TZ,{header:"Manage users",loading:v,children:(0,l.jsx)(F.Z,{allowAddItem:N,allowDelete:N,allowEdit:!0,allowItemButton:d,disableDelete:!M,edit:d,getListItemCheckboxProps:(e,t)=>{let{userName:n}=t;return{disabled:"admin"===n}},header:!0,listEmpty:(0,l.jsx)(E.Z,{...h}),listItems:g,onAdd:()=>{var t;null===(t=e.current.setOpen)||void 0===t||t.call(null,!0)},onDelete:()=>{var e;s(k({confirmDialogProps:{onProceedAppend:()=>{P({body:{uuids:C},getErrorMsg:e=>(0,l.jsxs)(l.Fragment,{children:["Delete user(s) failed. ",e]}),method:"delete",url:"/user"})}},formSummaryProps:{renderEntry:e=>{let{key:t}=e;return(0,l.jsx)(j.Ac,{children:null==g?void 0:g[t].userName})}},getConfirmDialogTitle:e=>"Delete the following ".concat(e," users?")})),null===(e=t.current.setOpen)||void 0===e||e.call(null,!0)},onEdit:()=>p(e=>!e),onItemCheckboxChange:(e,t,n)=>T(e,n),onItemClick:e=>{if(d){var t;f(e),null===(t=n.current.setOpen)||void 0===t||t.call(null,!0)}},renderListItemCheckboxState:e=>S(e),renderListItem:(e,t)=>{let{userName:n}=t;return(0,l.jsx)(j.Ac,{children:n})}})}),(0,l.jsx)(ee.Z,{...R,disableProceed:b,loadingAction:y,preActionArea:B,ref:e}),(0,l.jsx)(ee.Z,{...D,disableProceed:b,loadingAction:y,preActionArea:B,ref:n}),(0,l.jsx)(c.Z,{closeOnProceed:!0,...o,ref:t})]})},es=()=>(0,l.jsxs)(W.s_,{children:[(0,l.jsx)(H,{}),(0,l.jsx)(z,{}),(0,l.jsx)(eo,{})]}),ei=n(11901),ea=n(99429),ec=n(25137);let ed=e=>(0,l.jsx)(ea.Z,{...e,sx:{width:"100%"}});var eu=e=>{let{installTarget:t="disabled",onSubmit:n,title:o}=e,[s,a]=(0,i.useState)(),c=(0,i.useMemo)(()=>o?(0,l.jsx)(j.z,{sx:{textAlign:"center"},children:o}):(0,l.jsx)(ec.Z,{mt:0}),[o]),d=(0,i.useMemo)(()=>s&&(0,l.jsx)(r.ZP,{item:!0,sm:2,xs:1,children:(0,l.jsx)(E.Z,{...s,onClose:()=>{a(void 0)}})}),[s,a]);return(0,l.jsxs)(W.s_,{children:[(0,l.jsx)(W.V9,{children:c}),(0,l.jsxs)(r.ZP,{columns:{xs:1,sm:2},container:!0,spacing:"1em",children:[(0,l.jsx)(r.ZP,{item:!0,sm:2,xs:1,children:(0,l.jsxs)(y.Z,{row:!0,children:[(0,l.jsx)(j.Ac,{sx:{flexGrow:1},children:"Install target"}),(0,l.jsx)(ei.Z,{checked:"enabled"===t,edge:"end",onChange:(e,t)=>{let r="disable",s="Disable";t&&(r="enable",s="Enable"),null==n||n.call(null,{actionProceedText:s,content:(0,l.jsxs)(j.Ac,{children:["Would you like to ",r,' "Install target" on this striker? It\'ll take a few moments to complete.']}),onProceedAppend:()=>{m.Z.put("/host/local",{isEnableInstallTarget:t},{params:{handler:"install-target"}}).catch(e=>{let t=(0,w.Z)(e);t.children="Failed to ".concat(r,' "Install target". ').concat(t.children),a(t)})},titleText:"".concat(s,' "Install target" on ').concat(o,"?")})}})]})}),(0,l.jsx)(r.ZP,{item:!0,sm:2,xs:1,children:(0,l.jsx)(ed,{onClick:()=>{null==n||n.call(null,{actionProceedText:"Update",content:(0,l.jsx)(j.Ac,{children:"Would you like to update the operating system on this striker? It'll be placed into maintenance mode until the update completes."}),onProceedAppend:()=>{m.Z.put("/command/update-system").catch(e=>{let t=(0,w.Z)(e);t.children="Failed to initiate system update. ".concat(t.children),a(t)})},titleText:"Update operating system on ".concat(o,"?")})},children:"Update system"})}),(0,l.jsx)(r.ZP,{item:!0,sm:2,xs:1,children:(0,l.jsx)(ed,{href:"/init?re=1",children:"Reconfigure striker"})}),(0,l.jsx)(r.ZP,{item:!0,xs:1,children:(0,l.jsx)(ed,{onClick:()=>{null==n||n.call(null,{actionProceedText:"Reboot",content:(0,l.jsx)(j.Ac,{children:"Would you like to reboot this striker?"}),onProceedAppend:()=>{m.Z.put("/command/reboot-host").catch(e=>{let t=(0,w.Z)(e);t.children="Failed to initiate system reboot. ".concat(t.children),a(t)})},titleText:"Reboot ".concat(o,"?")})},children:"Reboot"})}),(0,l.jsx)(r.ZP,{item:!0,xs:1,children:(0,l.jsx)(ed,{onClick:()=>{null==n||n.call(null,{actionProceedText:"Shutdown",content:(0,l.jsx)(j.Ac,{children:"Would you like to shutdown this striker?"}),onProceedAppend:()=>{m.Z.put("/command/poweroff-host").catch(e=>{let t=(0,w.Z)(e);t.children="Failed to initiate system shutdown. ".concat(t.children),a(t)})},titleText:"Shutdown ".concat(o,"?")})},children:"Shutdown"})}),d]})]})},ep=e=>{let{refreshInterval:t=6e4}=e,[n,o]=(0,i.useState)(!1),[p,h]=(0,i.useState)({actionProceedText:"",closeOnProceed:!0,content:"",dialogProps:{open:n},onCancelAppend:()=>{o(!1)},onProceedAppend:()=>{o(!1)},titleText:""}),[m,x]=(0,i.useState)(),[f,g]=(0,i.useState)(""),{data:v,isLoading:Z}=(0,u.Z)("".concat(a.Z,"/host/local"),{onError:()=>{g("Unknown")},onSuccess:e=>{let{installTarget:t,shortHostName:n}=e;x(t),g(n)},refreshInterval:t});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(s(),{children:(0,l.jsx)("title",{children:Z?"Loading...":"".concat(null==v?void 0:v.shortHostName," Config")})}),(0,l.jsx)(d.Z,{}),(0,l.jsxs)(r.ZP,{container:!0,columns:{xs:1,md:3,lg:4},children:[(0,l.jsx)(r.ZP,{item:!0,xs:1,children:(0,l.jsx)(eu,{installTarget:m,onSubmit:e=>{let{onProceedAppend:t,...n}=e;h(e=>({...e,...n,onProceedAppend:function(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];null==t||t.call(null,...n),o(!1)}})),o(!0)},title:f})}),(0,l.jsx)(r.ZP,{item:!0,md:2,xs:1,children:(0,l.jsx)(es,{})})]}),(0,l.jsx)(c.Z,{...p,dialogProps:{open:n}})]})}},25934:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});for(var l,r=new Uint8Array(16),o=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,s=[],i=0;i<256;++i)s.push((i+256).toString(16).substr(1));var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!("string"==typeof n&&o.test(n)))throw TypeError("Stringified UUID is invalid");return n},c=function(e,t,n){var o=(e=e||{}).random||(e.rng||function(){if(!l&&!(l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(r)})();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return a(o)}}},function(e){e.O(0,[572,442,318,514,461,982,616,761,888,774,179],function(){return e(e.s=14453)}),_N_E=e.O()}]);