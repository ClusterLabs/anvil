(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{62705:function(e,n,t){var r=t(55639).Symbol;e.exports=r},44239:function(e,n,t){var r=t(62705),i=t(89607),o=t(2333),l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?i(e):o(e)}},27561:function(e,n,t){var r=t(67990),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},31957:function(e,n,t){var r="object"==typeof t.g&&t.g&&t.g.Object===Object&&t.g;e.exports=r},89607:function(e,n,t){var r=t(62705),i=Object.prototype,o=i.hasOwnProperty,l=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var n=o.call(e,a),t=e[a];try{e[a]=void 0;var r=!0}catch(e){}var i=l.call(e);return r&&(n?e[a]=t:delete e[a]),i}},2333:function(e){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},55639:function(e,n,t){var r=t(31957),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},67990:function(e){var n=/\s/;e.exports=function(e){for(var t=e.length;t--&&n.test(e.charAt(t)););return t}},23279:function(e,n,t){var r=t(13218),i=t(7771),o=t(14841),l=Math.max,a=Math.min;e.exports=function(e,n,t){var c,s,u,d,p,f,m=0,g=!1,h=!1,v=!0;if("function"!=typeof e)throw TypeError("Expected a function");function invokeFunc(n){var t=c,r=s;return c=s=void 0,m=n,d=e.apply(r,t)}function shouldInvoke(e){var t=e-f,r=e-m;return void 0===f||t>=n||t<0||h&&r>=u}function timerExpired(){var e,t,r,o=i();if(shouldInvoke(o))return trailingEdge(o);p=setTimeout(timerExpired,(e=o-f,t=o-m,r=n-e,h?a(r,u-t):r))}function trailingEdge(e){return(p=void 0,v&&c)?invokeFunc(e):(c=s=void 0,d)}function debounced(){var e,t=i(),r=shouldInvoke(t);if(c=arguments,s=this,f=t,r){if(void 0===p)return m=e=f,p=setTimeout(timerExpired,n),g?invokeFunc(e):d;if(h)return clearTimeout(p),p=setTimeout(timerExpired,n),invokeFunc(f)}return void 0===p&&(p=setTimeout(timerExpired,n)),d}return n=o(n)||0,r(t)&&(g=!!t.leading,u=(h="maxWait"in t)?l(o(t.maxWait)||0,n):u,v="trailing"in t?!!t.trailing:v),debounced.cancel=function(){void 0!==p&&clearTimeout(p),m=0,c=f=s=p=void 0},debounced.flush=function(){return void 0===p?d:trailingEdge(i())},debounced}},13218:function(e){e.exports=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},37005:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},33448:function(e,n,t){var r=t(44239),i=t(37005);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},7771:function(e,n,t){var r=t(55639);e.exports=function(){return r.Date.now()}},14841:function(e,n,t){var r=t(27561),i=t(13218),o=t(33448),l=0/0,a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return l;if(i(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=i(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var t=c.test(e);return t||s.test(e)?u(e.slice(2),t?2:8):a.test(e)?l:+e}},73700:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(41471)}])},37039:function(e,n,t){"use strict";var r=t(85893),i=t(67294),o=t(48263),l=t(5616);n.Z=e=>{let{calculateItemBreakpoints:n=()=>({xs:1}),layout:t,wrapperBoxProps:a,...c}=e,s=(0,i.useMemo)(()=>{let e=Object.entries(t);return e.map((e,t)=>{let[r,l]=e;return l?(0,i.createElement)(o.ZP,{...n(t,r),key:r,item:!0,...l}):void 0})},[n,t]);return(0,r.jsx)(l.Z,{...a,children:(0,r.jsx)(o.ZP,{container:!0,...c,children:s})})}},21405:function(e,n,t){"use strict";t.d(n,{Z:function(){return components_Header}});var r=t(85893),i=t(41098),o=t(90948),l=t(42293),a=t(5616),c=t(82589),s=t(54799),u=t(67294),d=t(6010),p=t(25709),f=t(13540),m=t(77533),g=t(78462),h=t(97212),v=t(98619);let x=[{text:"Anvil",image:"/pngs/anvil_icon_on.png",uri:"/manage-element"},{text:"Files",image:"/pngs/files_on.png",uri:"/file-manager"},{text:"Configure",image:"/pngs/configure_icon_on.png",uri:"/config"},{text:"Mail",image:"/pngs/email_on.png",uri:"/mail-config"},{text:"Help",image:"/pngs/help_icon_on.png",uri:"https://alteeve.com/w/Support"}],b={width:"40em",height:"40em"};var j=t(67645),Z=t(57632),w=t(55238),y=t(41247),k=t(84154),C=t(34819);let P="AnvilDrawer",S={actionIcon:"".concat(P,"-actionIcon"),list:"".concat(P,"-list")},_=(0,o.ZP)(m.ZP)(()=>({["& .".concat(S.list)]:{width:"200px"},["& .".concat(S.actionIcon)]:{fontSize:"2.3em",color:d.of}}));var components_AnvilDrawer=e=>{let{open:n,setOpen:t}=e,{getSessionUser:i}=(0,C.Z)(),o=i();return(0,r.jsx)(_,{BackdropProps:{invisible:!0},anchor:"left",open:n,onClose:()=>t(!n),children:(0,r.jsx)("div",{role:"presentation",children:(0,r.jsxs)(g.Z,{className:S.list,children:[(0,r.jsx)(h.ZP,{children:(0,r.jsx)(k.Ac,{children:o?(0,r.jsxs)(r.Fragment,{children:["Welcome, ",o.name]}):"Unregistered"})}),(0,r.jsx)(Z.Z,{}),(0,r.jsx)(v.Z,{component:"a",href:"/index.html",children:(0,r.jsxs)(w.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,r.jsx)(p.Z,{className:S.actionIcon}),(0,r.jsx)(k.Ac,{children:"Dashboard"})]})}),x.map(e=>(0,r.jsx)(v.Z,{component:"a",href:e.uri,children:(0,r.jsxs)(w.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,r.jsx)("img",{alt:e.text,src:e.image,...b}),(0,r.jsx)(k.Ac,{children:e.text})]})},"anvil-drawer-".concat(e.image))),(0,r.jsx)(v.Z,{onClick:()=>{j.Z.put("/auth/logout").then(()=>{window.location.replace("/login")}).catch(e=>{(0,y.Z)(e)})},children:(0,r.jsxs)(w.Z,{fullWidth:!0,row:!0,spacing:"2em",children:[(0,r.jsx)(f.Z,{className:S.actionIcon}),(0,r.jsx)(k.Ac,{children:"Logout"})]})})]})})})},O=t(83909),E=t(66354);let B="Header",A={input:"".concat(B,"-input"),barElement:"".concat(B,"-barElement"),iconBox:"".concat(B,"-iconBox"),searchBar:"".concat(B,"-searchBar"),icons:"".concat(B,"-icons")},F=(0,o.ZP)(l.Z)(e=>{let{theme:n}=e;return{paddingTop:n.spacing(.5),paddingBottom:n.spacing(.5),paddingLeft:n.spacing(3),paddingRight:n.spacing(3),borderBottom:"solid 1px",borderBottomColor:d.hM,position:"static",["& .".concat(A.input)]:{height:"2.8em",width:"30vw",backgroundColor:n.palette.secondary.main,borderRadius:d.n_},["& .".concat(A.barElement)]:{padding:0},["& .".concat(A.iconBox)]:{[n.breakpoints.down("sm")]:{display:"none"}},["& .".concat(A.searchBar)]:{[n.breakpoints.down("sm")]:{flexGrow:1,paddingLeft:"15vw"}},["& .".concat(A.icons)]:{paddingLeft:".1em",paddingRight:".1em"}}});var components_Header=()=>{let e=(0,u.useRef)({}),n=(0,u.useRef)({}),[t,o]=(0,u.useState)(!1);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{children:(0,r.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",flexDirection:"row",children:[(0,r.jsx)(w.Z,{row:!0,children:(0,r.jsx)(c.Z,{onClick:()=>o(!t),children:(0,r.jsx)("img",{alt:"",src:"/pngs/logo.png",width:"160",height:"40"})})}),(0,r.jsx)(w.Z,{className:A.iconBox,row:!0,spacing:0,children:(0,r.jsx)(a.Z,{children:(0,r.jsx)(s.Z,{onClick:e=>{var t,r;let{currentTarget:i}=e;null===(t=n.current.setAnchor)||void 0===t||t.call(null,i),null===(r=n.current.setOpen)||void 0===r||r.call(null,!0)},sx:{color:d.of,padding:"0 .1rem"},children:(0,r.jsx)(O.Z,{icon:i.Z,ref:e})})})})]})}),(0,r.jsx)(components_AnvilDrawer,{open:t,setOpen:o}),(0,r.jsx)(E.Z,{onFetchSuccessAppend:n=>{var t;null===(t=e.current.indicate)||void 0===t||t.call(null,Object.keys(n).length>0)},ref:n})]})}},96867:function(e,n,t){"use strict";var r=t(67294),i=t(67645),o=t(84070),l=t(41247);n.Z=(e,n)=>{var t;let[a,c]=(0,r.useState)(!1),[s,u]=(0,r.useState)({}),d=(0,r.useCallback)(e=>{var t,r;return null==n?void 0:null===(r=n.current)||void 0===r?void 0:null===(t=r.setMessage)||void 0===t?void 0:t.call(null,"api",e)},[n]),p=(0,r.useCallback)((e,t)=>{var r,i;null==n||null===(i=n.current)||void 0===i||null===(r=i.setMessage)||void 0===r||r.call(null,String(e),t)},[n]),f=(0,r.useCallback)((e,t)=>{var r,i;null==n||null===(i=n.current)||void 0===i||null===(r=i.setMessageRe)||void 0===r||r.call(null,e,t)},[n]),m=(0,r.useCallback)((e,n)=>{u((0,o.ZP)(e,n))},[]),g=(0,r.useCallback)((e,n)=>{u((0,o.Um)(e,n))},[]),h=(0,r.useCallback)(e=>{p(e),m(e)},[p,m]),v=(0,r.useCallback)(e=>{f(e),g(e)},[f,g]),x=(0,r.useCallback)(e=>n=>{m(e,n)},[m]),b=(0,r.useCallback)(e=>n=>{let{isValid:t}=n;m(e,t)},[m]),j=(0,r.useCallback)(e=>()=>{h(e)},[h]),Z=(0,r.useCallback)(e=>{let{body:r,getErrorMsg:o,msgKey:a="api",method:s,onError:u,onSuccess:d,setMsg:p=null==n?void 0:null===(t=n.current)||void 0===t?void 0:t.setMessage,successMsg:f,url:m}=e;c(!0),i.Z.request({data:r,method:s,url:m}).then(()=>{null==p||p.call(null,a,{children:f,type:"info"}),null==d||d.call(null)}).catch(e=>{let n=(0,l.Z)(e);n.children=o(n.children),null==p||p.call(null,a,n),null==u||u.call(null)}).finally(()=>{c(!1)})},[n,c]),w=(0,r.useMemo)(()=>Object.values(s).some(e=>!e),[s]);return{buildFinishInputTestBatchFunction:x,buildInputFirstRenderFunction:b,buildInputUnmountFunction:j,formValidity:s,isFormInvalid:w,isFormSubmitting:a,setApiMessage:d,setFormValidity:u,setMessage:p,setMessageRe:f,setValidity:m,setValidityRe:g,submitForm:Z,unsetKey:h,unsetKeyRe:v}}},84070:function(e,n,t){"use strict";t.d(n,{Um:function(){return buildRegExpObjectStateSetterCallback}});let defaultObjectStatePropSetter=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[,r,i,o]=n;void 0!==o&&(r[i]=o)},buildRegExpObjectStateSetterCallback=function(e,n){let{set:t=defaultObjectStatePropSetter}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>{let i={};return Object.keys(r).forEach(o=>{e.test(o)?t(r,i,o,n):i[o]=r[o]}),i}};n.ZP=function(e,n){let{guard:t=()=>!0,set:r=defaultObjectStatePropSetter}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i=>{let{[e]:o,...l}=i,a={...l};return t(i,e,n)&&r(i,a,e,n),a}}},41471:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return login}});var r=t(85893),i=t(9008),o=t.n(i),l=t(11163),a=t(67645),c=t(5616),s=t(67294),u=t(94121),d=t(19467),p=t(55238),f=t(37039),m=t(92917),g=t(21642),h=t(55675),v=t(81796),x=t(50233),b=t(96867);let j={width:"100%"},Z="gate-input",w="".concat(Z,"-credential-id"),y="".concat(Z,"-credential-passphrase"),k="access",C=(0,s.forwardRef)((e,n)=>{let{formContainer:t=!0,gridProps:{columns:i={xs:1,sm:2},layout:o,spacing:l="1em",...a}={},identifierId:Z=w,identifierInputTestBatchBuilder:C=x.Gn,identifierLabel:P,identifierOutlinedInputWithLabelProps:{formControlProps:S={},inputProps:_,...O}={},onIdentifierBlurAppend:E,onSubmit:B,onSubmitAppend:A,passphraseId:F=y,passphraseLabel:I,passphraseOutlinedInputWithLabelProps:{formControlProps:R={},inputProps:T,...M}={},submitLabel:L,allowSubmit:N=t}=e,{sx:W,...D}=S,{sx:G,...U}=R,H=(0,s.useRef)({}),q=(0,s.useRef)({}),$=(0,s.useRef)({}),[V,X]=(0,s.useState)(!1),z=(0,b.Z)([Z,F],$),{buildFinishInputTestBatchFunction:J,buildInputFirstRenderFunction:K,buildInputUnmountFunction:Q,isFormInvalid:Y,setMessage:ee}=z,en=(0,s.useMemo)(()=>null!=B?B:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let{0:r}=n;r.preventDefault(),ee(k),X(!0);let{target:i}=r,{elements:o}=i,{value:l}=o.namedItem(Z),{value:a}=o.namedItem(F);null==A||A.call(null,l,a,e=>{ee(k,e)},X,...n)},[Z,B,A,F,X,ee]),et=(0,s.useMemo)(()=>V?(0,r.jsx)(v.Z,{mt:0}):(0,r.jsx)(p.Z,{row:!0,sx:{justifyContent:"flex-end"},children:(0,r.jsx)(d.Z,{disabled:Y,type:"submit",children:L})}),[Y,V,L]),er=(0,s.useMemo)(()=>{let e={};return N&&(e["gate-cell-message-group"]={children:(0,r.jsx)(g.Z,{count:1,defaultMessageType:"warning",ref:$}),sm:2},e["gate-cell-submit"]={children:et,sm:2}),e},[N,et]),ei=(0,s.useMemo)(()=>{let e={};return t&&(e.component="form",e.onSubmit=en),e},[t,en]);return(0,s.useImperativeHandle)(n,()=>({get:()=>{var e,n,t,r;return{identifier:null!==(t=null===(e=H.current.getValue)||void 0===e?void 0:e.call(null))&&void 0!==t?t:"",passphrase:null!==(r=null===(n=q.current.getValue)||void 0===n?void 0:n.call(null))&&void 0!==r?r:""}},messageGroup:{...$.current},setIsSubmitting:e=>{X(e)}})),(0,r.jsx)(c.Z,{...ei,children:(0,r.jsx)(f.Z,{columns:i,layout:{"gate-input-cell-credential-id":{children:(0,r.jsx)(m.Z,{input:(0,r.jsx)(h.Z,{formControlProps:{...D,sx:{...j,...W}},id:Z,inputProps:_,label:P,...O}),inputTestBatch:C(P,()=>{ee(Z)},{onFinishBatch:J(Z)},e=>{ee(Z,{children:e})}),onBlurAppend:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];null==E||E.call(null,...n)},onFirstRender:K(Z),onUnmount:Q(Z),ref:H,required:!0})},"gate-input-cell-credential-passphrase":{children:(0,r.jsx)(m.Z,{input:(0,r.jsx)(h.Z,{formControlProps:{...U,sx:{...j,...G}},id:F,inputProps:T,label:I,type:u.Z.password,...M}),inputTestBatch:(0,x.Gn)(I,()=>{ee(F)},{onFinishBatch:J(F)},e=>{ee(F,{children:e})}),onFirstRender:K(F),onUnmount:Q(F),ref:q,required:!0})},...er},spacing:l,...a})})});C.displayName="GateForm";var P=t(41247),S=t(37260),components_GatePanel=()=>{let{query:{rt:e}}=(0,l.useRouter)();return(0,r.jsx)(S.s_,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 14em)",minWidth:"16em",width:{xs:"fit-content",sm:"26em"}},children:(0,r.jsx)(C,{gridProps:{columns:1},identifierLabel:"Username",onSubmitAppend:(n,t,r,i)=>{i(!0),a.Z.post("/auth/login",{username:n,password:t}).then(()=>{let n=e?String(e):"/";window.location.replace(n)}).catch(e=>{let n=(0,P.Z)(e,{onResponseErrorAppend:()=>({children:"Credentials mismatched.",type:"warning"})});r(n)}).finally(()=>{i(!1)})},passphraseLabel:"Passphrase",submitLabel:"Login"})})},_=t(21405),login=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("title",{children:"Login"})}),(0,r.jsx)(_.Z,{}),(0,r.jsx)(components_GatePanel,{})]})},11163:function(e,n,t){e.exports=t(38355)}},function(e){e.O(0,[466,804,494,263,775,541,556,774,888,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);