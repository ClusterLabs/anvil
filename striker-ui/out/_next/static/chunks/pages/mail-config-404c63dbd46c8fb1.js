(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[824],{28944:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>J});var t=n(37876),i=n(41316),l=n(77328),a=n.n(l),s=n(88577);let o={1:{label:"Critical"},2:{label:"Warning"},3:{label:"Notice"},4:{label:"Info"}};var d=n(66998),u=n(14232),c=n(83221),m=n(91423),h=n(48937),p=n(28850),x=n(34318),A=n(13920),g=n(74235),j=n(91408),v=n(69397),f=n(27743);let y=j.ai().oneOf([0,1,2,3,4]),b=j.Ik({delete:j.zM().optional(),level:y.required(),target:j.Ik({type:j.Yj().oneOf(["node","subnode"]).required(),uuid:(0,f.ZC)().required()}),uuid:(0,f.ZC)().optional()}),C=j.RZ(e=>j.Ik((0,v.A)(e,b))),w=j.Ik({alertOverrides:C,email:j.Yj().email().required(),language:j.Yj().oneOf(["en_CA"]).optional(),level:y.required(),name:j.Yj().required(),uuid:(0,f.ZC)().optional()}),M=j.RZ(e=>j.Ik((0,v.A)(e,w)));var O=n(43010),k=n(92144),F=n(43620),I=n(20795),U=n(88259);let S=[{displayValue:"Ignore",value:0},{displayValue:"Critical",value:1},{displayValue:"Warning",value:2},{displayValue:"Notice",value:3},{displayValue:"Info",value:4}],D=e=>{let{alertOverrideTargetOptions:r,alertOverrideValueId:n,mailRecipientUuid:l,formikUtils:a}=e,s=(0,u.useMemo)(()=>null!=n?n:(0,m.A)(),[n]),{formik:o}=a,{values:{[l]:d}}=o,{alertOverrides:{[s]:c}}=d,h=(0,u.useMemo)(()=>"".concat(l,".alertOverrides.").concat(s),[s,l]),p=(0,u.useMemo)(()=>"".concat(h,".remove"),[h]),A=(0,u.useMemo)(()=>"".concat(h,".target"),[h]),g=(0,u.useMemo)(()=>"".concat(h,".level"),[h]);return(0,t.jsxs)(i.Ay,{alignItems:"center",columns:{xs:1,sm:10},container:!0,justifyContent:"stretch",spacing:"1em",children:[(0,t.jsx)(i.Ay,{item:!0,xs:6,children:(0,t.jsx)(O.A,{getOptionLabel:e=>e.name,id:A,isOptionEqualToValue:(e,r)=>e.uuid===r.uuid,label:"Target",noOptionsText:"No node or subnode found.",onChange:(e,r)=>o.setFieldValue(A,r,!0),openOnFocus:!0,options:r,renderOption:(e,r)=>(0,u.createElement)("li",{...e,key:"".concat(r.node,"-").concat(r.uuid)},"node"===r.type?(0,t.jsxs)(x.A,{spacing:0,children:[(0,t.jsx)(I.a3,{inheritColour:!0,children:r.name}),(0,t.jsx)(I.xF,{inheritColour:!0,children:r.description})]}):(0,t.jsx)(I.a3,{inheritColour:!0,paddingLeft:".6em",children:r.name})),value:c.target})}),(0,t.jsx)(i.Ay,{item:!0,flexGrow:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(F.A,{id:g,label:"Alert level",name:g,onChange:o.handleChange,selectItems:S,value:c.level})})}),(0,t.jsx)(i.Ay,{item:!0,width:"min-content",children:(0,t.jsx)(k.A,{mapPreset:"delete",onClick:()=>{c.uuids?o.setFieldValue(p,!0,!0):o.setValues(e=>{let r={...e},{[l]:n}=r,{[s]:t,...i}=n.alertOverrides;return n.alertOverrides={...i},r})},size:"small"})})]})};var V=n(45944);let q=e=>{let{alertOverrideTargetOptions:r,formikUtils:n,mailRecipientUuid:i}=e,{formik:l}=n,{values:{[i]:a}}=l,{alertOverrides:s}=a;return(0,t.jsx)(V.A,{allowAddItem:!0,edit:!0,header:"Alert override rules",listEmpty:"No alert overrides(s)",listItems:s,onAdd:()=>{let e=(0,m.A)();l.setValues(r=>{let n={...r},{[i]:t}=n;return t.alertOverrides={...t.alertOverrides,[e]:{level:2,target:null}},n})},renderListItem:(e,l)=>!l.remove&&(0,t.jsx)(D,{alertOverrideTargetOptions:r,alertOverrideValueId:e,formikUtils:n,mailRecipientUuid:i})})};var E=n(67820),P=n(69146),N=n(93647);let R=[{displayValue:(0,t.jsxs)(x.A,{spacing:0,children:[(0,t.jsx)(I.a3,{inheritColour:!0,fontWeight:"inherit",children:"Critical"}),(0,t.jsx)(I.xF,{inheritColour:!0,whiteSpace:"normal",children:"Alerts that could lead to imminent service interruption or unexpected loss of redundancy."})]}),value:1},{displayValue:(0,t.jsxs)(x.A,{spacing:0,children:[(0,t.jsx)(I.a3,{inheritColour:!0,fontWeight:"inherit",children:"Warning"}),(0,t.jsx)(I.xF,{inheritColour:!0,whiteSpace:"normal",children:"Alerts that require attention from administrators, such as redundancy loss due to load shedding, hardware in pre-failure, input power loss, temperature anomalies, etc."})]}),value:2},{displayValue:(0,t.jsxs)(x.A,{spacing:0,children:[(0,t.jsx)(I.a3,{inheritColour:!0,fontWeight:"inherit",children:"Notice"}),(0,t.jsx)(I.xF,{inheritColour:!0,whiteSpace:"normal",children:"Alerts that are generally safe to ignore, but might provide early warnings of developing issues or insight into system behaviour."})]}),value:3},{displayValue:(0,t.jsxs)(x.A,{spacing:0,children:[(0,t.jsx)(I.a3,{inheritColour:!0,fontWeight:"inherit",children:"Info"}),(0,t.jsx)(I.xF,{inheritColour:!0,whiteSpace:"normal",children:"Alerts that are almost always safe to ignore, but may be useful in testing and debugging."})]}),value:4}],L=function(e,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/alert-override",{uuid:t}=e;return t?Object.values(e.alertOverrides).reduce((e,r)=>{let{remove:i,level:l,target:a,uuids:s}=r;if(s&&e.push(...Object.keys(s).map(e=>({method:"delete",url:"".concat(n,"/").concat(e)}))),a&&!i){var o;let r=null!=(o=a.subnodes)?o:[a.uuid];e.push(...r.map(e=>({body:{hostUuid:e,level:l,mailRecipientUuid:t},method:"post",url:n})))}return e},[]):[]},_=e=>{let{alertOverrideTargetOptions:r,mailRecipientUuid:n,previousFormikValues:l,tools:a}=e,s=(0,u.useMemo)(()=>null!=n?n:(0,m.A)(),[n]),d=(0,N.A)({initialValues:null!=l?l:{[s]:{alertOverrides:{},email:"",language:"en_CA",level:2,name:""}},onSubmit:(e,r)=>{let{setSubmitting:n}=r,{[s]:i}=e,o="Add",d=(0,t.jsx)(t.Fragment,{children:"Failed to add mail recipient."}),u="post",c=(0,t.jsx)(t.Fragment,{children:"Mail recipient added."}),m="Add mail recipient with the following?",h="/mail-recipient";l&&(o="Update",d=(0,t.jsx)(t.Fragment,{children:"Failed to update mail server."}),u="put",c=(0,t.jsx)(t.Fragment,{children:"Mail recipient updated."}),m="Update ".concat(i.name," with the following?"),h+="/".concat(s));let{alertOverrides:x,uuid:j,...v}=i;a.confirm.prepare({actionProceedText:o,content:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.A,{entries:v}),(0,t.jsx)(A.A,{entries:{alertOverrides:Object.entries(x).reduce((e,r)=>{let[n,t]=r;return t.remove||!t.target||(e[n]={level:t.level,name:t.target.name}),e},{})}})]}),onCancelAppend:()=>n(!1),onProceedAppend:async()=>{a.confirm.loading(!0);let e=e=>{let r=(0,g.A)(e);r.children=(0,t.jsxs)(t.Fragment,{children:[d," ",r.children]}),a.confirm.finish("Error",r),n(!1)};p.A[u](h,v).then(r=>{let{data:n}=r,t={...i};n&&(t.uuid=n.uuid),Promise.all(L(t,l&&l[s]).map(e=>p.A[e.method](e.url,e.body))).then(()=>{a.confirm.finish("Success",{children:c}),a["post"===u?"add":"edit"].open(!1)}).catch(e)}).catch(e)},titleText:m}),a.confirm.open(!0)},validationSchema:M}),{disabledSubmit:x,formik:j,formikErrors:v,handleChange:f}=d,y=(0,u.useMemo)(()=>"".concat(s,".email"),[s]),b=(0,u.useMemo)(()=>"".concat(s,".level"),[s]),C=(0,u.useMemo)(()=>"".concat(s,".name"),[s]);return(0,t.jsxs)(i.Ay,{columns:{xs:1,sm:2},component:"form",container:!0,onSubmit:e=>{e.preventDefault(),j.submitForm()},spacing:"1em",children:[(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{id:C,label:"Recipient name",name:C,onChange:f,required:!0,value:j.values[s].name})})}),(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{id:y,label:"Recipient email",name:y,onChange:f,required:!0,value:j.values[s].email})})}),(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(F.A,{id:b,label:"Alert level",name:b,onChange:j.handleChange,required:!0,selectItems:R,selectProps:{MenuProps:{sx:{["& .".concat(c.A.paper)]:{maxWidth:{md:"60%",lg:"40%"}}}},renderValue:e=>o[e].label},value:j.values[s].level})})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(q,{alertOverrideTargetOptions:r,formikUtils:d,mailRecipientUuid:s})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(E.A,{count:1,messages:v})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(h.A,{actions:[{background:"blue",children:l?"Update":"Add",disabled:x,type:"submit"}]})})]})};var W=n(86254),Y=n(96446);let H=e=>(0,t.jsx)(_,{...e});var T=n(90065),$=n(30827);let Z=()=>{let[e,r]=(0,u.useState)(),{altData:n,loading:i}=(0,$.A)("/anvil",{mod:W.A}),l=(0,u.useMemo)(()=>n&&Object.values(n).sort((e,r)=>e.name.localeCompare(r.name)).reduce((e,r)=>{let n={description:r.description,name:r.name,node:r.uuid,subnodes:[],type:"node",uuid:r.uuid},t=Object.values(r.hosts).sort((e,r)=>e.name.localeCompare(r.name)).reduce((e,t)=>{var i;return"dr"===t.type||(e.push({name:t.name,node:r.uuid,type:"subnode",uuid:t.uuid}),null==(i=n.subnodes)||i.push(t.uuid)),e},[]);return e.push(n,...t),e},[]),[n]),{fetch:a,loading:s}=(0,T.A)({onData:e=>r(e),url:"/alert-override"}),c=(0,u.useMemo)(()=>{if(n&&e)return Object.entries(Object.values(e).reduce((e,r)=>{let{node:{uuid:n}}=r;return e[n]?e[n].push(r):e[n]=[r],e},{})).reduce((e,r)=>{let[t,i]=r,[l,...a]=i;if(i.length>1&&a.every(e=>{let{level:r}=e;return r===l.level})){let{0:{level:r}}=i,{[t]:l}=n;e[t]={level:r,target:{description:l.description,name:l.name,node:l.uuid,subnodes:i.map(e=>{let{subnode:{uuid:r}}=e;return r}),type:"node",uuid:l.uuid},uuids:i.reduce((e,r)=>{let{subnode:n,uuid:t}=r;return e[t]=n.uuid,e},{})}}else i.forEach(r=>{let{level:n,node:t,subnode:i,uuid:l}=r;e[i.uuid]={level:n,target:{name:i.name,node:t.uuid,type:"subnode",uuid:i.uuid},uuids:{[l]:i.uuid}}});return e},{})},[e,n]);return(0,t.jsx)(Y.A,{addHeader:"Add mail recipient",editHeader:e=>"Update ".concat(null==e?void 0:e.name),entriesUrl:"/mail-recipient",getAddLoading:e=>e||i,getDeleteErrorMessage:e=>{let{children:r,...n}=e;return{...n,children:(0,t.jsxs)(t.Fragment,{children:["Failed to delete mail recipient(s). ",r]})}},getDeleteHeader:e=>"Delete the following ".concat(e," mail recipient(s)?"),getDeleteSuccessMessage:()=>({children:(0,t.jsx)(t.Fragment,{children:"Successfully deleted mail recipient(s)."})}),getEditLoading:e=>e||s,listEmpty:"No mail recipient(s) found.",onItemClick:(e,r)=>{let{args:n}=r,[,t]=n;e(...n),a(void 0,{params:{"mail-recipient":t}})},renderAddForm:e=>l&&(0,t.jsx)(_,{alertOverrideTargetOptions:l,tools:e}),renderDeleteItem:(e,r)=>{let{key:n}=r,i=null==e?void 0:e[n];return(0,t.jsx)(I.a3,{children:null==i?void 0:i.name})},renderEditForm:(e,r)=>l&&r&&c&&(0,t.jsx)(H,{alertOverrideTargetOptions:l,mailRecipientUuid:r.uuid,previousFormikValues:{[r.uuid]:{alertOverrides:c,...r}},tools:e}),renderListItem:(e,r)=>{let{email:n,level:i,name:l}=r;return(0,t.jsxs)(d.A,{columnSpacing:"1em",container:!0,width:"100%",children:[(0,t.jsxs)(d.A,{size:"grow",children:[(0,t.jsx)(I.a3,{edge:"start",noWrap:!0,children:l}),(0,t.jsx)(I.a3,{edge:"start",monospaced:!0,noWrap:!0,children:n})]}),(0,t.jsxs)(d.A,{textAlign:"right",children:[(0,t.jsx)(I.a3,{edge:"end",children:"Alert level"}),(0,t.jsx)(I.a3,{edge:"end",monospaced:!0,children:o[i].label})]})]})}})},Q=j.Ik({address:j.Yj().required(),authentication:j.Yj().oneOf(["none","plain-text","encrypted"]),confirmPassword:j.Yj().when("password",(e,r)=>String(e).length>0?r.required().oneOf([j.KR("password")]):r.optional()),heloDomain:j.Yj().required(),password:j.Yj().optional(),port:j.ai().required(),security:j.Yj().oneOf(["none","starttls","tls-ssl"]),username:j.Yj().optional(),uuid:(0,f.ZC)().required()}),z=j.RZ(e=>j.Ik((0,v.A)(e,Q))),G=e=>{let{localhostDomain:r="",mailServerUuid:n,previousFormikValues:l,tools:a}=e,s=(0,u.useMemo)(()=>null!=n?n:(0,m.A)(),[n]),{disabledSubmit:o,formik:d,formikErrors:c,handleChange:x}=(0,N.A)({initialValues:null!=l?l:{[s]:{address:"",authentication:"none",heloDomain:r,port:587,security:"none",uuid:s}},onSubmit:(e,r)=>{let{setSubmitting:n}=r,{[s]:i}=e,o="Add",d=(0,t.jsx)(t.Fragment,{children:"Failed to add mail server."}),u="post",c=(0,t.jsx)(t.Fragment,{children:"Mail server added."}),m="Add mail server with the following?",h="/mail-server";l&&(o="Update",d=(0,t.jsx)(t.Fragment,{children:"Failed to update mail server."}),u="put",c=(0,t.jsx)(t.Fragment,{children:"Mail server updated."}),m="Update ".concat(i.address,":").concat(i.port," with the following?"),h+="/".concat(s));let{confirmPassword:x,uuid:j,...v}=i;a.confirm.prepare({actionProceedText:o,content:(0,t.jsx)(A.A,{entries:v,hasPassword:!0}),onCancelAppend:()=>n(!1),onProceedAppend:()=>{a.confirm.loading(!0),p.A[u](h,i).then(()=>{a.confirm.finish("Success",{children:c}),a["post"===u?"add":"edit"].open(!1)}).catch(e=>{let r=(0,g.A)(e);r.children=(0,t.jsxs)(t.Fragment,{children:[d," ",r.children]}),a.confirm.finish("Error",r),n(!1)})},titleText:m}),a.confirm.open(!0)},validationSchema:z}),j=(0,u.useMemo)(()=>"".concat(s,".address"),[s]),v=(0,u.useMemo)(()=>"".concat(s,".authentication"),[s]),f=(0,u.useMemo)(()=>"".concat(s,".confirmPassword"),[s]),y=(0,u.useMemo)(()=>"".concat(s,".heloDomain"),[s]),b=(0,u.useMemo)(()=>"".concat(s,".password"),[s]),C=(0,u.useMemo)(()=>"".concat(s,".port"),[s]),w=(0,u.useMemo)(()=>"".concat(s,".security"),[s]),M=(0,u.useMemo)(()=>"".concat(s,".username"),[s]);return(0,t.jsxs)(i.Ay,{component:"form",onSubmit:e=>{e.preventDefault(),d.submitForm()},container:!0,columns:{xs:1,sm:2},spacing:"1em",children:[(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{id:j,label:"Server address",name:j,onChange:x,required:!0,value:d.values[s].address})})}),(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{id:C,label:"Server port",name:C,onChange:x,required:!0,type:"number",value:d.values[s].port})})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(U.A,{input:(0,t.jsx)(F.A,{id:w,label:"Server security type",name:w,onChange:x,required:!0,selectItems:["none","starttls","tls-ssl"],value:d.values[s].security})})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(U.A,{input:(0,t.jsx)(F.A,{id:v,label:"Server authentication method",name:v,onChange:x,required:!0,selectItems:["none","plain-text","encrypted"],value:d.values[s].authentication})})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{id:y,label:"HELO domain",name:y,onChange:x,required:!0,value:d.values[s].heloDomain})})}),(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{disableAutofill:!0,id:M,label:"Server username",name:M,onChange:x,value:d.values[s].username})})}),(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{disableAutofill:!0,id:b,label:"Server password",name:b,onChange:x,type:"password",value:d.values[s].password})})}),(0,t.jsx)(i.Ay,{display:{xs:"none",sm:"initial"},item:!0,sm:1}),(0,t.jsx)(i.Ay,{item:!0,xs:1,children:(0,t.jsx)(U.A,{input:(0,t.jsx)(P.A,{disableAutofill:!0,id:f,label:"Confirm password",name:f,onChange:x,type:"password",value:d.values[s].confirmPassword})})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(E.A,{count:1,messages:c})}),(0,t.jsx)(i.Ay,{item:!0,width:"100%",children:(0,t.jsx)(h.A,{actions:[{background:"blue",children:l?"Update":"Add",disabled:o,type:"submit"}]})})]})},X=e=>(0,t.jsx)(G,{...e}),B=()=>{let{data:e,loading:r}=(0,$.A)("/host/local");return(0,t.jsx)(Y.A,{addHeader:"Add mail server",editHeader:e=>"Update ".concat(null==e?void 0:e.address,":").concat(null==e?void 0:e.port),entriesUrl:"/mail-server",getAddLoading:e=>e||r,getDeleteErrorMessage:e=>{let{children:r,...n}=e;return{...n,children:(0,t.jsxs)(t.Fragment,{children:["Failed to delete mail server(s). ",r]})}},getDeleteHeader:e=>"Delete the following ".concat(e," mail server(s)?"),getDeleteSuccessMessage:()=>({children:(0,t.jsx)(t.Fragment,{children:"Successfully deleted mail server(s)."})}),listEmpty:"No mail server(s) found",renderAddForm:r=>e&&(0,t.jsx)(G,{localhostDomain:e.variables.domain,tools:r}),renderDeleteItem:(e,r)=>{let{key:n}=r,i=null==e?void 0:e[n];return(0,t.jsxs)(I.a3,{children:[null==i?void 0:i.address,":",null==i?void 0:i.port]})},renderEditForm:(e,r)=>r&&(0,t.jsx)(X,{mailServerUuid:r.uuid,previousFormikValues:{[r.uuid]:r},tools:e}),renderListItem:(e,r)=>{let{address:n,port:i}=r;return(0,t.jsxs)(I.a3,{children:[n,":",i]})}})};var K=n(35755);let J=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a(),{children:(0,t.jsx)("title",{children:"Mail Config"})}),(0,t.jsx)(s.A,{}),(0,t.jsxs)(i.Ay,{container:!0,columns:{xs:1,md:6,lg:4},children:[(0,t.jsx)(i.Ay,{item:!0,xs:1}),(0,t.jsx)(i.Ay,{item:!0,xs:1,md:4,lg:2,children:(0,t.jsxs)(K.Zk,{children:[(0,t.jsx)(K.aO,{children:(0,t.jsx)(I.HM,{children:"Mail config"})}),(0,t.jsx)(K.l8,{expandInitially:!0,header:"Manage mail servers",children:(0,t.jsx)(B,{})}),(0,t.jsx)(K.l8,{expandInitially:!0,header:"Manage mail recipients",children:(0,t.jsx)(Z,{})})]})})]})]})},43010:(e,r,n)=>{"use strict";n.d(r,{A:()=>b});var t=n(37876),i=n(45363),l=n(97422),a=n(7254),s=n(58939),o=n(76847),d=n(15681),u=n(14924),c=n(28893),m=n(35268),h=n(50046),p=n.n(h),x=n(14232),A=n(10595),g=n(41282),j=n(69146);let v=e=>(0,t.jsx)(s.A,{in:!0,children:(0,t.jsx)(u.A,{...e})}),f=(0,m.Ay)("ul")({padding:0}),y=o.A,b=e=>{let{componentsProps:r,extendRenderInput:n,getGroupLabel:s,label:o,ListboxProps:u,messageBoxProps:m,renderGroup:h,renderInput:b,required:C,sx:w,...M}=e,O=(0,x.useMemo)(()=>p()({paper:{sx:{backgroundColor:A.Qu,["& .".concat(i.A.groupLabel)]:{backgroundColor:A.Qu}}}},r),[r]),k=(0,x.useMemo)(()=>p()({sx:{["& .".concat(i.A.option)]:{'&[aria-selected="true"]':{backgroundColor:A.a$,["&.".concat(i.A.focused)]:{backgroundColor:A.a$}},["&.".concat(i.A.focused)]:{backgroundColor:A.a$}}}},u),[u]),F=(0,x.useMemo)(()=>h||s&&(e=>(0,t.jsxs)("li",{children:[(0,t.jsx)(y,{component:"div",className:i.A.groupLabel,children:s(e.group)}),(0,t.jsx)(f,{className:i.A.groupUl,children:e.children})]},e.key)),[s,h]),I=(0,x.useMemo)(()=>null!=b?b:e=>{let{fullWidth:r,InputProps:i,InputLabelProps:l,inputProps:a}=e,s={formControlProps:{fullWidth:r,ref:i.ref},inputLabelProps:l,inputProps:{className:i.className,endAdornment:i.endAdornment,inputProps:a,startAdornment:i.startAdornment,sx:{["& .".concat(d.A.input)]:{margin:0}}},label:o,required:C,value:a.value};return null==n||n.call(null,s,e),(0,t.jsx)(j.A,{...s})},[n,o,b,C]),U=(0,x.useMemo)(()=>p()({["& .".concat(d.A.root," .").concat(i.A.endAdornment)]:{right:"7px",["& .".concat(c.A.root)]:{color:A.Qu}}},w),[w]);return(0,t.jsxs)(a.A,{sx:{display:"flex",flexDirection:"column"},children:[(0,t.jsx)(l.A,{autoHighlight:!0,autoSelect:C,PaperComponent:v,...M,ListboxProps:k,renderGroup:F,renderInput:I,slotProps:O,sx:U}),(0,t.jsx)(g.A,{...m})]})}},43620:(e,r,n)=>{"use strict";n.d(r,{A:()=>w});var t=n(37876),i=n(11532),l=n(7227),a=n(83221),s=n(83911),o=n(50046),d=n.n(o),u=n(14232),c=n(10595),m=n(41282),h=n(77630),p=n(31381),x=n(36872),A=n(44725),g=n(77617),j=n(76759),v=n(91549),f=n(78175),y=n(96363),b=n(36269);let C=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let[i]=r,{onClearIndicatorClick:l,...a}=i,{sx:o,value:d,...m}=a,h=(0,u.useMemo)(()=>({["& .".concat(s.A.icon)]:{color:c.Qu},["& .".concat(y.A.root)]:{marginRight:".8em"},["& .".concat(g.A.root)]:{color:c.Qu,visibility:"hidden"},["&:hover .".concat(y.A.root," .").concat(g.A.root,",\n      &.").concat(v.A.focused," .").concat(y.A.root," .").concat(g.A.root)]:{visibility:"visible"},...o}),[o]),p=(0,u.useMemo)(()=>{if(d&&l)return(0,t.jsx)(b.A,{position:"end",children:(0,t.jsx)(j.A,{onClick:l,tabIndex:-1,children:(0,t.jsx)(A.A,{fontSize:"small"})})})},[l,d]);return(0,t.jsx)(f.A,{endAdornment:p,value:d,...m,sx:h})},w=function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];let[o]=r,{id:A,label:g,selectItems:j,checkItem:v,disableItem:f,formControlProps:y,hideItem:b,inputLabelProps:w={},isReadOnly:M=!1,messageBoxProps:O={},name:k,noOptionsText:F="No options",onBlur:I,onChange:U,onFocus:S,required:D,selectProps:{MenuProps:V,multiple:q,sx:E,...P}={},value:N,isCheckableItems:R=q}=o,L=(0,u.useMemo)(()=>M?d()({["& .".concat(s.A.icon)]:{visibility:"hidden"}},E):E,[M,E]),_=(0,u.useCallback)(e=>R&&(0,t.jsx)(i.A,{checked:null==v?void 0:v.call(null,e)}),[v,R]),W=(0,u.useCallback)((e,r)=>(0,t.jsxs)(h.A,{disabled:null==f?void 0:f.call(null,e),sx:{display:(null==b?void 0:b.call(null,e))?"none":void 0},value:e,children:[_(e),r]},"".concat(A,"-").concat(e)),[_,f,b,A]),Y=(0,u.useMemo)(()=>"".concat(A,"-select-element"),[A]),H=(0,u.useMemo)(()=>(0,t.jsx)(p.A,{id:A,label:g,required:D}),[A,g,D]),T=(0,u.useMemo)(()=>g&&(0,t.jsx)(x.A,{htmlFor:Y,...w,children:g}),[w,g,Y]),$=(0,u.useMemo)(()=>j.length?j.map(e=>{if("string"==typeof e)return W(e,e);let{value:r,displayValue:n=String(r)}=e;return W(r,n)}):(0,t.jsx)(h.A,{disabled:!0,children:F}),[W,F,j]),Z=(0,u.useMemo)(()=>d()({sx:{["& .".concat(a.A.paper)]:{backgroundColor:c.Qu}}},V),[V]);return(0,t.jsxs)(l.A,{fullWidth:!0,...y,children:[T,(0,t.jsx)(C,{id:Y,input:H,MenuProps:Z,multiple:q,name:k,onBlur:I,onChange:U,onFocus:S,readOnly:M,value:N,...P,sx:L,children:$}),(0,t.jsx)(m.A,{...O})]})}},69265:(e,r,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/mail-config",function(){return n(28944)}])},69397:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});let t=(e,r)=>{let n;try{n=Object.keys(e)}catch(e){n=[]}let t="function"==typeof r?r:()=>r;return n.reduce((r,n)=>{let{[n]:i}=e;return r[n]=t(n,i),r},{})}},77630:(e,r,n)=>{"use strict";n.d(r,{A:()=>s});var t=n(93621),i=n(93267),l=n(35268),a=n(10595);let s=(0,l.Ay)(t.A)({backgroundColor:a.Qu,paddingRight:"3em",["&.".concat(i.A.selected)]:{backgroundColor:a.a$,fontWeight:400,["&.".concat(i.A.focusVisible)]:{backgroundColor:a.a$},"&:hover":{backgroundColor:a.a$}},["&.".concat(i.A.focusVisible)]:{backgroundColor:a.a$},"&:hover":{backgroundColor:a.a$}})},86254:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});let t=e=>e.reduce((e,r)=>{let{anvilDescription:n,anvilName:t,anvilUUID:i,hosts:l}=r;return e[i]={description:n,hosts:l.reduce((e,r)=>{let{hostName:n,hostType:t,hostUUID:i,shortHostName:l}=r;return e[i]={name:n,short:l,type:t,uuid:i},e},{}),name:t,uuid:i},e},{})},91423:(e,r,n)=>{"use strict";let t;n.d(r,{A:()=>s});let i={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},l=new Uint8Array(16),a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));let s=function(e,r,n){if(i.randomUUID&&!r&&!e)return i.randomUUID();let s=(e=e||{}).random??e.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(l)}();if(s.length<16)throw Error("Random bytes length must be >= 16");if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,r){if((n=n||0)<0||n+16>r.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[n+e]=s[e];return r}return function(e,r=0){return(a[e[r+0]]+a[e[r+1]]+a[e[r+2]]+a[e[r+3]]+"-"+a[e[r+4]]+a[e[r+5]]+"-"+a[e[r+6]]+a[e[r+7]]+"-"+a[e[r+8]]+a[e[r+9]]+"-"+a[e[r+10]]+a[e[r+11]]+a[e[r+12]]+a[e[r+13]]+a[e[r+14]]+a[e[r+15]]).toLowerCase()}(s)}}},e=>{e.O(0,[347,766,845,107,422,632,337,577,466,446,636,593,792],()=>e(e.s=69265)),_N_E=e.O()}]);