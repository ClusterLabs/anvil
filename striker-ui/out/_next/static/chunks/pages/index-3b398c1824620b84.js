(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{667:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(37876),s=t(14232),i=t(12981),l=t(64410);let c=e=>{let{calculateItemBreakpoints:n=()=>({xs:1}),layout:t,wrapperBoxProps:c,...a}=e,o=(0,s.useMemo)(()=>Object.entries(t).map((e,t)=>{let[r,i]=e;return i?(0,s.createElement)(l.Ay,{...n(t,r),key:r,item:!0,...i}):void 0}),[n,t]);return(0,r.jsx)(i.A,{...c,children:(0,r.jsx)(l.Ay,{container:!0,...a,children:o})})}},16760:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(98947)}])},19659:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(37876),s=t(94760),i=t(54773),l=t(90890);let c=(0,i.Ay)(s.A)({color:l.a$,textDecorationColor:l.Qu}),a=e=>{let{children:n,...t}=e;return(0,r.jsx)(c,{underline:"always",variant:"subtitle1",...t,children:n})}},42658:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(37876),s=t(12981),i=t(54773),l=t(90890);let c="Decorator",a={ok:"".concat(c,"-ok"),warning:"".concat(c,"-warning"),error:"".concat(c,"-error"),off:"".concat(c,"-off")},o=(0,i.Ay)(s.A)({borderRadius:l.ax,height:"100%",width:"1.4em",["&.".concat(a.ok)]:{backgroundColor:l.ft},["&.".concat(a.warning)]:{backgroundColor:l.hr},["&.".concat(a.error)]:{backgroundColor:l.UH},["&.".concat(a.off)]:{backgroundColor:l.Qu}}),h=e=>{let{colour:n,...t}=e;return(0,r.jsx)(o,{...t,className:a[n]})}},98947:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>ep});var r=t(37876),s=t(12981),i=t(77328),l=t.n(i),c=t(14232),a=t(64410),o=t(2126),h=t(69647);let d=e=>{let{anvilStatus:n,anvil_name:t,anvil_uuid:r,hosts:s}=e;return{hosts:s.reduce((e,n)=>{let{host_name:t,host_uuid:r,maintenance_mode:s,server_count:i,state:l,state_percent:c}=n;return e[r]={name:t,maintenance:s,serverCount:i,state:l,stateProgress:c,uuid:r},e},{}),name:t,status:n,uuid:r}};var x=t(91322),j=t(19121),u=t(64632),m=t(90890);let A={offline:m.Qu,optimal:m.ft},y=e=>A[e]||m.hr,p={none:m.Qu,offline:m.Qu,optimal:m.ft,syncing:m.Qu},g=e=>p[e]||m.hr,v={offline:m.Qu,online:m.ft},f=e=>v[e]||m.hr;var w=t(30198),b=t(31465),k=t(79982),C=t(51677),S=t(71603),N=t(59664);let M=e=>{let{anvilUuid:n,refreshInterval:t=5e3}=e,{altData:s,loading:i}=(0,N.A)("/anvil/".concat(n),{mod:d,refreshInterval:t}),{data:l,loading:m}=(0,N.A)("/anvil/".concat(n,"/cpu"),{refreshInterval:t}),A=(0,c.useMemo)(()=>l&&Object.values(l.hosts),[l]),{altData:p,loading:v}=(0,N.A)("/anvil/".concat(n,"/memory"),{mod:x.A,refreshInterval:t}),{altData:M,loading:z}=(0,N.A)("/anvil/".concat(n,"/storage"),{mod:j.A,refreshInterval:t}),I=(0,c.useMemo)(()=>[i,m,v,z].some(e=>e),[i,m,v,z]),_=(0,c.useMemo)(()=>{if(!s)return;let{system:e}=s.status,n=y(e);return(0,r.jsx)(C.NA,{inheritColour:!0,color:n,children:e})},[s]),O=(0,c.useMemo)(()=>{let e;if(!s)return;let{maxEstimatedTimeToSync:n,status:t}=s.status.drbd,i=g(t);return n&&(e=(0,S.KN)(n)),(0,r.jsxs)(C.NA,{inheritColour:!0,color:i,children:[t,e&&" (estimated ~".concat(e,")")]})},[s]),W=(0,c.useMemo)(()=>s&&(0,r.jsx)(a.Ay,{columns:1,container:!0,children:Object.values(s.hosts).map(e=>{let{name:n,serverCount:t,state:s,stateProgress:i,uuid:l}=e,c=f(s),o=s;return["offline","online"].includes(s)||(o="".concat(s," (").concat(i,"%)")),(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,xs:"auto",children:(0,r.jsx)(C.a3,{variant:"caption",whiteSpace:"nowrap",children:n})}),(0,r.jsx)(a.Ay,{item:!0,xs:"auto",children:(0,r.jsx)(C.NA,{inheritColour:!0,color:c,children:o})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(w.A,{})}),(0,r.jsx)(a.Ay,{item:!0,xs:"auto",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columns:2,container:!0,width:"4em",children:[(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{variant:"caption",children:"Servers"})}),(0,r.jsx)(a.Ay,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,r.jsx)(C.NA,{variant:"caption",children:t})})]})})]},"subnode-".concat(l))})}),[s]),U=(0,c.useMemo)(()=>l&&A&&(0,r.jsxs)(b.A,{row:!0,rowSpacing:".5em",children:[(0,r.jsxs)(C.a3,{variant:"caption",whiteSpace:"nowrap",children:["Vendor"," ",(0,r.jsx)(C.kp,{sx:{paddingRight:0},children:A[0].vendor})]}),(0,r.jsx)(w.A,{sx:{flexGrow:1}}),(0,r.jsxs)(a.Ay,{alignItems:"center",columns:2,container:!0,width:"4em",children:[(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{variant:"caption",children:"Cores"})}),(0,r.jsx)(a.Ay,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,r.jsx)(C.NA,{variant:"caption",children:l.cores})}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{variant:"caption",children:"Threads"})}),(0,r.jsx)(a.Ay,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,r.jsx)(C.NA,{variant:"caption",children:l.threads})})]})]}),[l,A]),D=(0,c.useMemo)(()=>p&&(0,r.jsxs)(b.A,{spacing:0,children:[(0,r.jsx)(b.A,{row:!0,justifyContent:"flex-end",children:(0,r.jsxs)(C.a3,{variant:"caption",children:["Free",(0,r.jsx)(C.kp,{children:(0,h.zz)(p.available,{toUnit:"ibyte"})}),"/",(0,r.jsx)(C.kp,{edge:"end",children:(0,h.zz)(p.total,{toUnit:"ibyte"})})]})}),(0,r.jsx)(u.jk,{memory:p,thin:!0})]}),[p]),E=(0,c.useMemo)(()=>M&&(0,r.jsxs)(b.A,{spacing:0,children:[(0,r.jsx)(b.A,{row:!0,justifyContent:"flex-end",children:(0,r.jsxs)(C.a3,{variant:"caption",children:["Total free",(0,r.jsx)(C.kp,{children:(0,h.zz)(M.totalFree,{toUnit:"ibyte"})}),"/",(0,r.jsx)(C.kp,{edge:"end",children:(0,h.zz)(M.totalSize,{toUnit:"ibyte"})})]})}),(0,r.jsx)(u.Fn,{storages:M,thin:!0})]}),[M]);return I?(0,r.jsx)(k.A,{mt:0}):(0,r.jsxs)(a.Ay,{alignItems:"center",columns:4,container:!0,sx:{["& > .".concat(o.A.root,":nth-child(odd)")]:{alignItems:"center",display:"flex",height:"2.2em"}},children:[(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{children:"Status"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:_}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{children:"Replication"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:O}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{children:"Subnodes"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:W}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{children:"CPU"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:U}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{children:"Memory"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:D}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(C.a3,{children:"Storage"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:E})]})};var z=t(99327),I=t(667),_=t(19659),O=t(23437),W=t(14361);let U=e=>{let{refreshInterval:n=5e3}=e,{altData:t,loading:s,validating:i}=(0,N.A)("/anvil",{mod:z.A,refreshInterval:n}),l=(0,c.useMemo)(()=>t&&(0,r.jsx)(I.A,{alignContent:"stretch",layout:Object.values(t).reduce((e,t)=>{let{description:s,name:i,uuid:l}=t;return e["anvil-".concat(l)]={children:(0,r.jsxs)(O.t$,{mv:0,children:[(0,r.jsxs)(O.WJ,{children:[(0,r.jsx)(_.A,{href:"/anvil?name=".concat(i),noWrap:!0,children:i}),(0,r.jsx)(C.a3,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:s})]}),(0,r.jsx)(O.BF,{children:(0,r.jsx)(M,{anvilUuid:l,refreshInterval:n})})]}),maxWidth:{xs:"100%",md:"50%",lg:"calc(100% / 3)",xl:"25%"},minWidth:"24em",xs:!0},e},{}),spacing:"1em"}),[t,n]);return(0,r.jsxs)(O.Zk,{children:[(0,r.jsxs)(O.aO,{children:[(0,r.jsx)(C.HM,{children:"Nodes"}),(0,r.jsx)(W.A,{syncing:i})]}),s?(0,r.jsx)(k.A,{}):l]})};var D=t(56826),E=t(16652),P=t(56430),R=t(4917),H=t.n(R),T=t(53198),F=t(22481),Q=t(74503),Z=t(72015),B=t(5755),L=t(49210),J=t(64830),$=t(73460),G=t(54773),K=t(52076),V=t.n(K),X=t(78792),q=t(42658),Y=t(2690),ee=t(37422),en=t(98513);let et={running:"ok","shut off":"off",crashed:"error"},er=(0,G.Ay)(Y.i)(()=>({borderRadius:m.ax,height:"calc(".concat("3em"," * 0.8)"),width:"3em"})),es=(0,G.Ay)(Y.i)(()=>{let e="3.2em";return{height:e,margin:0,width:e}}),ei=e=>{var n;return null!=(n=et[e])?n:"warning"},el=e=>{let n,t,i,l,{servers:o,uuid:h}=e,d=o[h],x=(0,c.useMemo)(()=>X.A.states.blocking.includes(d.state),[d.state]),j=(0,c.useMemo)(()=>{if(d.jobs)return(0,r.jsx)(es,{children:Object.values(d.jobs).map((e,n)=>{let{peer:t,progress:s,uuid:i}=e;return(0,r.jsx)(ee.A,{slotProps:{box:{sx:{position:"absolute"}},pie:{size:"calc(2.8em - ".concat(1.5*n,"em)"),sx:{opacity:t?.6:void 0,["& .".concat($.A.circle)]:{strokeLinecap:"round"}},thickness:6},underline:{thickness:+!s}},value:s},"".concat(i,"-progress"))})})},[d.jobs]);return x?(n=(0,r.jsx)(a.Ay,{item:!0,children:j}),i=(0,r.jsx)(C.a3,{noWrap:!0,children:d.name}),l=(0,r.jsxs)(C.a3,{noWrap:!0,children:[V()(d.state),"..."]})):(n=(0,r.jsx)(a.Ay,{alignSelf:"stretch",item:!0,children:(0,r.jsx)(q.A,{colour:ei(d.state)})}),t=(0,r.jsx)(Y.lN,{server:d,slots:{screenshotBox:(0,r.jsx)(er,{})},slotProps:{screenshot:{sx:{fontSize:".6em"}}}}),i=(0,r.jsx)(_.A,{href:"/server?name=".concat(d.name),noWrap:!0,children:d.name}),l=(0,r.jsx)(C.a3,{noWrap:!0,children:V()(d.state)})),(0,r.jsxs)(a.Ay,{alignItems:"center",container:!0,spacing:"0.5em",children:[n,(0,r.jsx)(a.Ay,{item:!0,children:t}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsxs)(a.Ay,{container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:i}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:l})]})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsxs)(s.A,{children:[(0,r.jsx)(_.A,{href:"/anvil?name=".concat(d.anvil.name),noWrap:!0,children:d.anvil.name}),d.host&&(0,r.jsx)(C.a3,{noWrap:!0,children:d.host.short})]})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(en.A,{node:d.anvil,server:d,slotProps:{button:{slotProps:{button:{icon:{size:"small"}}}}}})})]})},ec=e=>{let{groups:n,servers:t}=e,{altData:s,loading:i}=(0,N.A)("/anvil",{mod:z.A}),l=(0,c.useMemo)(()=>s?Object.entries(n).reduce((e,n,i,l)=>{let[c,o]=n;return o.length&&(o.forEach(n=>{e.push((0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(el,{anvils:s,servers:t,uuid:n})},"".concat(n,"-summary")))}),i+1!==l.length&&e.push((0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(w.A,{orientation:"horizontal"})},"".concat(c,"-end")))),e},[]):[],[s,n,t]);return i?(0,r.jsx)(a.Ay,{container:!0,justifyContent:"center",spacing:"1em",children:(0,r.jsx)(k.A,{})}):(0,r.jsx)(a.Ay,{columns:{xs:1,md:2,lg:3,xl:4},container:!0,spacing:"1em",children:[...l]})},ea=(0,G.Ay)(Y.i)(e=>{let{theme:n}=e,t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return"calc(".concat(e," * 0.6)")};return{width:"100%",[n.breakpoints.up("xs")]:{height:t("100vw")},[n.breakpoints.up("sm")]:{height:t("50vw")},[n.breakpoints.up("md")]:{height:t("100vw / 3")},[n.breakpoints.up("lg")]:{height:t("25vw")},[n.breakpoints.up("xl")]:{height:t("100vw / 6")}}}),eo=e=>{let{server:n}=e,t=(0,c.useMemo)(()=>!n.jobs||Object.values(n.jobs).every(e=>100===e.progress),[n.jobs]);return(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(Y.wL,{getHeader:e=>{let{jobs:n,name:t}=e;return n?(0,r.jsx)(C.a3,{noWrap:!0,children:t}):(0,r.jsx)(_.A,{href:"/server?name=".concat(t),noWrap:!0,children:t})},server:n,showControls:t,children:(0,r.jsx)(Y.lN,{server:n,slots:{screenshotBox:(0,r.jsx)(ea,{})}})},"".concat(n.uuid,"-preview"))})},eh=e=>{let{groups:n,servers:t}=e,s=(0,c.useMemo)(()=>Object.entries(n).reduce((e,n,s,i)=>{let[l,c]=n;return c.length&&(c.forEach(n=>{let s=t[n];e.push((0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(eo,{server:s})},"".concat(n,"-panel")))}),s+1!==i.length&&e.push((0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(w.A,{orientation:"horizontal"})},"".concat(l,"-end")))),e},[]),[n,t]);return(0,r.jsx)(a.Ay,{columns:{xs:1,sm:2,md:3,lg:4,xl:6},container:!0,spacing:"1em",children:s})};var ed=t(4064);let ex=(e,n)=>{let t={match:[],none:[]};if(!e)return t;let r=Object.keys(e);return n?r.reduce((t,r)=>{let s=e[r],i=RegExp(n,"i"),l=JSON.stringify(s);return i.test(l)?t.match.push(r):t.none.push(r),t},t):t.none=r,t},ej=()=>{let e,[n,t]=(0,c.useState)(null),[i,l]=(0,c.useState)(),[o,h]=(0,c.useState)(""),{data:d,loading:x,error:j,validating:u}=(0,N.A)("/server",{refreshInterval:4e3,onSuccess:e=>{l(ex(e,o))}}),A=(0,c.useMemo)(()=>H()(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[,r=""]=n;h(r),l(ex(...n))},500),[]),y=(0,c.useMemo)(()=>{if(o&&(null==i||!i.match.length))return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(C.a3,{noWrap:!0,children:"No match"})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(w.A,{orientation:"horizontal"})})]})},[null==i?void 0:i.match.length,o]),p=(0,J.kL)();if(x)return(0,r.jsx)(O.Zk,{children:(0,r.jsx)(k.A,{mt:0})});if(!d||!i)return(0,r.jsx)(O.Zk,{children:(0,r.jsxs)(B.A,{type:"warning",children:["Couldn't get the list of servers. ",null==j?void 0:j.message]})});let g="preferences.servers.view";return e="list"===localStorage.getItem(g)?(0,r.jsx)(ec,{groups:i,servers:d}):(0,r.jsx)(eh,{groups:i,servers:d}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(O.Zk,{children:[(0,r.jsxs)(O.aO,{children:[(0,r.jsx)(C.HM,{children:"Servers"}),(0,r.jsx)(W.A,{syncing:u}),(0,r.jsxs)(s.A,{sx:{["&.".concat(P.A.root)]:{marginRight:".5em"}},children:[(0,r.jsx)(T.A,{onClick:e=>{t(e.currentTarget)},startIcon:(0,r.jsx)(D.A,{}),sx:{lineHeight:2},children:"View"}),(0,r.jsxs)(Q.A,{open:!!n,slotProps:{menu:{anchorEl:n,keepMounted:!0,onClose:()=>t(null)}},children:[(0,r.jsx)(Z.A,{onClick:()=>{localStorage.setItem(g,"previews"),t(null)},children:(0,r.jsx)(C.a3,{inheritColour:!0,children:"Previews"})}),(0,r.jsx)(Z.A,{onClick:()=>{localStorage.setItem(g,"list"),t(null)},children:(0,r.jsx)(C.a3,{inheritColour:!0,children:"List"})})]})]}),(0,r.jsx)(F.A,{mapPreset:"add",onClick:()=>{p.setOpen(!0)}}),(0,r.jsx)(ed.A,{input:(0,r.jsx)(L.A,{onChange:e=>{let{value:n}=e.target;A(d,n)},startAdornment:(0,r.jsx)(E.A,{sx:{color:m.eT,marginRight:".4em"}}),sx:{width:"20em"}})})]}),(0,r.jsxs)(a.Ay,{container:!0,spacing:"1em",children:[y,(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:e})]})]}),p.dialog]})};var eu=t(44981);let em=e=>{let{host:n,refreshInterval:t=5e3}=e,{altData:s,loading:i}=(0,N.A)("/host/".concat(n.uuid),{mod:eu.A,refreshInterval:t}),l=(0,c.useMemo)(()=>{if(!s)return;let{system:e}=s.status,n=f(e);return(0,r.jsx)(C.NA,{color:n,inheritColour:!0,children:e})},[s]),o=(0,c.useMemo)(()=>{let e;if(!s)return;let{maxEstimatedTimeToSync:n,status:t}=s.status.drbd,i=g(t);return n&&(e=(0,S.KN)(n)),(0,r.jsxs)(C.NA,{color:i,inheritColour:!0,children:[t,e&&" (estimated ~".concat(e,")")]})},[s]),d=(0,c.useMemo)(()=>{if(!s)return;let{configured:e,replicating:n,running:t}=s.servers;return(0,r.jsxs)(a.Ay,{alignItems:"center",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(C.a3,{variant:"caption",children:"Configured"})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(w.A,{})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(C.NA,{variant:"caption",children:e.length})})]})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(C.a3,{variant:"caption",children:"Syncing"})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(w.A,{})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(C.NA,{variant:"caption",children:n.length})})]})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(C.a3,{variant:"caption",children:"Running"})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(w.A,{})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(C.NA,{variant:"caption",children:t.length})})]})})]})},[s]),x=(0,c.useMemo)(()=>{if(!s)return;let{volumeGroupTotals:e}=s.storage,n=(0,h.zz)(e.free,{toUnit:"ibyte"}),t=(0,h.zz)(e.size,{toUnit:"ibyte"});return(0,r.jsxs)(a.Ay,{container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,xs:!0}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsxs)(C.a3,{variant:"caption",children:["Total free",(0,r.jsx)(C.kp,{children:n}),"/",(0,r.jsx)(C.kp,{edge:"end",children:t})]})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(u.Fn,{thin:!0,volume:e})})]})},[s]);return i?(0,r.jsx)(k.A,{mt:0}):(0,r.jsxs)(a.Ay,{alignItems:"center",container:!0,rowSpacing:"0.5em",children:[(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(C.a3,{children:"Status"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:l}),(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(C.a3,{children:"Replication"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:o}),(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(C.a3,{children:"Servers"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:d}),(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(C.a3,{children:"Storage"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:x})]})},eA=()=>{let{data:e,loading:n,validating:t}=(0,N.A)("/host?type=dr",{periodic:!0}),s=(0,c.useMemo)(()=>{if(!e)return;let n=Object.values(e);return(0,r.jsx)(a.Ay,{alignContent:"stretch",container:!0,spacing:"1em",children:n.map(e=>{let{shortHostName:n,hostUUID:t}=e;return(0,r.jsx)(a.Ay,{item:!0,maxWidth:{xs:"100%",md:"50%",lg:"calc(100% / 3)",xl:"25%"},minWidth:"24em",xs:!0,children:(0,r.jsxs)(O.t$,{mv:0,children:[(0,r.jsx)(O.WJ,{children:(0,r.jsx)(_.A,{href:"/host?name=".concat(n),noWrap:!0,children:n})}),(0,r.jsx)(O.BF,{children:(0,r.jsx)(em,{host:{short:n,uuid:t}})})]})},"dr-".concat(t))})})},[e]);return(0,r.jsxs)(O.Zk,{children:[(0,r.jsxs)(O.aO,{children:[(0,r.jsx)(C.HM,{children:"DR Hosts"}),(0,r.jsx)(W.A,{syncing:t})]}),n?(0,r.jsx)(k.A,{}):s]})};var ey=t(86732);let ep=()=>(0,r.jsxs)(s.A,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Dashboard"})}),(0,r.jsx)(ey.A,{}),(0,r.jsx)(ej,{}),(0,r.jsx)(U,{}),(0,r.jsx)(eA,{})]})},99327:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});let r=e=>e.reduce((e,n)=>{let{hostName:t,hostType:r,hostUUID:s,shortHostName:i}=n;return e[s]={name:t,short:i,type:r,uuid:s},e},{}),s=e=>e.reduce((e,n)=>{let{anvilDescription:t,anvilName:s,anvilUUID:i,hosts:l}=n;return e[i]={description:t,hosts:r(l),name:s,uuid:i},e},{})}},e=>{var n=n=>e(e.s=n);e.O(0,[325,208,3,925,623,164,133,732,223,109,215,636,593,792],()=>n(16760)),_N_E=e.O()}]);