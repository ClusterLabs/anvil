(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{16760:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(80628)}])},21710:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(37876),s=t(14232),i=t(7254),l=t(41316);let c=e=>{let{calculateItemBreakpoints:n=()=>({xs:1}),layout:t,wrapperBoxProps:c,...a}=e,o=(0,s.useMemo)(()=>Object.entries(t).map((e,t)=>{let[r,i]=e;return i?(0,s.createElement)(l.Ay,{...n(t,r),key:r,item:!0,...i}):void 0}),[n,t]);return(0,r.jsx)(i.A,{...c,children:(0,r.jsx)(l.Ay,{container:!0,...a,children:o})})}},56014:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(37876),s=t(9982),i=t(35268),l=t(10595);let c=(0,i.Ay)(s.A)({color:l.a$,textDecorationColor:l.Qu}),a=e=>{let{children:n,...t}=e;return(0,r.jsx)(c,{underline:"always",variant:"subtitle1",...t,children:n})}},73617:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(37876),s=t(7254),i=t(35268),l=t(10595);let c="Decorator",a={ok:"".concat(c,"-ok"),warning:"".concat(c,"-warning"),error:"".concat(c,"-error"),off:"".concat(c,"-off")},o=(0,i.Ay)(s.A)({borderRadius:l.ax,height:"100%",width:"1.4em",["&.".concat(a.ok)]:{backgroundColor:l.ft},["&.".concat(a.warning)]:{backgroundColor:l.hr},["&.".concat(a.error)]:{backgroundColor:l.UH},["&.".concat(a.off)]:{backgroundColor:l.Qu}}),h=e=>{let{colour:n,...t}=e;return(0,r.jsx)(o,{...t,className:a[n]})}},80628:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>ex});var r=t(37876),s=t(7254),i=t(77328),l=t.n(i),c=t(14232),a=t(41316),o=t(38317),h=t(69647);let d=e=>{let{anvilStatus:n,anvil_name:t,anvil_uuid:r,hosts:s}=e;return{hosts:s.reduce((e,n)=>{let{host_name:t,host_uuid:r,maintenance_mode:s,server_count:i,state:l,state_percent:c}=n;return e[r]={name:t,maintenance:s,serverCount:i,state:l,stateProgress:c,uuid:r},e},{}),name:t,status:n,uuid:r}};var x=t(62243),j=t(44082),m=t(98496),u=t(35781),A=t(28957),y=t(34318),p=t(11457),g=t(20795),v=t(16650),f=t(30827);let w=e=>{let{anvilUuid:n,refreshInterval:t=5e3}=e,{altData:s,loading:i}=(0,f.A)("/anvil/".concat(n),{mod:d,refreshInterval:t}),{data:l,loading:w}=(0,f.A)("/anvil/".concat(n,"/cpu"),{refreshInterval:t}),b=(0,c.useMemo)(()=>l&&Object.values(l.hosts),[l]),{altData:k,loading:C}=(0,f.A)("/anvil/".concat(n,"/memory"),{mod:x.A,refreshInterval:t}),{altData:S,loading:N}=(0,f.A)("/anvil/".concat(n,"/storage"),{mod:j.A,refreshInterval:t}),M=(0,c.useMemo)(()=>[i,w,C,N].some(e=>e),[i,w,C,N]),z=(0,c.useMemo)(()=>{if(!s)return;let{system:e}=s.status,n=(0,u.o3)(e);return(0,r.jsx)(g.NA,{inheritColour:!0,color:n,children:e})},[s]),I=(0,c.useMemo)(()=>{let e;if(!s)return;let{maxEstimatedTimeToSync:n,status:t}=s.status.drbd,i=(0,u.Wh)(t);return n&&(e=(0,v.KN)(n)),(0,r.jsxs)(g.NA,{inheritColour:!0,color:i,children:[t,e&&" (estimated ~".concat(e,")")]})},[s]),W=(0,c.useMemo)(()=>s&&(0,r.jsx)(a.Ay,{columns:1,container:!0,children:Object.values(s.hosts).map(e=>{let{name:n,serverCount:t,state:s,stateProgress:i,uuid:l}=e,c=(0,u.qg)(s),o=s;return["powered off","online"].includes(s)||(o="".concat(s," (").concat(i,"%)")),(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,xs:"auto",children:(0,r.jsx)(g.a3,{variant:"caption",whiteSpace:"nowrap",children:n})}),(0,r.jsx)(a.Ay,{item:!0,xs:"auto",children:(0,r.jsx)(g.NA,{inheritColour:!0,color:c,children:o})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(A.A,{})}),(0,r.jsx)(a.Ay,{item:!0,xs:"auto",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columns:2,container:!0,width:"4em",children:[(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{variant:"caption",children:"Servers"})}),(0,r.jsx)(a.Ay,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,r.jsx)(g.NA,{variant:"caption",children:t})})]})})]},"subnode-".concat(l))})}),[s]),_=(0,c.useMemo)(()=>l&&b&&(0,r.jsxs)(y.A,{row:!0,rowSpacing:".5em",children:[(0,r.jsxs)(g.a3,{variant:"caption",whiteSpace:"nowrap",children:["Vendor"," ",(0,r.jsx)(g.kp,{sx:{paddingRight:0},children:b[0].vendor})]}),(0,r.jsx)(A.A,{sx:{flexGrow:1}}),(0,r.jsxs)(a.Ay,{alignItems:"center",columns:2,container:!0,width:"4em",children:[(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{variant:"caption",children:"Cores"})}),(0,r.jsx)(a.Ay,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,r.jsx)(g.NA,{variant:"caption",children:l.cores})}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{variant:"caption",children:"Threads"})}),(0,r.jsx)(a.Ay,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,r.jsx)(g.NA,{variant:"caption",children:l.threads})})]})]}),[l,b]),O=(0,c.useMemo)(()=>k&&(0,r.jsxs)(y.A,{spacing:0,children:[(0,r.jsx)(y.A,{row:!0,justifyContent:"flex-end",children:(0,r.jsxs)(g.a3,{variant:"caption",children:["Free",(0,r.jsx)(g.kp,{children:(0,h.zz)(k.available,{toUnit:"ibyte"})}),"/",(0,r.jsx)(g.kp,{edge:"end",children:(0,h.zz)(k.total,{toUnit:"ibyte"})})]})}),(0,r.jsx)(m.jk,{memory:k,thin:!0})]}),[k]),U=(0,c.useMemo)(()=>S&&(0,r.jsxs)(y.A,{spacing:0,children:[(0,r.jsx)(y.A,{row:!0,justifyContent:"flex-end",children:(0,r.jsxs)(g.a3,{variant:"caption",children:["Total free",(0,r.jsx)(g.kp,{children:(0,h.zz)(S.totalFree,{toUnit:"ibyte"})}),"/",(0,r.jsx)(g.kp,{edge:"end",children:(0,h.zz)(S.totalSize,{toUnit:"ibyte"})})]})}),(0,r.jsx)(m.Fn,{storages:S,thin:!0})]}),[S]);return M?(0,r.jsx)(p.A,{mt:0}):(0,r.jsxs)(a.Ay,{alignItems:"center",columns:4,container:!0,sx:{["& > .".concat(o.A.root,":nth-child(odd)")]:{alignItems:"center",display:"flex",height:"2.2em"}},children:[(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{children:"Status"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:z}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{children:"Replication"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:I}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{children:"Subnodes"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:W}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{children:"CPU"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:_}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{children:"Memory"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:O}),(0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(g.a3,{children:"Storage"})}),(0,r.jsx)(a.Ay,{item:!0,xs:3,children:U})]})};var b=t(86254),k=t(21710),C=t(56014),S=t(35755),N=t(38750);let M=e=>{let{refreshInterval:n=5e3}=e,{altData:t,loading:s,validating:i}=(0,f.A)("/anvil",{mod:b.A,refreshInterval:n}),l=(0,c.useMemo)(()=>t&&(0,r.jsx)(k.A,{alignContent:"stretch",layout:Object.values(t).reduce((e,t)=>{let{description:s,name:i,uuid:l}=t;return e["anvil-".concat(l)]={children:(0,r.jsxs)(S.t$,{mv:0,children:[(0,r.jsxs)(S.WJ,{children:[(0,r.jsx)(C.A,{href:"/anvil?name=".concat(i),noWrap:!0,children:i}),(0,r.jsx)(g.a3,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:s})]}),(0,r.jsx)(S.BF,{children:(0,r.jsx)(w,{anvilUuid:l,refreshInterval:n})})]}),maxWidth:{xs:"100%",md:"50%",lg:"calc(100% / 3)",xl:"25%"},minWidth:"24em",xs:!0},e},{}),spacing:"1em"}),[t,n]);return(0,r.jsxs)(S.Zk,{children:[(0,r.jsxs)(S.aO,{children:[(0,r.jsx)(g.HM,{children:"Nodes"}),(0,r.jsx)(N.A,{syncing:i})]}),s?(0,r.jsx)(p.A,{}):l]})};var z=t(53701),I=t(88787),W=t(3293),_=t(4917),O=t.n(_),U=t(10595),D=t(89121),E=t(92144),P=t(12882),R=t(77630),H=t(40038),T=t(31381),F=t(77782),Z=t(70099),B=t(35268),L=t(52076),J=t.n(L),$=t(72271),q=t(73617),G=t(77913),K=t(39393),Q=t(27038);let V={running:"ok","shut off":"off",crashed:"error"},X=(0,B.Ay)(G.i)(()=>({borderRadius:U.ax,height:"calc(".concat("3em"," * 0.8)"),width:"3em"})),Y=(0,B.Ay)(G.i)(()=>{let e="3.2em";return{height:e,margin:0,width:e}}),ee=e=>{let n,t,i,l,{servers:o,uuid:h}=e,d=o[h],x=(0,c.useMemo)(()=>$.A.states.blocking.includes(d.state),[d.state]),j=(0,c.useMemo)(()=>{if(d.jobs)return(0,r.jsx)(Y,{children:Object.values(d.jobs).map((e,n)=>{let{peer:t,progress:s,uuid:i}=e;return(0,r.jsx)(K.A,{slotProps:{box:{sx:{position:"absolute"}},pie:{size:"calc(2.8em - ".concat(1.5*n,"em)"),sx:{opacity:t?.6:void 0,["& .".concat(Z.A.circle)]:{strokeLinecap:"round"}},thickness:6},underline:{thickness:+!s}},value:s},"".concat(i,"-progress"))})})},[d.jobs]);return x?(n=(0,r.jsx)(a.Ay,{item:!0,children:j}),i=(0,r.jsx)(g.a3,{noWrap:!0,children:d.name}),l=(0,r.jsxs)(g.a3,{noWrap:!0,children:[J()(d.state),"..."]})):(n=(0,r.jsx)(a.Ay,{alignSelf:"stretch",item:!0,children:(0,r.jsx)(q.A,{colour:(e=>{var n;return null!=(n=V[e])?n:"warning"})(d.state)})}),t=(0,r.jsx)(G.lN,{server:d,slots:{screenshotBox:(0,r.jsx)(X,{})},slotProps:{screenshot:{sx:{fontSize:".6em"}}}}),i=(0,r.jsx)(C.A,{href:"/server?name=".concat(d.name),noWrap:!0,children:d.name}),l=(0,r.jsx)(g.a3,{noWrap:!0,children:J()(d.state)})),(0,r.jsxs)(a.Ay,{alignItems:"center",container:!0,spacing:"0.5em",children:[n,(0,r.jsx)(a.Ay,{item:!0,children:t}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsxs)(a.Ay,{container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:i}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:l})]})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsxs)(s.A,{children:[(0,r.jsx)(C.A,{href:"/anvil?name=".concat(d.anvil.name),noWrap:!0,children:d.anvil.name}),d.host&&(0,r.jsx)(g.a3,{noWrap:!0,children:d.host.short})]})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(Q.A,{node:d.anvil,server:d,slotProps:{button:{slotProps:{button:{icon:{size:"small"}}}}}})})]})},en=e=>{let{groups:n,servers:t}=e,{altData:s,loading:i}=(0,f.A)("/anvil",{mod:b.A}),l=(0,c.useMemo)(()=>s?Object.entries(n).reduce((e,n,i,l)=>{let[c,o]=n;return o.length&&(o.forEach(n=>{e.push((0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(ee,{anvils:s,servers:t,uuid:n})},"".concat(n,"-summary")))}),i+1!==l.length&&e.push((0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(A.A,{orientation:"horizontal"})},"".concat(c,"-end")))),e},[]):[],[s,n,t]);return i?(0,r.jsx)(a.Ay,{container:!0,justifyContent:"center",spacing:"1em",children:(0,r.jsx)(p.A,{})}):(0,r.jsxs)(a.Ay,{columns:{xs:1,md:2,lg:3,xl:4},container:!0,spacing:"1em",children:[...l]})},et=(0,B.Ay)(G.i)(e=>{let{theme:n}=e,t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return"calc(".concat(e," * 0.6)")};return{width:"100%",[n.breakpoints.up("xs")]:{height:t("100vw")},[n.breakpoints.up("sm")]:{height:t("50vw")},[n.breakpoints.up("md")]:{height:t("100vw / 3")},[n.breakpoints.up("lg")]:{height:t("25vw")},[n.breakpoints.up("xl")]:{height:t("100vw / 6")}}}),er=e=>{let{server:n}=e,t=(0,c.useMemo)(()=>!n.jobs||Object.values(n.jobs).every(e=>100===e.progress),[n.jobs]);return(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(G.wL,{getHeader:e=>{let{jobs:n,name:t}=e;return n?(0,r.jsx)(g.a3,{noWrap:!0,children:t}):(0,r.jsx)(C.A,{href:"/server?name=".concat(t),noWrap:!0,children:t})},server:n,showControls:t,children:(0,r.jsx)(G.lN,{server:n,slots:{screenshotBox:(0,r.jsx)(et,{})}})},"".concat(n.uuid,"-preview"))})},es=e=>{let{groups:n,servers:t}=e,s=(0,c.useMemo)(()=>Object.entries(n).reduce((e,n,s,i)=>{let[l,c]=n;return c.length&&(c.forEach(n=>{let s=t[n];e.push((0,r.jsx)(a.Ay,{item:!0,xs:1,children:(0,r.jsx)(er,{server:s})},"".concat(n,"-panel")))}),s+1!==i.length&&e.push((0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(A.A,{orientation:"horizontal"})},"".concat(l,"-end")))),e},[]),[n,t]);return(0,r.jsx)(a.Ay,{columns:{xs:1,sm:2,md:3,lg:4,xl:6},container:!0,spacing:"1em",children:s})};var ei=t(88259);let el=(e,n)=>{let t={match:[],none:[]};if(!e)return t;let r=Object.keys(e);return n?r.reduce((t,r)=>{let s=e[r],i=RegExp(n,"i"),l=JSON.stringify(s);return i.test(l)?t.match.push(r):t.none.push(r),t},t):t.none=r,t},ec=()=>{let e,[n,t]=(0,c.useState)(null),[i,l]=(0,c.useState)(),[o,h]=(0,c.useState)(""),{data:d,loading:x,error:j,validating:m}=(0,f.A)("/server",{refreshInterval:4e3,onSuccess:e=>{l(el(e,o))}}),u=(0,c.useMemo)(()=>O()(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[,r=""]=n;h(r),l(el(...n))},500),[]),y=(0,c.useMemo)(()=>{if(o&&(null==i||!i.match.length))return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(g.a3,{noWrap:!0,children:"No match"})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(A.A,{orientation:"horizontal"})})]})},[null==i?void 0:i.match.length,o]),v=(0,F.kL)();if(x)return(0,r.jsx)(S.Zk,{children:(0,r.jsx)(p.A,{mt:0})});if(!d||!i)return(0,r.jsx)(S.Zk,{children:(0,r.jsxs)(H.A,{type:"warning",children:["Couldn't get the list of servers. ",null==j?void 0:j.message]})});let w="preferences.servers.view";return e="list"===localStorage.getItem(w)?(0,r.jsx)(en,{groups:i,servers:d}):(0,r.jsx)(es,{groups:i,servers:d}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(S.Zk,{children:[(0,r.jsxs)(S.aO,{children:[(0,r.jsx)(g.HM,{children:"Servers"}),(0,r.jsx)(N.A,{syncing:m}),(0,r.jsxs)(s.A,{sx:{["&.".concat(W.A.root)]:{marginRight:".5em"}},children:[(0,r.jsx)(D.A,{onClick:e=>{t(e.currentTarget)},startIcon:(0,r.jsx)(z.A,{}),sx:{lineHeight:2},children:"View"}),(0,r.jsxs)(P.A,{open:!!n,slotProps:{menu:{anchorEl:n,keepMounted:!0,onClose:()=>t(null)}},children:[(0,r.jsx)(R.A,{onClick:()=>{localStorage.setItem(w,"previews"),t(null)},children:(0,r.jsx)(g.a3,{inheritColour:!0,children:"Previews"})}),(0,r.jsx)(R.A,{onClick:()=>{localStorage.setItem(w,"list"),t(null)},children:(0,r.jsx)(g.a3,{inheritColour:!0,children:"List"})})]})]}),(0,r.jsx)(E.A,{mapPreset:"add",onClick:()=>{v.setOpen(!0)}}),(0,r.jsx)(ei.A,{input:(0,r.jsx)(T.A,{onChange:e=>{let{value:n}=e.target;u(d,n)},startAdornment:(0,r.jsx)(I.A,{sx:{color:U.eT,marginRight:".4em"}}),sx:{width:"20em"}})})]}),(0,r.jsxs)(a.Ay,{container:!0,spacing:"1em",children:[y,(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:e})]})]}),v.dialog]})};var ea=t(19284);let eo=e=>{let{host:n,refreshInterval:t=5e3}=e,{altData:s,loading:i}=(0,f.A)("/host/".concat(n.uuid),{mod:ea.A,refreshInterval:t}),l=(0,c.useMemo)(()=>{if(!s)return;let{system:e}=s.status,n=(0,u.qg)(e);return(0,r.jsx)(g.NA,{color:n,inheritColour:!0,children:e})},[s]),o=(0,c.useMemo)(()=>{let e;if(!s)return;let{maxEstimatedTimeToSync:n,status:t}=s.status.drbd,i=(0,u.Wh)(t);return n&&(e=(0,v.KN)(n)),(0,r.jsxs)(g.NA,{color:i,inheritColour:!0,children:[t,e&&" (estimated ~".concat(e,")")]})},[s]),d=(0,c.useMemo)(()=>{if(!s)return;let{configured:e,replicating:n,running:t}=s.servers;return(0,r.jsxs)(a.Ay,{alignItems:"center",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(g.a3,{variant:"caption",children:"Configured"})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(A.A,{})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(g.NA,{variant:"caption",children:e.length})})]})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(g.a3,{variant:"caption",children:"Syncing"})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(A.A,{})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(g.NA,{variant:"caption",children:n.length})})]})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(a.Ay,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(g.a3,{variant:"caption",children:"Running"})}),(0,r.jsx)(a.Ay,{item:!0,xs:!0,children:(0,r.jsx)(A.A,{})}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsx)(g.NA,{variant:"caption",children:t.length})})]})})]})},[s]),x=(0,c.useMemo)(()=>{if(!s)return;let{volumeGroupTotals:e}=s.storage,n=(0,h.zz)(e.free,{toUnit:"ibyte"}),t=(0,h.zz)(e.size,{toUnit:"ibyte"});return(0,r.jsxs)(a.Ay,{container:!0,children:[(0,r.jsx)(a.Ay,{item:!0,xs:!0}),(0,r.jsx)(a.Ay,{item:!0,children:(0,r.jsxs)(g.a3,{variant:"caption",children:["Total free",(0,r.jsx)(g.kp,{children:n}),"/",(0,r.jsx)(g.kp,{edge:"end",children:t})]})}),(0,r.jsx)(a.Ay,{item:!0,width:"100%",children:(0,r.jsx)(m.Fn,{thin:!0,volume:e})})]})},[s]);return i?(0,r.jsx)(p.A,{mt:0}):(0,r.jsxs)(a.Ay,{alignItems:"center",container:!0,rowSpacing:"0.5em",children:[(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(g.a3,{children:"Status"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:l}),(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(g.a3,{children:"Replication"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:o}),(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(g.a3,{children:"Servers"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:d}),(0,r.jsx)(a.Ay,{item:!0,width:"25%",children:(0,r.jsx)(g.a3,{children:"Storage"})}),(0,r.jsx)(a.Ay,{item:!0,width:"75%",children:x})]})},eh=()=>{let{data:e,loading:n,validating:t}=(0,f.A)("/host?type=dr",{periodic:!0}),s=(0,c.useMemo)(()=>{if(!e)return;let n=Object.values(e);return(0,r.jsx)(a.Ay,{alignContent:"stretch",container:!0,spacing:"1em",children:n.map(e=>{let{shortHostName:n,hostUUID:t}=e;return(0,r.jsx)(a.Ay,{item:!0,maxWidth:{xs:"100%",md:"50%",lg:"calc(100% / 3)",xl:"25%"},minWidth:"24em",xs:!0,children:(0,r.jsxs)(S.t$,{mv:0,children:[(0,r.jsx)(S.WJ,{children:(0,r.jsx)(C.A,{href:"/host?name=".concat(n),noWrap:!0,children:n})}),(0,r.jsx)(S.BF,{children:(0,r.jsx)(eo,{host:{short:n,uuid:t}})})]})},"dr-".concat(t))})})},[e]);return(0,r.jsxs)(S.Zk,{children:[(0,r.jsxs)(S.aO,{children:[(0,r.jsx)(g.HM,{children:"DR Hosts"}),(0,r.jsx)(N.A,{syncing:t})]}),n?(0,r.jsx)(p.A,{}):s]})};var ed=t(88577);let ex=()=>(0,r.jsxs)(s.A,{children:[(0,r.jsx)(l(),{children:(0,r.jsx)("title",{children:"Dashboard"})}),(0,r.jsx)(ed.A,{}),(0,r.jsx)(ec,{}),(0,r.jsx)(M,{}),(0,r.jsx)(eh,{})]})},86254:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});let r=e=>e.reduce((e,n)=>{let{anvilDescription:t,anvilName:r,anvilUUID:s,hosts:i}=n;return e[s]={description:t,hosts:i.reduce((e,n)=>{let{hostName:t,hostType:r,hostUUID:s,shortHostName:i}=n;return e[s]={name:t,short:i,type:r,uuid:s},e},{}),name:r,uuid:s},e},{})}},e=>{e.O(0,[347,766,845,107,422,770,337,577,466,292,552,636,593,792],()=>e(e.s=16760)),_N_E=e.O()}]);