(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[570],{656:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=(e,t,n)=>{let r,{query:s}=e;if(void 0===n){let{[t]:e,...n}=s;r=n}else r={...s,[t]:n};return r}},13920:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var r=n(37876),s=n(7254),a=n(60999),o=n(80963),i=n(40123),l=n.n(i),c=n(65532),d=n(89889),u=n(34318),h=n(20795);let m=e=>{let{entry:t}=e;return(0,r.jsx)(h.NA,{whiteSpace:"nowrap",children:String(t)})},x=e=>{let{entry:t,hasPassword:n}=e;return(e=>null==e||"object"==typeof e&&l()(e)||"number"==typeof e&&!Number.isFinite(e)||"string"==typeof e&&0===e.trim().length)(t)?(0,r.jsx)(h.a3,{children:"none"}):n?(e=>{let{entry:t,key:n}=e;return c.sX.test(n)?(0,r.jsx)(h.EN,{wrapper:"mono",children:String(t)}):m(e)})(e):m(e)},p=e=>{let{depth:t,entry:n,getLabel:a,hasPassword:o,key:i,nest:l,renderValue:c}=e;return(0,r.jsxs)(u.A,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,r.jsx)(h.a3,{children:a({cap:d.A,depth:t,entry:n,hasPassword:o,key:i})}),(0,r.jsx)(s.A,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!l&&c(x,{depth:t,entry:n,hasPassword:o,key:i})})]})},v=e=>{let{key:t}=e;return/confirm|uuid/i.test(t)},g=e=>{let{depth:t=0,entries:n,getEntryLabel:s,getListProps:i,getListItemProps:c,hasPassword:d,listKey:u,maxDepth:h,renderEntry:m,renderEntryValue:x,skip:p}=e,j=[];Object.entries(n).forEach(e=>{let[n,a]=e,i="form-summary-entry-".concat(n),u=(e=>null!==e&&"object"==typeof e&&!l()(e))(a),A=u?null:a,f={depth:t,entry:A,hasPassword:d,key:n};p(v,f)||j.push((0,r.jsx)(o.Ay,{sx:{paddingLeft:"".concat(t,"em")},...null==c?void 0:c.call(null,f),children:m({depth:t,entry:A,getLabel:s,hasPassword:d,key:n,nest:u,renderValue:x})},i)),u&&t<h&&j.push(g({depth:t+1,entries:a,getEntryLabel:s,hasPassword:d,listKey:n,maxDepth:h,renderEntry:m,renderEntryValue:x,skip:p}))});let A="form-summary-list-".concat(null!=u?u:"root");return(0,r.jsx)(a.A,{dense:!0,disablePadding:!0,...null==i?void 0:i.call(null,{depth:t,entries:n,key:u}),children:j},A)},j=e=>{let{entries:t,getEntryLabel:n=e=>{let{cap:t,key:n}=e;return t(n)},getListProps:r,getListItemProps:s,hasPassword:a=!1,maxDepth:o=3,renderEntry:i=p,renderEntryValue:l=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)},skip:c=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e(...n)}}=e;return g({entries:t,getEntryLabel:n,getListProps:r,getListItemProps:s,hasPassword:a,maxDepth:o,renderEntry:i,renderEntryValue:l,skip:c})}},20035:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>e$});var r=n(37876),s=n(7254),a=n(35268),o=n(77328),i=n.n(o),l=n(89099),c=n(14232),d=n(10595);let u=(0,c.createContext)({uuid:""}),h=e=>{let{children:t}=e,[n,s]=(0,c.useState)(""),a=(0,c.useMemo)(()=>({uuid:n,setAnvilUuid:e=>{e!==n&&s(e)}}),[n]);return(0,r.jsx)(u.Provider,{value:a,children:t})};var m=n(7579),x=n(60999),p=n(5723);let v=new Map([["degraded","Degraded"],["optimal","Optimal"],["offline","Offline"]]);var g=n(20795);let j=e=>{var t;let{anvil:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.a3,{text:n.anvil_name}),(0,r.jsx)(g.a3,{text:null!=(t=v.get(n.anvilStatus.system))?t:"State unavailable"})]})};var A=n(73617),f=n(656);let b="AnvilList",w={root:"".concat(b,"-root"),divider:"".concat(b,"-divider"),button:"".concat(b,"-button"),anvil:"".concat(b,"-anvil")},y=(0,a.Ay)("div")(e=>{let{theme:t}=e;return{["& .".concat(w.root)]:{width:"100%",overflow:"auto",height:"30vh",paddingRight:".3em",[t.breakpoints.down(d.NF)]:{height:"100%",overflow:"hidden"}},["& .".concat(w.divider)]:{backgroundColor:d.eT},["& .".concat(w.button)]:{"&:hover":{backgroundColor:d.l6},paddingLeft:0},["& .".concat(w.anvil)]:{paddingLeft:0}}}),k=e=>{let{list:t}=e,n=(0,l.useRouter)();return(0,r.jsx)(y,{children:(0,r.jsx)(x.A,{component:"nav",className:w.root,"aria-label":"mailbox folders",children:t.map(e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(m.A,{className:w.divider}),(0,r.jsx)(p.A,{className:w.button,onClick:()=>{let t=(0,f.A)(n,"name",e.anvil_name);n.replace({query:t},void 0,{shallow:!0})},children:(0,r.jsxs)(s.A,{display:"flex",flexDirection:"row",width:"100%",children:[(0,r.jsx)(s.A,{p:1,children:(0,r.jsx)(A.A,{colour:(e=>{switch(e){case"optimal":return"ok";case"degraded":return"warning";default:return"off"}})(e.anvilStatus.system)})}),(0,r.jsx)(s.A,{p:1,flexGrow:1,className:w.anvil,children:(0,r.jsx)(j,{anvil:e})})]})},e.anvil_uuid)]}))})})};var _=n(35755),C=n(51553),N=n(52076),S=n.n(N),T=n(28850),F=n(74235),M=n(11457),P=n(61931);let O={anvilName:"".concat("SelectedAnvil","-anvilName")},B=(0,a.Ay)(s.A)(()=>({display:"flex",flexDirection:"row",width:"100%",["& .".concat(O.anvilName)]:{paddingLeft:0}})),z=e=>-1!==e.hosts.findIndex(e=>{let{state:t}=e;return"powered off"!==t}),D=e=>{var t;let{list:n}=e,{uuid:a}=(0,c.useContext)(u),o=(0,c.useMemo)(()=>n.findIndex(e=>e.anvil_uuid===a),[n,a]),i=n[o],{confirmDialog:l,finishConfirm:d,setConfirmDialogLoading:h,setConfirmDialogOpen:m,setConfirmDialogProps:x}=(0,P.A)();return i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(B,{children:[(0,r.jsx)(s.A,{p:1,children:(0,r.jsx)(A.A,{colour:(e=>{switch(e){case"optimal":return"ok";case"degraded":return"warning";default:return"off"}})(i.anvilStatus.system)})}),(0,r.jsxs)(s.A,{p:1,flexGrow:1,className:O.anvilName,children:[(0,r.jsx)(g.HM,{text:i.anvil_name}),(0,r.jsx)(g.HM,{text:null!=(t=v.get(i.anvilStatus.system))?t:"State unavailable"})]}),(0,r.jsx)(s.A,{p:1,children:(0,r.jsx)(C.A,{checked:z(i),onChange:()=>{let e,{[o]:t}=n,{anvil_name:s,anvil_uuid:a}=t,i="start",l="blue";z(t)&&(i="stop",e="Servers hosted on this node will be shut down!",l="red");let c="".concat(i,"-an"),u=S()(i);x({actionProceedText:u,content:e,onProceedAppend:()=>{h(!0),T.A.put("/command/".concat(c,"/").concat(a)).then(()=>{d("Success",{children:(0,r.jsx)(r.Fragment,{children:"Successfully registered power job."})})}).catch(e=>{let t=(0,F.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to register power job. ",t.children]}),d("Error",t)})},proceedColour:l,titleText:"".concat(u," ").concat(s,"?")}),m(!0)}})})]}),l]}):(0,r.jsx)(M.A,{})};var G=n(30827);let L=e=>{let{anvil:t,anvils:n}=e;return(0,G.A)("/anvil/".concat(t.anvil_uuid),{onSuccess:e=>{let r=n.value.findIndex(e=>e.anvil_uuid===t.anvil_uuid);if(-1===r)return void n.set(n=>[...n,{...t,...e}]);n.set(t=>{let n=[...t];return n[r]={...n[r],...e},n})},periodic:!0}),(0,r.jsx)(s.A,{display:"none"})},R=e=>{let{list:t}=e,[n,s]=(0,c.useState)([]),a=(0,c.useMemo)(()=>t.anvils.map(e=>(0,r.jsx)(L,{anvil:e,anvils:{set:s,value:n}},"".concat(e.anvil_uuid,"-fetcher"))),[n,t.anvils]);return(0,r.jsxs)(_.Zk,{children:[a,(0,r.jsx)(D,{list:n}),(0,r.jsx)(k,{list:n})]})};var I=n(34318);let E=()=>{let{uuid:e}=(0,c.useContext)(u),{data:{allocated:t=0,cores:n=0,threads:s=0}={},loading:a}=(0,G.A)("/anvil/".concat(e,"/cpu"),{periodic:!0}),o=(0,c.useMemo)(()=>a?(0,r.jsx)(M.A,{}):(0,r.jsxs)(I.A,{spacing:0,children:[(0,r.jsx)(g.a3,{text:"Total Cores: ".concat(n)}),(0,r.jsx)(g.a3,{text:"Total Threads: ".concat(s)}),(0,r.jsx)(g.a3,{text:"Allocated Cores: ".concat(t)})]}),[t,n,a,s]);return(0,r.jsxs)(_.Zk,{children:[(0,r.jsx)(_.aO,{children:(0,r.jsx)(g.HM,{text:"CPU"})}),o]})};var U=n(49508);let Z=new Map([["message_0222","The subnode is in an unknown state."],["message_0223","The subnode is a full cluster member."],["message_0224","The subnode is coming online; the cluster resource manager is running (step 2/3)."],["message_0225","The subnode is coming online; the subnode is a consensus cluster member (step 1/3)."],["message_0226","The subnode has booted, but it is not (yet) joining the cluster."]]);var H=n(98496);let W="AnvilHost",X={state:"".concat(W,"-state"),bar:"".concat(W,"-bar"),label:"".concat(W,"-label"),decoratorBox:"".concat(W,"-decoratorBox")},q=(0,a.Ay)(s.A)(e=>{let{theme:t}=e;return{overflow:"auto",height:"28vh",paddingLeft:".3em",paddingRight:".3em",[t.breakpoints.down(d.NF)]:{height:"100%",overflow:"hidden"},["& .".concat(X.state)]:{paddingLeft:".7em",paddingRight:".7em"},["& .".concat(X.bar)]:{paddingLeft:".7em",paddingRight:".7em"},["& .".concat(X.label)]:{paddingTop:".3em"},["& .".concat(X.decoratorBox)]:{alignSelf:"stretch"}}}),$=e=>{let{hosts:t}=e,n=/^[a-zA-Z]/,a=/^(message_[0-9]+)/,{confirmDialog:o,finishConfirm:i,setConfirmDialogLoading:l,setConfirmDialogOpen:c,setConfirmDialogProps:d}=(0,P.A)();return t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(q,{children:t.map(e=>{var t;if(!e)return;let o="online"===e.state,u="powered off"===e.state,h=!u;return(0,r.jsxs)(_.t$,{children:[(0,r.jsxs)(_.WJ,{children:[(0,r.jsx)(s.A,{flexGrow:1,children:(0,r.jsx)(g.a3,{text:e.host_name})}),(0,r.jsx)(s.A,{className:X.decoratorBox,children:(0,r.jsx)(A.A,{colour:(e=>{switch(e){case"online":return"ok";case"powered off":return"off";default:return"warning"}})(e.state)})}),(0,r.jsx)(s.A,{children:(0,r.jsx)(g.a3,{text:(null==e||null==(t=e.state)?void 0:t.replace(n,e=>e.toUpperCase()))||"Not Available"})})]}),(0,r.jsxs)(s.A,{display:"flex",className:X.state,children:[(0,r.jsx)(s.A,{className:X.label,children:(0,r.jsx)(g.a3,{text:"Power: "})}),(0,r.jsx)(s.A,{flexGrow:1,children:(0,r.jsx)(C.A,{checked:h,onChange:()=>{let t=h?"stop":"start",n="".concat(t,"-subnode"),s=S()(t);d({actionProceedText:s,content:"start"===t?(0,r.jsx)(g.a3,{children:"The subnode will be powered on with IPMI commands."}):(0,r.jsxs)(I.A,{children:[(0,r.jsx)(g.a3,{children:"The subnode will be powered off."}),(0,r.jsx)(g.a3,{children:e.server_count?(0,r.jsxs)(r.Fragment,{children:["All ",e.server_count," servers on this subnode will be migrated to the peer subnode if possible. Otherwise, the servers will be shut down."]}):(0,r.jsx)(r.Fragment,{children:"No servers are on this subnode."})})]}),onProceedAppend:()=>{l(!0),T.A.put("/command/".concat(n,"/").concat(e.host_uuid)).then(()=>{i("Success",{children:(0,r.jsx)(r.Fragment,{children:"Successfully registered power job."})})}).catch(e=>{let t=(0,F.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to register power job. ",t.children]}),i("Error",t)})},titleText:"".concat(s," ").concat(e.host_name,"?")}),c(!0)}})}),(0,r.jsx)(s.A,{className:X.label,children:(0,r.jsx)(g.a3,{text:"Member: "})}),(0,r.jsx)(s.A,{children:(0,r.jsx)(C.A,{checked:o,disabled:u,onChange:()=>{let t=o?"leave":"join",n="".concat(t,"-an"),s=S()(t);d({actionProceedText:s,content:"leave"===t?(0,r.jsxs)(I.A,{children:[(0,r.jsx)(g.a3,{children:"The subnode will be withdrawn from its cluster and servers will be migrated as necessary."}),(0,r.jsx)(g.a3,{children:"The operation is reversible. You can tell it to join the cluster again later."})]}):(0,r.jsxs)(I.A,{children:[(0,r.jsx)(g.a3,{children:"The subnode will join the cluster it belongs to."}),(0,r.jsx)(g.a3,{children:"The operation is reversible. You can tell it to withdraw from the cluster again later."})]}),onProceedAppend:()=>{l(!0),T.A.put("/command/".concat(n,"/").concat(e.host_uuid)).then(()=>{i("Success",{children:(0,r.jsx)(r.Fragment,{children:"Successfully registered cluster membership job."})})}).catch(e=>{let t=(0,F.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to register cluster memebership job."," ",t.children]}),i("Error",t)})},titleText:"".concat(s," cluster on ").concat(e.host_name,"?")}),c(!0)}})})]}),!o&&h&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{display:"flex",width:"100%",className:X.state,children:(0,r.jsx)(s.A,{children:(0,r.jsx)(g.a3,{text:((e,t)=>{let n=e.exec(t);return n?Z.get(n[0])||"Error code not recognized":null})(a,e.state_message)})})}),(0,r.jsx)(s.A,{display:"flex",width:"100%",className:X.bar,children:(0,r.jsx)(s.A,{flexGrow:1,children:(0,r.jsx)(H.z2,{progressPercentage:e.state_percent})})})]})]},e.host_uuid)})}),o]}):(0,r.jsx)(q,{})},V=e=>null==e?void 0:e.filter(e=>e.host_uuid),Y=e=>{let{anvil:t}=e,{uuid:n}=(0,c.useContext)(u),{data:s,loading:a}=(0,G.A)("/anvil/".concat(n),{periodic:!0}),o=t.findIndex(e=>e.anvil_uuid===n);return(0,r.jsxs)(_.Zk,{children:[(0,r.jsx)(g.HM,{text:"Subnodes"}),a?(0,r.jsx)(M.A,{}):-1!==o&&s&&(0,r.jsx)($,{hosts:V(t[o].hosts).reduce((e,t,n)=>{let r=s.hosts[n];return r&&e.push(r),e},[])})]})};var J=n(69647);let K=e=>(0,J.zz)(e,{toUnit:"ibyte"}),Q=()=>{let{uuid:e}=(0,c.useContext)(u),{data:{allocated:t="0",reserved:n="0",total:a="0"}={},loading:o}=(0,G.A)("/anvil/".concat(e,"/memory"),{periodic:!0}),i=(0,c.useMemo)(()=>BigInt(t),[t]),l=(0,c.useMemo)(()=>BigInt(n),[n]),d=(0,c.useMemo)(()=>BigInt(a),[a]);return(0,r.jsxs)(_.Zk,{children:[(0,r.jsx)(_.aO,{children:(0,r.jsx)(g.HM,{text:"Memory"})}),o?(0,r.jsx)(M.A,{}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.A,{display:"flex",width:"100%",children:[(0,r.jsx)(s.A,{flexGrow:1,children:(0,r.jsx)(g.a3,{text:"Allocated: ".concat(K(i))})}),(0,r.jsx)(s.A,{children:(0,r.jsx)(g.a3,{text:"Free: ".concat(K(d-(l+i)))})})]}),(0,r.jsx)(s.A,{display:"flex",width:"100%",children:(0,r.jsx)(s.A,{flexGrow:1,children:(0,r.jsx)(H.kv,{allocated:d?Number((l+i)*BigInt(100)/d):0})})}),(0,r.jsx)(s.A,{display:"flex",justifyContent:"center",width:"100%",children:(0,r.jsx)(g.a3,{text:"Total: ".concat(K(d)," | Reserved: ").concat(K(l))})})]})]})};var ee=n(40038);let et="Network",en={container:"".concat(et,"-container"),root:"".concat(et,"-root"),noPaddingLeft:"".concat(et,"-noPaddingLeft"),divider:"".concat(et,"-divider"),verticalDivider:"".concat(et,"-verticalDivider")},er=(0,a.Ay)("div")(e=>{let{theme:t}=e;return{["& .".concat(en.container)]:{width:"100%",overflow:"auto",height:"32vh",paddingRight:".3em",[t.breakpoints.down(d.NF)]:{height:"100%",overflow:"hidden"}},["& .".concat(en.root)]:{paddingTop:".7em",paddingBottom:".7em"},["& .".concat(en.noPaddingLeft)]:{paddingLeft:0},["& .".concat(en.divider)]:{backgroundColor:d.eT},["& .".concat(en.verticalDivider)]:{height:"3.5em"}}}),es=()=>{let{uuid:e}=(0,c.useContext)(u),[t,n]=(0,c.useState)(),{loading:a}=(0,G.A)("/anvil/".concat(e,"/network"),{onSuccess:e=>{n((e=>{let t=[],n={bonds:[]};return e.hosts.forEach(e=>{e.bonds.forEach(r=>{let s=t.findIndex(e=>e===r.bond_name);-1===s?(t.push(r.bond_name),n.bonds.push({bond_name:r.bond_name,bond_uuid:r.bond_uuid,bond_speed:0,bond_state:"degraded",hosts:[{host_name:e.host_name,host_uuid:e.host_uuid,link:r.links[0].is_active?r.links[0]:r.links[1]}]})):n.bonds[s].hosts.push({host_name:e.host_name,host_uuid:e.host_uuid,link:r.links[0].is_active?r.links[0]:r.links[1]})})}),n.bonds.forEach(e=>{let t=+(e.hosts[0].link.link_speed>e.hosts[1].link.link_speed);e.bond_speed=e.hosts[t].link.link_speed,e.bond_state=e.hosts[t].link.link_state}),n})(e))},periodic:!0});return(0,r.jsx)(_.Zk,{children:(0,r.jsxs)(er,{children:[(0,r.jsx)(g.HM,{text:"Network"}),a?(0,r.jsx)(M.A,{}):(0,r.jsx)(s.A,{className:en.container,children:t&&t.bonds.map(e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.A,{className:en.root,display:"flex",flexDirection:"row",width:"100%",children:[(0,r.jsx)(s.A,{p:1,className:en.noPaddingLeft,children:(0,r.jsx)(A.A,{colour:(e=>{switch(e){case"optimal":return"ok";case"degraded":default:return"warning";case"down":return"error"}})(e.bond_state)})}),(0,r.jsxs)(s.A,{p:1,flexGrow:1,className:en.noPaddingLeft,children:[(0,r.jsx)(g.a3,{text:e.bond_name}),(0,r.jsx)(g.a3,{text:"".concat(e.bond_speed,"Mbps")})]}),(0,r.jsx)(s.A,{display:"flex",style:{paddingTop:".5em"},children:e.hosts.map((t,n)=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{p:1,style:{paddingTop:0,paddingBottom:0},children:(0,r.jsxs)(s.A,{children:[(0,r.jsx)(g.a3,{text:t.host_name,selected:!1}),(0,r.jsx)(g.a3,{text:t.link.link_name})]})},t.host_name),n!==e.hosts.length-1&&(0,r.jsx)(m.A,{className:"".concat(en.divider," ").concat(en.verticalDivider),orientation:"vertical",flexItem:!0})]}))})]}),(0,r.jsx)(m.A,{className:en.divider})]}))})]})})};var ea=n(53701),eo=n(11532),ei=n(92003),el=n(72271),ec=n(39294),ed=n(89121),eu=n(92144),eh=n(12882),em=n(77630),ex=n(77782),ep=n(96891);let ev="Servers",eg={root:"".concat(ev,"-root"),divider:"".concat(ev,"-divider"),verticalDivider:"".concat(ev,"-verticalDivider"),button:"".concat(ev,"-button"),headerPadding:"".concat(ev,"-headerPadding"),hostsBox:"".concat(ev,"-hostsBox"),hostBox:"".concat(ev,"-hostBox"),checkbox:"".concat(ev,"-checkbox"),editButtonBox:"".concat(ev,"-editButtonBox"),dropdown:"".concat(ev,"-dropdown"),on:"".concat(ev,"-on"),off:"".concat(ev,"-off"),all:"".concat(ev,"-all")},ej=(0,a.Ay)("div")(e=>{let{theme:t}=e;return{["& .".concat(eg.root)]:{width:"100%",overflow:"auto",height:"78vh",paddingRight:".3em",[t.breakpoints.down(d.NF)]:{height:"100%",overflow:"hidden"}},["& .".concat(eg.divider)]:{backgroundColor:d.eT},["& .".concat(eg.verticalDivider)]:{height:"75%",paddingTop:"1em"},["& .".concat(eg.button)]:{"&:hover":{backgroundColor:d.l6},paddingLeft:0},["& .".concat(eg.headerPadding)]:{paddingLeft:".3em"},["& .".concat(eg.hostsBox)]:{padding:"1em",paddingRight:0},["& .".concat(eg.hostBox)]:{paddingTop:0},["& .".concat(eg.checkbox)]:{paddingTop:".8em"},["& .".concat(eg.editButtonBox)]:{paddingTop:".3em"},["& .".concat(eg.dropdown)]:{paddingTop:".8em",paddingBottom:".8em"},["& .".concat(eg.all)]:{paddingTop:".5em",paddingLeft:".3em"}}}),eA=(0,a.Ay)(ei.A)({["&.".concat(eg.on)]:{color:d.ft},["&.".concat(eg.off)]:{color:d.UH}}),ef=e=>{var t;let{anvil:n}=e,[a,o]=(0,c.useState)(null),[i,l]=(0,c.useState)(!1),[h,v]=(0,c.useState)(!1),[j,f]=(0,c.useState)([]),b=(0,c.useRef)({}),[w,y]=(0,ep.A)(),{uuid:k}=(0,c.useContext)(u),C=(0,c.useRef)([]),{data:N}=(0,G.A)("/server?anvilUUIDs=".concat(k),{periodic:!0}),S=(0,c.useMemo)(()=>N&&Object.values(N),[N]),P=e=>{C.current=[],e.filter(e=>"running"===e.state).length&&C.current.push("off"),e.filter(e=>"shut off"===e.state).length&&C.current.push("on")},O=n.findIndex(e=>e.anvil_uuid===k),B=V(null==(t=n[O])?void 0:t.hosts),z=(0,c.useMemo)(()=>!j.length,[j.length]),D=(0,ex.kL)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(_.Zk,{children:(0,r.jsxs)(ej,{children:[(0,r.jsxs)(_.aO,{className:eg.headerPadding,sx:{marginBottom:0},children:[(0,r.jsx)(g.HM,{text:"Servers"}),i&&(0,r.jsx)(eu.A,{disabled:z,mapPreset:"delete",onClick:()=>{var e;y({actionProceedText:"Delete",content:"Are you sure you want to delete the selected server(s)? This action is not revertable.",onProceedAppend:()=>{T.A.request({data:{serverUuids:j},method:"delete",url:"/server"}).catch(e=>{(0,F.A)(e)})},proceedColour:"red",titleText:"Delete ".concat(j.length," server(s)?")}),null==(e=b.current.setOpen)||e.call(null,!0)},variant:"redcontained"}),(0,r.jsx)(eu.A,{mapPreset:"edit",onClick:()=>l(!i),state:String(i)}),(0,r.jsx)(eu.A,{mapPreset:"add",onClick:()=>D.setOpen(!0)})]}),i&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{className:eg.headerPadding,display:"flex",children:(0,r.jsxs)(s.A,{flexGrow:1,className:eg.dropdown,children:[(0,r.jsx)(ed.A,{disabled:z,onClick:e=>{o(e.currentTarget)},startIcon:(0,r.jsx)(ea.A,{}),children:"Power"}),(0,r.jsx)(eh.A,{open:!!a,slotProps:{menu:{anchorEl:a,keepMounted:!0,onClose:()=>o(null)}},children:C.current.map(e=>(0,r.jsx)(em.A,{onClick:()=>{o(null),j.length&&j.forEach(t=>{T.A.put("/command".concat("on"===e?"start-server":"stop-server","/").concat(t)).catch(e=>{(0,F.A)(e)})})},children:(0,r.jsx)(eA,{className:eg[e],variant:"subtitle1",children:e.replace(/^[a-z]/,e=>e.toUpperCase())})},e))})]})}),(0,r.jsxs)(s.A,{display:"flex",children:[(0,r.jsx)(s.A,{children:(0,r.jsx)(eo.A,{style:{color:d.a$},color:"secondary",checked:h,onChange:()=>{S&&(h?(P([]),f([])):(P(S),f(S.map(e=>e.uuid))),v(!h))}})}),(0,r.jsx)(s.A,{className:eg.all,children:(0,r.jsx)(g.a3,{text:"All"})})]})]}),S?(0,r.jsx)(s.A,{className:eg.root,children:(0,r.jsx)(x.A,{component:"nav",children:S.map(e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.A,{className:eg.button,component:i?"div":"a",href:"/server?uuid=".concat(e.uuid,"&server_name=").concat(e.name,"&server_state=").concat(e.state),onClick:()=>(e=>{if(!S)return;let t=j.indexOf(e);-1===t?j.push(e):j.splice(t,1),P(S.filter(e=>-1!==j.indexOf(e.uuid))),f([...j])})(e.uuid),children:(0,r.jsxs)(s.A,{display:"flex",flexDirection:"row",width:"100%",children:[i&&(0,r.jsx)(s.A,{className:eg.checkbox,children:(0,r.jsx)(eo.A,{style:{color:d.a$},color:"secondary",checked:void 0!==j.find(t=>t===e.uuid)})}),(0,r.jsx)(s.A,{p:1,children:(0,r.jsx)(A.A,{colour:(e=>{switch(e){case"running":return"ok";case"shut off":return"off";case"crashed":return"error";default:return"warning"}})(e.state)})}),(0,r.jsxs)(s.A,{p:1,flexGrow:1,children:[(0,r.jsx)(g.a3,{text:e.name}),(0,r.jsx)(g.a3,{text:el.A.states.map.get(e.state)||"Not Available"})]}),(0,r.jsx)(s.A,{display:"flex",className:eg.hostsBox,children:"shut off"!==e.state&&"crashed"!==e.state&&B.map((t,n)=>{var a;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.A,{p:1,className:eg.hostBox,children:(0,r.jsx)(g.a3,{text:t.host_name,selected:(null==(a=e.host)?void 0:a.uuid)===t.host_uuid})},t.host_uuid),n!==B.length-1&&(0,r.jsx)(m.A,{className:"".concat(eg.divider," ").concat(eg.verticalDivider),orientation:"vertical"})]})})})]})},e.uuid),(0,r.jsx)(m.A,{className:eg.divider})]}))})}):(0,r.jsx)(M.A,{})]})}),D.dialog,(0,r.jsx)(ec.A,{closeOnProceed:!0,...w,ref:b})]})};var eb=n(44082),ew=n(31254),ey=n(41316);let ek=e=>{let{formDialogRef:t,storages:n,target:s,uuid:a}=e,{[a]:o}=n.storageGroups,{name:i}=o,l=(0,c.useMemo)(()=>{var e;return null!=(e=(0,J.zz)(o.free,{toUnit:"ibyte"}))?e:"none"},[o.free]),d=(0,c.useMemo)(()=>{var e;return null!=(e=(0,J.zz)(o.size,{toUnit:"ibyte"}))?e:"none"},[o.size]),u=(0,c.useMemo)(()=>{var e;return null!=(e=(0,J.zz)(o.used,{toUnit:"ibyte"}))?e:"none"},[o.used]),h=(0,c.useMemo)(()=>Object.values(o.members),[o.members]),m=(0,c.useMemo)(()=>h.map(e=>{var t,s;let{volumeGroup:a}=e,{[a]:o}=n.volumeGroups,{[o.host]:i}=n.hosts,l=null!=(t=(0,J.zz)(o.free,{toUnit:"ibyte"}))?t:"none",c=null!=(s=(0,J.zz)(o.size,{toUnit:"ibyte"}))?s:"none";return(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(ey.Ay,{container:!0,children:[(0,r.jsx)(ey.Ay,{item:!0,xs:!0,children:(0,r.jsx)(g.a3,{variant:"caption",children:i.short})}),(0,r.jsx)(ey.Ay,{item:!0,textAlign:"right",children:(0,r.jsxs)(g.a3,{variant:"caption",children:["Free",(0,r.jsx)(g.kp,{children:l}),"/",(0,r.jsx)(g.kp,{children:c})]})}),(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(H.Fn,{thin:!0,volumeGroup:o})})]})},e.uuid)}),[h,n.hosts,n.volumeGroups]);return(0,r.jsxs)(_.t$,{children:[(0,r.jsxs)(_.WJ,{children:[(0,r.jsx)(g.a3,{children:i}),(0,r.jsx)(eu.A,{mapPreset:"edit",onClick:()=>{var e;s.set(a),null==(e=t.current)||e.setOpen(!0)},size:"small",state:"false"})]}),(0,r.jsx)(_.BF,{children:(0,r.jsxs)(ey.Ay,{container:!0,rowSpacing:"1em",children:[(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(ey.Ay,{container:!0,children:[(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(ey.Ay,{container:!0,children:[(0,r.jsx)(ey.Ay,{item:!0,children:(0,r.jsxs)(g.a3,{children:["Used ",(0,r.jsx)(g.kp,{children:u})]})}),(0,r.jsx)(ey.Ay,{item:!0,xs:!0}),(0,r.jsx)(ey.Ay,{item:!0,textAlign:"right",children:(0,r.jsxs)(g.a3,{children:["Free",(0,r.jsx)(g.kp,{children:l}),"/",(0,r.jsx)(g.kp,{children:d})]})})]})}),(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(H.Fn,{storageGroup:o})})]})}),...m]})})]})};var e_=n(48937),eC=n(13920),eN=n(67820),eS=n(69146),eT=n(91408),eF=n(27743);let eM=eT.Ik({vg:(0,eF.ZC)().required().nullable()});var eP=n(69397),eO=n(68707),eB=n(43010);let ez=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let[s]=t,{formikUtils:a,host:o,storages:i}=s,{[o]:l}=i.hosts,{changeFieldValue:d,formik:u}=a,h=(0,c.useMemo)(()=>({vg:"hosts.".concat(o,".vg")}),[o]),m=(0,c.useMemo)(()=>Object.values(i.volumeGroups).filter(e=>e.host===o).map(e=>e.uuid),[o,i.volumeGroups]);return(0,r.jsxs)(ey.Ay,{alignItems:"center",container:!0,spacing:"1em",children:[(0,r.jsx)(ey.Ay,{item:!0,xs:!0,children:(0,r.jsx)(eB.A,{filterOptions:(0,eO.Z)({stringify:e=>{let{[e]:t}=i.volumeGroups;return"".concat(t.name,"\n").concat(t.internalUuid)}}),getOptionDisabled:e=>{let t=!i.unusedVolumeGroups.includes(e),n=u.initialValues.hosts[o].vg!==e;return t&&n},getOptionLabel:e=>{let{[e]:t}=i.volumeGroups;return t.name},id:h.vg,label:"".concat(l.short," volume group"),noOptionsText:"No volume group(s) available",onChange:(e,t)=>{d(h.vg,t,!0)},openOnFocus:!0,options:m,renderOption:(e,t)=>{var n,s;let{[t]:a}=i.volumeGroups,o=null!=(n=(0,J.zz)(a.free,{toUnit:"ibyte"}))?n:"none",l=null!=(s=(0,J.zz)(a.size,{toUnit:"ibyte"}))?s:"none";return(0,c.createElement)("li",{...e,key:"vg-".concat(t)},(0,r.jsxs)(ey.Ay,{container:!0,rowSpacing:"0.4em",children:[(0,r.jsxs)(ey.Ay,{alignItems:"center",container:!0,spacing:"0.5em",children:[(0,r.jsx)(ey.Ay,{item:!0,xs:!0,children:(0,r.jsx)(g.a3,{inheritColour:!0,noWrap:!0,children:a.name})}),(0,r.jsx)(ey.Ay,{item:!0,children:(0,r.jsxs)(g.a3,{inheritColour:!0,noWrap:!0,variant:"caption",children:["Free",(0,r.jsx)(g.kp,{inheritColour:!0,children:o}),"/",(0,r.jsx)(g.kp,{inheritColour:!0,children:l})]})})]}),(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(H.Fn,{thin:!0,volumeGroup:a})}),(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(g.xF,{inheritColour:!0,monospaced:!0,noWrap:!0,children:a.internalUuid})})]}))},value:u.values.hosts[o].vg})}),(0,r.jsx)(ey.Ay,{item:!0,children:(0,r.jsx)(eu.A,{mapPreset:"delete",onClick:()=>{d(h.vg,null,!0)},size:"small"})})]})};var eD=n(88259),eG=n(93647);let eL=e=>{let{anvil:t,confirm:n,storages:s,uuid:a=""}=e,{[a]:o}=s.storageGroups,i=(0,c.useContext)(ew.MV),l=(0,c.useMemo)(()=>"/anvil/".concat(t,"/storage"),[t]),d=(0,c.useMemo)(()=>Object.keys(s.hosts),[s.hosts]),u=(0,c.useMemo)(()=>((e,t,n)=>{let{[t]:r}=e.storageGroups,s=n.reduce((e,t)=>(e[t]={vg:null},e),{}),a={hosts:s,name:""};return r&&(a.name=r.name,Object.values(r.members).forEach(t=>{let{[t.volumeGroup]:n}=e.volumeGroups,{host:r,uuid:a}=n;s[r].vg=a})),a})(s,a,d),[d,a,s]),h=(0,c.useMemo)(()=>o?"Save":"Add",[o]),m=(0,eG.A)({initialValues:u,onSubmit:(e,t)=>{var c;let d,h,{setSubmitting:m}=t;o?(d="Update",h="put"):(d="Add",h="post");let x=((e,t,n,r)=>{var s;let{[r]:a}=n.storageGroups,o={add:[],name:null!=(s=null==a?void 0:a.name)?s:e.name,remove:[]};a&&e.name!==a.name&&(o.rename=e.name);let{volumeGroups:i}=n;return Object.keys(e.hosts).forEach(n=>{let{[n]:r}=t.hosts,{[n]:s}=e.hosts;if(r.vg!==s.vg){if(r.vg){let{[r.vg]:e}=i;o.remove.push(e.internalUuid)}if(s.vg){let{[s.vg]:e}=i;o.add.push(e.internalUuid)}}}),o})(e,u,s,a);n.setConfirmDialogProps({actionProceedText:d,content:(0,r.jsx)(eC.A,{entries:x,skip:(e,t)=>"name"===t.key}),onCancelAppend:()=>m(!1),onProceedAppend:()=>{n.setConfirmDialogLoading(!0),T.A.request({data:x,method:h,url:l}).then(()=>{n.finishConfirm("Success",{children:(0,r.jsxs)(r.Fragment,{children:[d," storage group job registered."]})}),null==i||i.setOpen(!1)}).catch(e=>{let t=(0,F.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to ",d.toLocaleLowerCase()," storage group."," ",t.children]}),n.finishConfirm("Error",t),m(!1)})},titleText:"".concat(d," ").concat(null!=(c=null==o?void 0:o.name)?c:e.name," with the following?")}),n.setConfirmDialogOpen(!0)},validationSchema:((e,t)=>{let{storageGroups:n}=e,{[t]:r}=n,s=Object.values(n);r&&(s=s.filter(e=>e.name!==r.name));let a=s.map(e=>e.name);return eT.Ik({hosts:eT.RZ(e=>eT.Ik((0,eP.A)(e,eM))),name:eT.Yj().required().notOneOf(a,"${path} already exists")})})(s,a)}),{disabledSubmit:x,formik:p,formikErrors:v,handleChange:j}=m,A=(0,c.useMemo)(()=>({name:"name"}),[]);return(0,r.jsxs)(ey.Ay,{component:"form",container:!0,onSubmit:e=>{e.preventDefault(),p.handleSubmit(e)},spacing:"1em",children:[(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsxs)(ey.Ay,{alignItems:"center",container:!0,spacing:"1em",children:[(0,r.jsx)(ey.Ay,{item:!0,xs:!0,children:(0,r.jsx)(eD.A,{input:(0,r.jsx)(eS.A,{id:A.name,label:"Storage group name",name:A.name,onChange:j,value:p.values.name})})}),(0,r.jsx)(ey.Ay,{item:!0,children:(0,r.jsx)(eu.A,{disabled:!o,mapPreset:"delete",onClick:()=>{p.setSubmitting(!0),n.setConfirmDialogProps({actionProceedText:"Delete",content:(0,r.jsx)(g.a3,{children:"This operation will remove the storage group and its relationships to volume groups. It will not remove the actual volume groups."}),onCancelAppend:()=>p.setSubmitting(!1),onProceedAppend:()=>{n.setConfirmDialogLoading(!0);let e={name:null==o?void 0:o.name};T.A.request({data:e,method:"delete",url:l}).then(()=>{n.finishConfirm("Success",{children:(0,r.jsx)(r.Fragment,{children:"Delete storage group job registered."})}),null==i||i.setOpen(!1)}).catch(e=>{let t=(0,F.A)(e);t.children=(0,r.jsxs)(r.Fragment,{children:["Failed to delete storage group. ",t.children]}),n.finishConfirm("Error",t),p.setSubmitting(!1)})},proceedColour:"red",titleText:"Delete ".concat(null==o?void 0:o.name,"?")}),n.setConfirmDialogOpen(!0)},size:"small",variant:"redcontained"})})]})}),d.map(e=>(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(ez,{formikUtils:m,host:e,storages:s})},"member-on-host-".concat(e))),(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(eN.A,{count:1,messages:v})}),(0,r.jsx)(ey.Ay,{item:!0,width:"100%",children:(0,r.jsx)(e_.A,{actions:[{background:"blue",children:h,disabled:x,type:"submit"}]})})]})},eR={root:"".concat("SharedStorage","-root")},eI=(0,a.Ay)("div")(e=>{let{theme:t}=e;return{["& .".concat(eR.root)]:{overflow:"auto",height:"78vh",paddingLeft:".3em",paddingRight:".3em",[t.breakpoints.down(d.NF)]:{height:"100%"}}}}),eE=e=>{let{anvil:t,confirm:n,error:a,formDialogRef:o,loading:i,storages:l,target:d}=e;return(0,c.useMemo)(()=>{if(i)return(0,r.jsx)(M.A,{});if(!l){let e;return a?(e=(0,F.A)(a)).children=(0,r.jsxs)(r.Fragment,{children:["Failed to get storage information. ",e.children]}):e={children:(0,r.jsx)(r.Fragment,{children:"Cannot find storage information."}),type:"warning"},(0,r.jsx)(ee.A,{...e})}let{confirmDialog:e}=n,c=Object.values(l.storageGroups),u="Add storage group";if(d.value){let{[d.value]:e}=l.storageGroups;e&&(u="Update ".concat(e.name))}return(0,r.jsxs)(eI,{children:[(0,r.jsx)(s.A,{className:eR.root,children:c.map(e=>{let{uuid:t}=e;return(0,r.jsx)(ek,{formDialogRef:o,storages:l,target:d,uuid:t},t)})}),(0,r.jsx)(ew.K_,{header:u,onTransitionExited:()=>{d.set()},ref:o,showClose:!0,wide:!0,children:(0,r.jsx)(eL,{anvil:t,confirm:n,storages:l,uuid:d.value})}),e]})},[t,n,a,o,i,l,d])},eU=()=>{let{uuid:e}=(0,c.useContext)(u),t=(0,c.useRef)(null),n=(0,P.A)(),[s,a]=(0,c.useState)(),{altData:o,error:i,loading:l}=(0,G.A)("/anvil/".concat(e,"/storage"),{mod:eb.A,periodic:!0});return(0,r.jsxs)(_.Zk,{children:[(0,r.jsxs)(_.aO,{children:[(0,r.jsx)(g.HM,{children:"Shared Storage"}),(0,r.jsx)(eu.A,{mapPreset:"add",onClick:()=>{var e;a(void 0),null==(e=t.current)||e.setOpen(!0)}})]}),(0,r.jsx)(eE,{anvil:e,confirm:n,error:i,formDialogRef:t,loading:l,storages:o,target:{set:a,value:s}})]})},eZ="Anvil",eH={child:"".concat(eZ,"-child"),server:"".concat(eZ,"-server"),container:"".concat(eZ,"-container")},eW=(0,a.Ay)("div")(e=>{let{theme:t}=e;return{["& .".concat(eH.child)]:{width:"22%",height:"100%",[t.breakpoints.down(d.NF)]:{width:"50%"},[t.breakpoints.down("md")]:{width:"100%"}},["& .".concat(eH.server)]:{width:"35%",height:"100%",[t.breakpoints.down("md")]:{width:"100%"}},["& .".concat(eH.container)]:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between",[t.breakpoints.down("md")]:{display:"block"}}}}),eX=e=>{let{children:t}=e;return(0,c.createElement)(_.Zk,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 10em)",maxWidth:{xs:void 0,sm:"60%",md:"50%",lg:"40%"},minWidth:"fit-content"}},t)},eq=e=>{let{children:t,list:n,loading:s}=e,a=(0,l.useRouter)(),{uuid:o,setAnvilUuid:i}=(0,c.useContext)(u),d=(0,c.useMemo)(()=>{let e=((e,t)=>{let n;if([e.isReady,t].some(e=>!e))return"";let{anvils:r}=t,{name:s,uuid:a}=e.query;if(s?n=r.find(e=>e.anvil_name===s):a&&(n=r.find(e=>e.anvil_uuid===a)),n)return n.anvil_uuid;let[o={anvil_uuid:""}]=r;return o.anvil_uuid})(a,n);return null==i||i.call(null,e),e},[n,a,i]);if(o)return(0,r.jsx)(r.Fragment,{children:t});let h=(0,r.jsx)(eX,{children:(0,r.jsx)(M.A,{sx:{margin:"2em 2.4em"}})}),m=(0,r.jsx)(eX,{children:(0,r.jsx)(ee.A,{type:"warning",children:"Failed to get system summary."})});return s||n&&d?h:m},e$=()=>{let e=(()=>{let[e,t]=(0,c.useState)(void 0);return(0,c.useEffect)(()=>{let e=()=>{t(window.innerWidth)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),e})(),{data:t,loading:n}=(0,G.A)("/anvil/summary",{periodic:!0}),a=(0,c.useMemo)(()=>{if(t&&e)return e>d.NF?(0,r.jsxs)(s.A,{className:eH.container,children:[(0,r.jsxs)(s.A,{className:eH.child,children:[(0,r.jsx)(R,{list:t}),(0,r.jsx)(Y,{anvil:t.anvils})]}),(0,r.jsx)(s.A,{className:eH.server,children:(0,r.jsx)(ef,{anvil:t.anvils})}),(0,r.jsx)(s.A,{className:eH.child,children:(0,r.jsx)(eU,{})}),(0,r.jsxs)(s.A,{className:eH.child,children:[(0,r.jsx)(es,{}),(0,r.jsx)(E,{}),(0,r.jsx)(Q,{})]})]}):(0,r.jsxs)(s.A,{className:eH.container,children:[(0,r.jsxs)(s.A,{className:eH.child,children:[(0,r.jsx)(ef,{anvil:t.anvils}),(0,r.jsx)(R,{list:t}),(0,r.jsx)(Y,{anvil:t.anvils})]}),(0,r.jsxs)(s.A,{className:eH.child,children:[(0,r.jsx)(es,{}),(0,r.jsx)(eU,{}),(0,r.jsx)(E,{}),(0,r.jsx)(Q,{})]})]})},[t,e]);return(0,r.jsxs)(eW,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Anvil"})}),(0,r.jsx)(U.A,{}),(0,r.jsx)(h,{children:(0,r.jsx)(eq,{list:t,loading:n,children:a})})]})}},40123:(e,t,n)=>{var r=n(29934),s=n(24015),a=n(48894),o=n(93007),i=n(27136),l=n(4756),c=n(59059),d=n(82731),u=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(i(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||l(e)||d(e)||a(e)))return!e.length;var t=s(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(u.call(e,n))return!1;return!0}},51553:(e,t,n)=>{"use strict";n.d(t,{A:()=>f});var r=n(14232),s=n(69241),a=n(4697),o=n(19770),i=n(98428),l=n(55818),c=n(90046),d=n(35268),u=n(42259),h=n(77573),m=n(87767),x=n(24369),p=n(37876);let v=(0,d.Ay)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.edge&&t["edge".concat((0,i.A)(n.edge))],t["size".concat((0,i.A)(n.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:{width:40,height:24,padding:7,["& .".concat(m.A.thumb)]:{width:16,height:16},["& .".concat(m.A.switchBase)]:{padding:4,["&.".concat(m.A.checked)]:{transform:"translateX(16px)"}}}}]}),g=(0,d.Ay)(c.A,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.switchBase,{["& .".concat(m.A.input)]:t.input},"default"!==n.color&&t["color".concat((0,i.A)(n.color))]]}})((0,u.A)(e=>{let{theme:t}=e;return{position:"absolute",top:0,left:0,zIndex:1,color:t.vars?t.vars.palette.Switch.defaultColor:"".concat("light"===t.palette.mode?t.palette.common.white:t.palette.grey[300]),transition:t.transitions.create(["left","transform"],{duration:t.transitions.duration.shortest}),["&.".concat(m.A.checked)]:{transform:"translateX(20px)"},["&.".concat(m.A.disabled)]:{color:t.vars?t.vars.palette.Switch.defaultDisabledColor:"".concat("light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[600])},["&.".concat(m.A.checked," + .").concat(m.A.track)]:{opacity:.5},["&.".concat(m.A.disabled," + .").concat(m.A.track)]:{opacity:t.vars?t.vars.opacity.switchTrackDisabled:"".concat("light"===t.palette.mode?.12:.2)},["& .".concat(m.A.input)]:{left:"-100%",width:"300%"}}}),(0,u.A)(e=>{let{theme:t}=e;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,o.X4)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:[...Object.entries(t.palette).filter((0,l.A)(["light"])).map(e=>{let[n]=e;return{props:{color:n},style:{["&.".concat(m.A.checked)]:{color:(t.vars||t).palette[n].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,o.X4)(t.palette[n].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(m.A.disabled)]:{color:t.vars?t.vars.palette.Switch["".concat(n,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,o.a)(t.palette[n].main,.62):(0,o.e$)(t.palette[n].main,.55))}},["&.".concat(m.A.checked," + .").concat(m.A.track)]:{backgroundColor:(t.vars||t).palette[n].main}}}})]}})),j=(0,d.Ay)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(e,t)=>t.track})((0,u.A)(e=>{let{theme:t}=e;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),A=(0,d.Ay)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(e,t)=>t.thumb})((0,u.A)(e=>{let{theme:t}=e;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),f=r.forwardRef(function(e,t){let n=(0,h.b)({props:e,name:"MuiSwitch"}),{className:r,color:o="primary",edge:l=!1,size:c="medium",sx:d,slots:u={},slotProps:f={},...b}=n,w={...n,color:o,edge:l,size:c},y=(e=>{let{classes:t,edge:n,size:r,color:s,checked:o,disabled:l}=e,c={root:["root",n&&"edge".concat((0,i.A)(n)),"size".concat((0,i.A)(r))],switchBase:["switchBase","color".concat((0,i.A)(s)),o&&"checked",l&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},d=(0,a.A)(c,m.n,t);return{...t,...d}})(w),k={slots:u,slotProps:f},[_,C]=(0,x.A)("root",{className:(0,s.A)(y.root,r),elementType:v,externalForwardedProps:k,ownerState:w,additionalProps:{sx:d}}),[N,S]=(0,x.A)("thumb",{className:y.thumb,elementType:A,externalForwardedProps:k,ownerState:w}),T=(0,p.jsx)(N,{...S}),[F,M]=(0,x.A)("track",{className:y.track,elementType:j,externalForwardedProps:k,ownerState:w});return(0,p.jsxs)(_,{...C,children:[(0,p.jsx)(g,{type:"checkbox",icon:T,checkedIcon:T,ref:t,ownerState:w,...b,classes:{...y,root:y.switchBase},slots:{...u.switchBase&&{root:u.switchBase},...u.input&&{input:u.input}},slotProps:{...f.switchBase&&{root:"function"==typeof f.switchBase?f.switchBase(w):f.switchBase},...f.input&&{input:"function"==typeof f.input?f.input(w):f.input}}}),(0,p.jsx)(F,{...M})]})})},52241:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/anvil",function(){return n(20035)}])},53701:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(93354),s=n(37876);let a=(0,r.A)((0,s.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert")},73617:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var r=n(37876),s=n(7254),a=n(35268),o=n(10595);let i="Decorator",l={ok:"".concat(i,"-ok"),warning:"".concat(i,"-warning"),error:"".concat(i,"-error"),off:"".concat(i,"-off")},c=(0,a.Ay)(s.A)({borderRadius:o.ax,height:"100%",width:"1.4em",["&.".concat(l.ok)]:{backgroundColor:o.ft},["&.".concat(l.warning)]:{backgroundColor:o.hr},["&.".concat(l.error)]:{backgroundColor:o.UH},["&.".concat(l.off)]:{backgroundColor:o.Qu}}),d=e=>{let{colour:t,...n}=e;return(0,r.jsx)(c,{...n,className:l[t]})}},89099:(e,t,n)=>{e.exports=n(16296)},96891:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(14232);let s=function(){let{actionProceedText:e="",content:t="",titleText:n="",...s}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.useState)({actionProceedText:e,content:t,titleText:n,...s})}}},e=>{e.O(0,[347,766,845,107,422,337,508,466,292,636,593,792],()=>e(e.s=52241)),_N_E=e.O()}]);