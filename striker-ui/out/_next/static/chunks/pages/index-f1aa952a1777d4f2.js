(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(86445)}])},9968:function(e,n,t){"use strict";var i=t(85893),s=t(77527),r=t(90642),c=t(39971);let l="Decorator",o={ok:"".concat(l,"-ok"),warning:"".concat(l,"-warning"),error:"".concat(l,"-error"),off:"".concat(l,"-off")},a=(0,s.ZP)(r.Z)({borderRadius:c.n_,height:"100%",width:"1.4em",["&.".concat(o.ok)]:{backgroundColor:c.Ej},["&.".concat(o.warning)]:{backgroundColor:c.Wd},["&.".concat(o.error)]:{backgroundColor:c.hM},["&.".concat(o.off)]:{backgroundColor:c.s7}});n.Z=e=>{let{colour:n,...t}=e;return(0,i.jsx)(a,{...t,className:o[n]})}},91905:function(e,n,t){"use strict";var i=t(85893),s=t(67294),r=t(8506),c=t(90642);n.Z=e=>{let{calculateItemBreakpoints:n=()=>({xs:1}),layout:t,wrapperBoxProps:l,...o}=e,a=(0,s.useMemo)(()=>Object.entries(t).map((e,t)=>{let[i,c]=e;return c?(0,s.createElement)(r.ZP,{...n(t,i),key:i,item:!0,...c}):void 0}),[n,t]);return(0,i.jsx)(c.Z,{...l,children:(0,i.jsx)(r.ZP,{container:!0,...o,children:a})})}},65716:function(e,n,t){"use strict";var i=t(85893),s=t(77527),r=t(61769),c=t(39971);let l=(0,s.ZP)(r.Z)({color:c.lD,textDecorationColor:c.s7});n.Z=e=>{let{children:n,...t}=e;return(0,i.jsx)(l,{underline:"always",variant:"subtitle1",...t,children:n})}},39806:function(e,n,t){"use strict";t.d(n,{Z:function(){return s}});var i=e=>e.reduce((e,n)=>{let{hostName:t,hostType:i,hostUUID:s,shortHostName:r}=n;return e[s]={name:t,short:r,type:i,uuid:s},e},{}),s=e=>e.reduce((e,n)=>{let{anvilDescription:t,anvilName:s,anvilUUID:r,hosts:c}=n;return e[r]={description:t,hosts:i(c),name:s,uuid:r},e},{})},86445:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ep}});var i=t(85893),s=t(90642),r=t(9008),c=t.n(r),l=t(67294),o=t(8506),a=t(24811),d=t(54490),h=e=>{let{anvilStatus:n,anvil_name:t,anvil_uuid:i,hosts:s}=e;return{hosts:s.reduce((e,n)=>{let{host_name:t,host_uuid:i,maintenance_mode:s,server_count:r,state:c,state_percent:l}=n;return e[i]={name:t,maintenance:s,serverCount:r,state:c,stateProgress:l,uuid:i},e},{}),name:t,status:n,uuid:i}},x=t(22700),j=t(60665),u=t(64236),m=t(39971);let Z={offline:m.s7,optimal:m.Ej};var p=e=>Z[e]||m.Wd;let g={none:m.s7,offline:m.s7,optimal:m.Ej,syncing:m.s7};var v=e=>g[e]||m.Wd;let P={offline:m.s7,online:m.Ej};var f=e=>P[e]||m.Wd,w=t(82092),_=t(5387),b=t(90209),C=t(57882),y=t(29255),A=t(5499),S=e=>{let{anvilUuid:n,refreshInterval:t=5e3}=e,{altData:s,loading:r}=(0,A.Z)("/anvil/".concat(n),{mod:h,refreshInterval:t}),{data:c,loading:m}=(0,A.Z)("/anvil/".concat(n,"/cpu"),{refreshInterval:t}),Z=(0,l.useMemo)(()=>c&&Object.values(c.hosts),[c]),{altData:g,loading:P}=(0,A.Z)("/anvil/".concat(n,"/memory"),{mod:x.Z,refreshInterval:t}),{altData:S,loading:k}=(0,A.Z)("/anvil/".concat(n,"/storage"),{mod:j.Z,refreshInterval:t}),M=(0,l.useMemo)(()=>[r,m,P,k].some(e=>e),[r,m,P,k]),W=(0,l.useMemo)(()=>{if(!s)return;let{system:e}=s.status,n=p(e);return(0,i.jsx)(C.$_,{inheritColour:!0,color:n,children:e})},[s]),I=(0,l.useMemo)(()=>{let e;if(!s)return;let{maxEstimatedTimeToSync:n,status:t}=s.status.drbd,r=v(t);return n&&(e=(0,y.F6)(n)),(0,i.jsxs)(C.$_,{inheritColour:!0,color:r,children:[t,e&&" (estimated ~".concat(e,")")]})},[s]),D=(0,l.useMemo)(()=>s&&(0,i.jsx)(o.ZP,{columns:1,container:!0,children:Object.values(s.hosts).map(e=>{let{name:n,serverCount:t,state:s,stateProgress:r,uuid:c}=e,l=f(s),a=s;return["offline","online"].includes(s)||(a="".concat(s," (").concat(r,"%)")),(0,i.jsxs)(o.ZP,{alignItems:"center",columnSpacing:"0.5em",container:!0,children:[(0,i.jsx)(o.ZP,{item:!0,xs:"auto",children:(0,i.jsx)(C.Ac,{variant:"caption",whiteSpace:"nowrap",children:n})}),(0,i.jsx)(o.ZP,{item:!0,xs:"auto",children:(0,i.jsx)(C.$_,{inheritColour:!0,color:l,children:a})}),(0,i.jsx)(o.ZP,{item:!0,xs:!0,children:(0,i.jsx)(w.Z,{})}),(0,i.jsx)(o.ZP,{item:!0,xs:"auto",children:(0,i.jsxs)(o.ZP,{alignItems:"center",columns:2,container:!0,width:"4em",children:[(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{variant:"caption",children:"Servers"})}),(0,i.jsx)(o.ZP,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,i.jsx)(C.$_,{variant:"caption",children:t})})]})})]},"subnode-".concat(c))})}),[s]),E=(0,l.useMemo)(()=>c&&Z&&(0,i.jsxs)(_.Z,{row:!0,rowSpacing:".5em",children:[(0,i.jsxs)(C.Ac,{variant:"caption",whiteSpace:"nowrap",children:["Vendor"," ",(0,i.jsx)(C.Q0,{sx:{paddingRight:0},children:Z[0].vendor})]}),(0,i.jsx)(w.Z,{sx:{flexGrow:1}}),(0,i.jsxs)(o.ZP,{alignItems:"center",columns:2,container:!0,width:"4em",children:[(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{variant:"caption",children:"Cores"})}),(0,i.jsx)(o.ZP,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,i.jsx)(C.$_,{variant:"caption",children:c.cores})}),(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{variant:"caption",children:"Threads"})}),(0,i.jsx)(o.ZP,{display:"flex",item:!0,justifyContent:"flex-end",xs:1,children:(0,i.jsx)(C.$_,{variant:"caption",children:c.threads})})]})]}),[c,Z]),O=(0,l.useMemo)(()=>g&&(0,i.jsxs)(_.Z,{spacing:0,children:[(0,i.jsx)(_.Z,{row:!0,justifyContent:"flex-end",children:(0,i.jsxs)(C.Ac,{variant:"caption",children:["Free",(0,i.jsx)(C.Q0,{children:(0,d._d)(g.available,{toUnit:"ibyte"})}),"/",(0,i.jsx)(C.Q0,{edge:"end",children:(0,d._d)(g.total,{toUnit:"ibyte"})})]})}),(0,i.jsx)(u._1,{memory:g,thin:!0})]}),[g]),U=(0,l.useMemo)(()=>S&&(0,i.jsxs)(_.Z,{spacing:0,children:[(0,i.jsx)(_.Z,{row:!0,justifyContent:"flex-end",children:(0,i.jsxs)(C.Ac,{variant:"caption",children:["Total free",(0,i.jsx)(C.Q0,{children:(0,d._d)(S.totalFree,{toUnit:"ibyte"})}),"/",(0,i.jsx)(C.Q0,{edge:"end",children:(0,d._d)(S.totalSize,{toUnit:"ibyte"})})]})}),(0,i.jsx)(u.Tj,{storages:S,thin:!0})]}),[S]);return M?(0,i.jsx)(b.Z,{mt:0}):(0,i.jsxs)(o.ZP,{alignItems:"center",columns:4,container:!0,sx:{["& > .".concat(a.Z.item,":nth-child(odd)")]:{alignItems:"center",display:"flex",height:"2.2em"}},children:[(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{children:"Status"})}),(0,i.jsx)(o.ZP,{item:!0,xs:3,children:W}),(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{children:"Replication"})}),(0,i.jsx)(o.ZP,{item:!0,xs:3,children:I}),(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{children:"Subnodes"})}),(0,i.jsx)(o.ZP,{item:!0,xs:3,children:D}),(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{children:"CPU"})}),(0,i.jsx)(o.ZP,{item:!0,xs:3,children:E}),(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{children:"Memory"})}),(0,i.jsx)(o.ZP,{item:!0,xs:3,children:O}),(0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(C.Ac,{children:"Storage"})}),(0,i.jsx)(o.ZP,{item:!0,xs:3,children:U})]})},k=t(39806),M=t(91905),W=t(65716),I=t(65375),D=t(18573),E=e=>{let{refreshInterval:n=5e3}=e,{altData:t,loading:s,validating:r}=(0,A.Z)("/anvil",{mod:k.Z,refreshInterval:n}),c=(0,l.useMemo)(()=>t&&(0,i.jsx)(M.Z,{alignContent:"stretch",layout:Object.values(t).reduce((e,t)=>{let{description:s,name:r,uuid:c}=t;return e["anvil-".concat(c)]={children:(0,i.jsxs)(I.Lg,{mv:0,children:[(0,i.jsxs)(I.CH,{children:[(0,i.jsx)(W.Z,{href:"/anvil?name=".concat(r),noWrap:!0,children:r}),(0,i.jsx)(C.Ac,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:s})]}),(0,i.jsx)(I.bc,{children:(0,i.jsx)(S,{anvilUuid:c,refreshInterval:n})})]}),maxWidth:{xs:"100%",md:"50%",lg:"calc(100% / 3)",xl:"25%"},minWidth:"24em",xs:!0},e},{}),spacing:"1em"}),[t,n]);return(0,i.jsxs)(I.s_,{children:[(0,i.jsxs)(I.V9,{children:[(0,i.jsx)(C.z,{children:"Nodes"}),(0,i.jsx)(D.Z,{syncing:r})]}),s?(0,i.jsx)(b.Z,{}):c]})},O=t(86142),U=t(38855),$=t(44859),N=t(23279),z=t.n(N),R=t(46194),T=t(45328),H=t(75492),Q=t(18766),F=t(29873),V=t(43463),B=t(43267),L=t(77527),G=t(65625),X=t(48403),J=t.n(X),q=t(9968),K=t(45842),Y=t(21758),ee=t(64537);let en={running:"ok","shut off":"off",crashed:"error"},et=(0,L.ZP)(K.$x)(()=>({borderRadius:m.n_,height:"calc(".concat("3em"," * 0.8)"),width:"3em"})),ei=(0,L.ZP)(K.$x)(()=>{let e="3.2em";return{height:e,margin:0,width:e}}),es=e=>{var n;return null!==(n=en[e])&&void 0!==n?n:"warning"};var er=e=>{let n,t,r,c;let{servers:a,uuid:d}=e,h=a[d],x=(0,l.useMemo)(()=>"provisioning"===h.state,[h.state]),j=(0,l.useMemo)(()=>{let{jobs:e}=h;if(e)return(0,i.jsx)(ei,{children:[...Object.values(e).map((e,n)=>{let{peer:t,progress:s,uuid:r}=e;return(0,i.jsx)(Y.Z,{slotProps:{box:{sx:{position:"absolute"}},pie:{size:"calc(2.8em - ".concat(1.5*n,"em)"),sx:{opacity:t?.6:void 0,["& .".concat(G.Z.circle)]:{strokeLinecap:"round"}},thickness:6},underline:{thickness:s?0:1}},value:s},"".concat(r,"-progress"))})]})},[h]);return x?(n=(0,i.jsx)(o.ZP,{item:!0,children:j}),r=(0,i.jsx)(C.Ac,{noWrap:!0,children:h.name}),c=(0,i.jsxs)(C.Ac,{noWrap:!0,children:[J()(h.state),"..."]})):(n=(0,i.jsx)(o.ZP,{alignSelf:"stretch",item:!0,children:(0,i.jsx)(q.Z,{colour:es(h.state)})}),t=(0,i.jsx)(K.MB,{server:h,slots:{screenshotBox:(0,i.jsx)(et,{})},slotProps:{screenshot:{sx:{fontSize:".6em"}}}}),r=(0,i.jsx)(W.Z,{href:"/server?name=".concat(h.name),noWrap:!0,children:h.name}),c=(0,i.jsx)(C.Ac,{noWrap:!0,children:J()(h.state)})),(0,i.jsxs)(o.ZP,{alignItems:"center",container:!0,spacing:"0.5em",children:[n,(0,i.jsx)(o.ZP,{item:!0,children:t}),(0,i.jsx)(o.ZP,{item:!0,xs:!0,children:(0,i.jsxs)(o.ZP,{container:!0,children:[(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:r}),(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:c})]})}),(0,i.jsx)(o.ZP,{item:!0,xs:!0,children:(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(W.Z,{href:"/anvil?name=".concat(h.anvil.name),noWrap:!0,children:h.anvil.name}),h.host&&(0,i.jsx)(C.Ac,{noWrap:!0,children:h.host.short})]})}),(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(ee.Z,{node:h.anvil,server:h,slotProps:{button:{slotProps:{button:{icon:{size:"small"}}}}}})})]})},ec=e=>{let{groups:n,servers:t}=e,{altData:s,loading:r}=(0,A.Z)("/anvil",{mod:k.Z}),c=(0,l.useMemo)(()=>s?Object.entries(n).reduce((e,n,r,c)=>{let[l,a]=n;return a.length&&(a.forEach(n=>{e.push((0,i.jsx)(o.ZP,{item:!0,xs:1,children:(0,i.jsx)(er,{anvils:s,servers:t,uuid:n})},"".concat(n,"-summary")))}),r+1!==c.length&&e.push((0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsx)(w.Z,{orientation:"horizontal"})},"".concat(l,"-end")))),e},[]):[],[s,n,t]);return r?(0,i.jsx)(o.ZP,{container:!0,spacing:"1em",children:(0,i.jsx)(b.Z,{mt:0})}):(0,i.jsx)(o.ZP,{columns:{xs:1,md:2,lg:3,xl:4},container:!0,spacing:"1em",children:[...c]})};let el=(0,L.ZP)(K.$x)(e=>{let{theme:n}=e,t=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0";return"calc(".concat(e," * 0.6)")};return{width:"100%",[n.breakpoints.up("xs")]:{height:t("100vw")},[n.breakpoints.up("sm")]:{height:t("50vw")},[n.breakpoints.up("md")]:{height:t("100vw / 3")},[n.breakpoints.up("lg")]:{height:t("25vw")},[n.breakpoints.up("xl")]:{height:t("100vw / 6")}}}),eo=e=>(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(K.bC,{getHeader:e=>{let{jobs:n,name:t}=e;return n?(0,i.jsx)(C.Ac,{noWrap:!0,children:t}):(0,i.jsx)(W.Z,{href:"/server?name=".concat(t),noWrap:!0,children:t})},server:e,showControls:!e.jobs,children:(0,i.jsx)(K.MB,{server:e,slots:{screenshotBox:(0,i.jsx)(el,{})}})},"".concat(e.uuid,"-preview"))});var ea=e=>{let{groups:n,servers:t}=e,s=(0,l.useMemo)(()=>Object.entries(n).reduce((e,n,s,r)=>{let[c,l]=n;return l.length&&(l.forEach(n=>{let s=t[n];e.push((0,i.jsx)(o.ZP,{item:!0,xs:1,children:eo(s)},"".concat(n,"-panel")))}),s+1!==r.length&&e.push((0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsx)(w.Z,{orientation:"horizontal"})},"".concat(c,"-end")))),e},[]),[n,t]);return(0,i.jsx)(o.ZP,{columns:{xs:1,sm:2,md:3,lg:4,xl:6},container:!0,spacing:"1em",children:s})},ed=t(12823);let eh=(e,n)=>{let t={match:[],none:[]};if(!e)return t;let i=Object.keys(e);return n?i.reduce((t,i)=>{let s=e[i],r=RegExp(n,"i"),c=JSON.stringify(s);return r.test(c)?t.match.push(i):t.none.push(i),t},t):t.none=i,t};var ex=()=>{let e;let[n,t]=(0,l.useState)(null),[r,c]=(0,l.useState)(),[a,d]=(0,l.useState)(""),{data:h,loading:x,error:j,validating:u}=(0,A.Z)("/server",{refreshInterval:4e3,onSuccess:e=>{c(eh(e,a))}}),Z=(0,l.useMemo)(()=>z()(function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[,i=""]=n;d(i),c(eh(...n))},500),[]),p=(0,l.useMemo)(()=>{if(a&&(null==r||!r.match.length))return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsx)(C.Ac,{noWrap:!0,children:"No match"})}),(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsx)(w.Z,{orientation:"horizontal"})})]})},[null==r?void 0:r.match.length,a]),g=(0,B.Zd)();if(x)return(0,i.jsx)(I.s_,{children:(0,i.jsx)(b.Z,{mt:0})});if(!h||!r)return(0,i.jsx)(I.s_,{children:(0,i.jsxs)(F.Z,{type:"warning",children:["Couldn't get the list of servers. ",null==j?void 0:j.message]})});let v="preferences.servers.view";return e="list"===localStorage.getItem(v)?(0,i.jsx)(ec,{groups:r,servers:h}):(0,i.jsx)(ea,{groups:r,servers:h}),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(I.s_,{children:[(0,i.jsxs)(I.V9,{children:[(0,i.jsx)(C.z,{children:"Servers"}),(0,i.jsx)(D.Z,{syncing:u}),(0,i.jsxs)(s.Z,{sx:{["&.".concat($.Z.root)]:{marginRight:".5em"}},children:[(0,i.jsx)(R.Z,{onClick:e=>{t(e.currentTarget)},startIcon:(0,i.jsx)(O.Z,{}),sx:{lineHeight:2},children:"View"}),(0,i.jsxs)(H.Z,{open:!!n,slotProps:{menu:{anchorEl:n,keepMounted:!0,onClose:()=>t(null)}},children:[(0,i.jsx)(Q.Z,{onClick:()=>{localStorage.setItem(v,"previews"),t(null)},children:(0,i.jsx)(C.Ac,{inheritColour:!0,children:"Previews"})}),(0,i.jsx)(Q.Z,{onClick:()=>{localStorage.setItem(v,"list"),t(null)},children:(0,i.jsx)(C.Ac,{inheritColour:!0,children:"List"})})]})]}),(0,i.jsx)(T.Z,{mapPreset:"add",onClick:()=>{g.setOpen(!0)}}),(0,i.jsx)(ed.Z,{input:(0,i.jsx)(V.Z,{onChange:e=>{let{value:n}=e.target;Z(h,n)},startAdornment:(0,i.jsx)(U.Z,{sx:{color:m.d,marginRight:".4em"}}),sx:{width:"20em"}})})]}),(0,i.jsxs)(o.ZP,{container:!0,spacing:"1em",children:[p,(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:e})]})]}),g.dialog]})},ej=t(87931),eu=e=>{let{host:n,refreshInterval:t=5e3}=e,{altData:s,loading:r}=(0,A.Z)("/host/".concat(n.uuid),{mod:ej.Z,refreshInterval:t}),c=(0,l.useMemo)(()=>{if(!s)return;let{system:e}=s.status,n=f(e);return(0,i.jsx)(C.$_,{color:n,inheritColour:!0,children:e})},[s]),h=(0,l.useMemo)(()=>{let e;if(!s)return;let{maxEstimatedTimeToSync:n,status:t}=s.status.drbd,r=v(t);return n&&(e=(0,y.F6)(n)),(0,i.jsxs)(C.$_,{color:r,inheritColour:!0,children:[t,e&&" (estimated ~".concat(e,")")]})},[s]),x=(0,l.useMemo)(()=>{if(!s)return;let{configured:e,replicating:n,running:t}=s.servers;return(0,i.jsxs)(o.ZP,{container:!0,sx:{["& .".concat(a.Z.item)]:{alignSelf:"center"}},children:[(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsxs)(o.ZP,{columnSpacing:"0.5em",container:!0,children:[(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(C.Ac,{variant:"caption",children:"Configured"})}),(0,i.jsx)(o.ZP,{item:!0,xs:!0,children:(0,i.jsx)(w.Z,{})}),(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(C.$_,{variant:"caption",children:e.length})})]})}),(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsxs)(o.ZP,{columnSpacing:"0.5em",container:!0,children:[(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(C.Ac,{variant:"caption",children:"Syncing"})}),(0,i.jsx)(o.ZP,{item:!0,xs:!0,children:(0,i.jsx)(w.Z,{})}),(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(C.$_,{variant:"caption",children:n.length})})]})}),(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsxs)(o.ZP,{columnSpacing:"0.5em",container:!0,children:[(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(C.Ac,{variant:"caption",children:"Running"})}),(0,i.jsx)(o.ZP,{item:!0,xs:!0,children:(0,i.jsx)(w.Z,{})}),(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsx)(C.$_,{variant:"caption",children:t.length})})]})})]})},[s]),j=(0,l.useMemo)(()=>{if(!s)return;let{volumeGroupTotals:e}=s.storage,n=(0,d._d)(e.free,{toUnit:"ibyte"}),t=(0,d._d)(e.size,{toUnit:"ibyte"});return(0,i.jsxs)(o.ZP,{container:!0,children:[(0,i.jsx)(o.ZP,{item:!0,xs:!0}),(0,i.jsx)(o.ZP,{item:!0,children:(0,i.jsxs)(C.Ac,{variant:"caption",children:["Total free",(0,i.jsx)(C.Q0,{children:n}),"/",(0,i.jsx)(C.Q0,{edge:"end",children:t})]})}),(0,i.jsx)(o.ZP,{item:!0,width:"100%",children:(0,i.jsx)(u.Tj,{thin:!0,volume:e})})]})},[s]);return r?(0,i.jsx)(b.Z,{mt:0}):(0,i.jsxs)(o.ZP,{alignItems:"center",container:!0,rowSpacing:"0.5em",children:[(0,i.jsx)(o.ZP,{item:!0,width:"25%",children:(0,i.jsx)(C.Ac,{children:"Status"})}),(0,i.jsx)(o.ZP,{item:!0,width:"75%",children:c}),(0,i.jsx)(o.ZP,{item:!0,width:"25%",children:(0,i.jsx)(C.Ac,{children:"Replication"})}),(0,i.jsx)(o.ZP,{item:!0,width:"75%",children:h}),(0,i.jsx)(o.ZP,{item:!0,width:"25%",children:(0,i.jsx)(C.Ac,{children:"Servers"})}),(0,i.jsx)(o.ZP,{item:!0,width:"75%",children:x}),(0,i.jsx)(o.ZP,{item:!0,width:"25%",children:(0,i.jsx)(C.Ac,{children:"Storage"})}),(0,i.jsx)(o.ZP,{item:!0,width:"75%",children:j})]})},em=()=>{let{data:e,loading:n,validating:t}=(0,A.Z)("/host?type=dr",{periodic:!0}),s=(0,l.useMemo)(()=>{if(!e)return;let n=Object.values(e);return(0,i.jsx)(o.ZP,{alignContent:"stretch",container:!0,spacing:"1em",children:n.map(e=>{let{shortHostName:n,hostUUID:t}=e;return(0,i.jsx)(o.ZP,{item:!0,maxWidth:{xs:"100%",md:"50%",lg:"calc(100% / 3)",xl:"25%"},minWidth:"24em",xs:!0,children:(0,i.jsxs)(I.Lg,{mv:0,children:[(0,i.jsx)(I.CH,{children:(0,i.jsx)(W.Z,{href:"/host?name=".concat(n),noWrap:!0,children:n})}),(0,i.jsx)(I.bc,{children:(0,i.jsx)(eu,{host:{short:n,uuid:t}})})]})},"dr-".concat(t))})})},[e]);return(0,i.jsxs)(I.s_,{children:[(0,i.jsxs)(I.V9,{children:[(0,i.jsx)(C.z,{children:"DR Hosts"}),(0,i.jsx)(D.Z,{syncing:t})]}),n?(0,i.jsx)(b.Z,{}):s]})},eZ=t(25436),ep=()=>(0,i.jsxs)(s.Z,{children:[(0,i.jsx)(c(),{children:(0,i.jsx)("title",{children:"Dashboard"})}),(0,i.jsx)(eZ.Z,{}),(0,i.jsx)(ex,{}),(0,i.jsx)(E,{}),(0,i.jsx)(em,{})]})}},function(e){e.O(0,[662,256,760,14,245,511,215,436,590,394,250,888,774,179],function(){return e(e.s=48312)}),_N_E=e.O()}]);