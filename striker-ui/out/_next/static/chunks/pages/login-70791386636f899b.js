(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{73700:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(86080)}])},86080:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return I}});var r=t(85893),s=t(9008),i=t.n(s),l=t(11163),o=t(66389),u=t(90642),a=t(67294),c=t(46315),p=t(46194),d=t(5387),m=t(91905),h=t(2911),f=t(18050),g=t(23852),x=t(90209),j=t(68007),b=t(95275);let v={width:"100%"},w="gate-input",P="".concat(w,"-credential-id"),Z="".concat(w,"-credential-passphrase"),_="access",y=(0,a.forwardRef)((e,n)=>{let{formContainer:t=!0,gridProps:{columns:s={xs:1,sm:2},layout:i,spacing:l="1em",...o}={},identifierId:w=P,identifierInputTestBatchBuilder:y=j.Gn,identifierLabel:C,identifierOutlinedInputWithLabelProps:{formControlProps:R={},inputProps:L,...B}={},onIdentifierBlurAppend:I,onSubmit:T,onSubmitAppend:E,passphraseId:F=Z,passphraseLabel:N,passphraseOutlinedInputWithLabelProps:{formControlProps:S={},inputProps:A,...M}={},submitLabel:k,allowSubmit:G=t}=e,{sx:O,...q}=R,{sx:U,...W}=S,V=(0,a.useRef)({}),X=(0,a.useRef)({}),D=(0,a.useRef)({}),[H,z]=(0,a.useState)(!1),{buildFinishInputTestBatchFunction:J,buildInputFirstRenderFunction:K,buildInputUnmountFunction:Q,isFormInvalid:Y,setMessage:$}=(0,b.Z)([w,F],D),ee=(0,a.useMemo)(()=>null!=T?T:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let{0:r}=n;r.preventDefault(),$(_),z(!0);let{target:s}=r,{elements:i}=s,{value:l}=i.namedItem(w),{value:o}=i.namedItem(F);null==E||E.call(null,l,o,e=>{$(_,e)},z,...n)},[w,T,E,F,z,$]),en=(0,a.useMemo)(()=>H?(0,r.jsx)(x.Z,{mt:0}):(0,r.jsx)(d.Z,{row:!0,sx:{justifyContent:"flex-end"},children:(0,r.jsx)(p.Z,{disabled:Y,type:"submit",children:k})}),[Y,H,k]),et=(0,a.useMemo)(()=>{let e={};return G&&(e["gate-cell-message-group"]={children:(0,r.jsx)(f.Z,{count:1,defaultMessageType:"warning",ref:D}),sm:2},e["gate-cell-submit"]={children:en,sm:2}),e},[G,en]),er=(0,a.useMemo)(()=>{let e={};return t&&(e.component="form",e.onSubmit=ee),e},[t,ee]);return(0,a.useImperativeHandle)(n,()=>({get:()=>{var e,n,t,r;return{identifier:null!==(t=null===(e=V.current.getValue)||void 0===e?void 0:e.call(null))&&void 0!==t?t:"",passphrase:null!==(r=null===(n=X.current.getValue)||void 0===n?void 0:n.call(null))&&void 0!==r?r:""}},messageGroup:{...D.current},setIsSubmitting:e=>{z(e)}})),(0,r.jsx)(u.Z,{...er,children:(0,r.jsx)(m.Z,{columns:s,layout:{"gate-input-cell-credential-id":{children:(0,r.jsx)(h.Z,{input:(0,r.jsx)(g.Z,{formControlProps:{...q,sx:{...v,...O}},id:w,inputProps:L,label:C,...B}),inputTestBatch:y(C,()=>{$(w)},{onFinishBatch:J(w)},e=>{$(w,{children:e})}),onBlurAppend:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];null==I||I.call(null,...n)},onFirstRender:K(w),onUnmount:Q(w),ref:V,required:!0})},"gate-input-cell-credential-passphrase":{children:(0,r.jsx)(h.Z,{input:(0,r.jsx)(g.Z,{formControlProps:{...W,sx:{...v,...U}},id:F,inputProps:A,label:N,type:c.Z.password,...M}),inputTestBatch:(0,j.Gn)(N,()=>{$(F)},{onFinishBatch:J(F)},e=>{$(F,{children:e})}),onFirstRender:K(F),onUnmount:Q(F),ref:X,required:!0})},...et},spacing:l,...o})})});y.displayName="GateForm";var C=t(11100),R=t(65375),L=()=>{let{query:{rt:e}}=(0,l.useRouter)();return(0,r.jsx)(R.s_,{sx:{marginLeft:{xs:"1em",sm:"auto"},marginRight:{xs:"1em",sm:"auto"},marginTop:"calc(50vh - 14em)",minWidth:"16em",width:{xs:"fit-content",sm:"26em"}},children:(0,r.jsx)(y,{gridProps:{columns:1},identifierLabel:"Username",onSubmitAppend:(n,t,r,s)=>{s(!0),o.Z.post("/auth/login",{username:n,password:t}).then(()=>{let n=e?String(e):"/";window.location.replace(n)}).catch(e=>{r((0,C.Z)(e,{onResponseErrorAppend:()=>({children:"Credentials mismatched.",type:"warning"})}))}).finally(()=>{s(!1)})},passphraseLabel:"Passphrase",submitLabel:"Login"})})},B=t(25436),I=()=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i(),{children:(0,r.jsx)("title",{children:"Login"})}),(0,r.jsx)(B.Z,{}),(0,r.jsx)(L,{})]})},11163:function(e,n,t){e.exports=t(43079)}},function(e){e.O(0,[537,256,215,436,879,888,774,179],function(){return e(e.s=73700)}),_N_E=e.O()}]);