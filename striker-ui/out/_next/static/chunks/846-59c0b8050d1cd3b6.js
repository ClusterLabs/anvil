"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[846],{73846:function(e,n,t){var l=t(85893),r=t(67294),o=t(66389),u=t(45036),i=t(11100),a=t(18541),c=t(71108),s=t(81013),d=t(40657),h=t(5499);let f=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return"function"==typeof e?e(...t):e};n.Z=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let[v]=n,{addHeader:g,editHeader:m,entriesUrl:p,formDialogProps:k,getAddLoading:x,getDeleteErrorMessage:y,getDeleteHeader:C,getDeletePromiseChain:Z=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return e(...t)},getDeleteSuccessMessage:b,getEditLoading:j=e=>e,listEmpty:A,listProps:w,onItemClick:E=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return e(...t)},onValidateEntriesChange:P,refreshInterval:M=5e3,renderAddForm:S,renderDeleteItem:O,renderEditForm:D,renderListItem:I,entryUrlPrefix:L=p}=v,T=(0,r.useRef)(null),_=(0,r.useRef)(null),{confirmDialog:J,finishConfirm:W,setConfirmDialogLoading:R,setConfirmDialogOpen:F,setConfirmDialogProps:H}=(0,d.Z)({initial:{scrollContent:!0}}),[N,B]=(0,r.useState)(!1),[K,V]=(0,r.useState)(),{data:X,mutate:$,loading:q,validating:z}=(0,h.Z)(p,{refreshInterval:M}),{fetch:G,loading:Q}=(0,c.Z)({onData:e=>V(e),url:L});(0,r.useEffect)(()=>{null==P||P.call(null,z)},[P,z]);let U=(0,r.useMemo)(()=>f(g),[g]),Y=(0,r.useMemo)(()=>f(m,K),[K,m]),ee=(0,r.useMemo)(()=>({add:{open:function(){var e;let n=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==T?void 0:null===(e=T.current)||void 0===e?void 0:e.setOpen(n)}},confirm:{finish:W,loading:R,open:function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return F(e)},prepare:H},edit:{open:function(){var e;let n=!(arguments.length>0)||void 0===arguments[0]||arguments[0];return null==_?void 0:null===(e=_.current)||void 0===e?void 0:e.setOpen(n)}}}),[W,R,F,H]),{buildDeleteDialogProps:en,checks:et,getCheck:el,hasAllChecks:er,hasChecks:eo,multipleItems:eu,resetChecks:ei,setAllChecks:ea,setCheck:ec}=(0,s.Z)({list:X});return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(a.Z,{allowCheckAll:eu,allowEdit:!0,allowItemButton:N,disableDelete:!eo,edit:N,getListCheckboxProps:()=>({checked:er,onChange:(e,n)=>ea(n)}),getListItemCheckboxProps:e=>({checked:el(e),onChange:(n,t)=>ec(e,t)}),header:!0,listEmpty:A,listItems:X,loading:q,onAdd:()=>{var e;return null==T?void 0:null===(e=T.current)||void 0===e?void 0:e.setOpen(!0)},onDelete:()=>{H(en({onProceedAppend:()=>{R(!0),Promise.all(Z((e,n)=>e.map(e=>o.Z.delete("".concat(n,"/").concat(e))),et,p)).then(()=>{W("Success",b()),$()}).catch(e=>{W("Error",y((0,i.Z)(e)))}).finally(()=>{ei()})},getConfirmDialogTitle:C,renderEntry:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return O(X,...n)}})),F(!0)},onEdit:()=>B(e=>!e),onItemClick:function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return E((e,n)=>{var t;null==_||null===(t=_.current)||void 0===t||t.setOpen(!0),G("/".concat(n))},...n)},renderListItem:I,...w}),(0,l.jsx)(u.Js,{header:U,loading:null==x?void 0:x.call(null),ref:T,showClose:!0,...null==k?void 0:k.common,...null==k?void 0:k.add,children:S(ee)}),(0,l.jsx)(u.Js,{header:Y,loading:j(Q),ref:_,showClose:!0,...null==k?void 0:k.common,...null==k?void 0:k.edit,children:D(ee,K)}),J]})}},76740:function(e,n,t){var l=t(85893),r=t(90642),o=t(19304),u=t(47407),i=t(41609),a=t.n(i),c=t(35338),s=t(44400),d=t(5387),h=t(57882);let f=e=>{let{entry:n}=e;return(0,l.jsx)(h.$_,{whiteSpace:"nowrap",children:String(n)})},v=e=>{let{entry:n,key:t}=e;return c.JW.test(t)?(0,l.jsx)(h.PJ,{wrapper:"mono",children:String(n)}):f(e)},g=e=>{let{entry:n,hasPassword:t}=e;return a()(n)?(0,l.jsx)(h.Ac,{children:"none"}):t?v(e):f(e)},m=e=>{let{depth:n,entry:t,getLabel:o,hasPassword:u,key:i,nest:a,renderValue:c}=e;return(0,l.jsxs)(d.Z,{fullWidth:!0,growFirst:!0,row:!0,maxWidth:"100%",children:[(0,l.jsx)(h.Ac,{children:o({cap:s.Z,depth:n,entry:t,hasPassword:u,key:i})}),(0,l.jsx)(r.Z,{sx:{maxWidth:"100%",overflowX:"scroll"},children:!a&&c(g,{depth:n,entry:t,hasPassword:u,key:i})})]})},p=e=>{let{key:n}=e;return/confirm|uuid/i.test(n)},k=e=>null!==e&&"object"==typeof e&&!a()(e),x=e=>{let{depth:n=0,entries:t,getEntryLabel:r,getListProps:i,getListItemProps:a,hasPassword:c,listKey:s,maxDepth:d,renderEntry:h,renderEntryValue:f,skip:v}=e,g=[];Object.entries(t).forEach(e=>{let[t,u]=e,i=k(u),s=i?null:u,m={depth:n,entry:s,hasPassword:c,key:t};v(p,m)||g.push((0,l.jsx)(o.ZP,{sx:{paddingLeft:"".concat(n,"em")},...null==a?void 0:a.call(null,m),children:h({depth:n,entry:s,getLabel:r,hasPassword:c,key:t,nest:i,renderValue:f})},"form-summary-entry-".concat(t))),i&&n<d&&g.push(x({depth:n+1,entries:u,getEntryLabel:r,hasPassword:c,listKey:t,maxDepth:d,renderEntry:h,renderEntryValue:f,skip:v}))});let m="form-summary-list-".concat(null!=s?s:"root");return(0,l.jsx)(u.Z,{dense:!0,disablePadding:!0,...null==i?void 0:i.call(null,{depth:n,entries:t,key:s}),children:g},m)};n.Z=e=>{let{entries:n,getEntryLabel:t=e=>{let{cap:n,key:t}=e;return n(t)},getListProps:l,getListItemProps:r,hasPassword:o=!1,maxDepth:u=3,renderEntry:i=m,renderEntryValue:a=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return e(...t)},skip:c=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),l=1;l<n;l++)t[l-1]=arguments[l];return e(...t)}}=e;return x({entries:n,getEntryLabel:t,getListProps:l,getListItemProps:r,hasPassword:o,maxDepth:u,renderEntry:i,renderEntryValue:a,skip:c})}},71108:function(e,n,t){var l=t(67294),r=t(66389),o=t(11100);n.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{config:n,onError:t,onData:u,url:i=""}=e,[a,c]=(0,l.useState)(!1);return{fetch:(0,l.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",l=arguments.length>1?arguments[1]:void 0,a="".concat(i).concat(e);a&&(c(!0),r.Z.get(a,{...n,...l}).then(e=>{let{data:n}=e;null==u||u.call(null,n)}).catch(e=>{let n=(0,o.Z)(e);null==t||t.call(null,n)}).finally(()=>{c(!1)}))},[i,n,u,t]),loading:a}}},81013:function(e,n,t){var l=t(85893),r=t(67294),o=t(95996),u=t(76740);n.Z=e=>{let{list:n={}}=e,[t,i]=(0,r.useState)({}),a=(0,r.useMemo)(()=>Object.keys(n),[n]),c=(0,r.useMemo)(()=>Object.keys(t),[t]),s=(0,r.useMemo)(()=>c.length===a.length,[c.length,a.length]),d=(0,r.useMemo)(()=>c.length>0,[c.length]),h=(0,r.useMemo)(()=>a.length>1,[a.length]),f=(0,r.useCallback)(e=>{let{confirmDialogProps:n={},formSummaryProps:r={},getConfirmDialogTitle:o,onProceedAppend:i,renderEntry:a}=e;return{actionProceedText:"Delete",content:(0,l.jsx)(u.Z,{entries:t,maxDepth:0,renderEntry:a,...r}),onProceedAppend:i,proceedColour:"red",titleText:o(c.length),...n}},[t,c.length]),v=(0,r.useCallback)(e=>!!t[e],[t]);return{buildDeleteDialogProps:f,checklist:t,checks:c,getCheck:v,hasAllChecks:s,hasChecks:d,multipleItems:h,resetChecks:(0,r.useCallback)(()=>i({}),[]),setAllChecks:(0,r.useCallback)(e=>i(a.reduce((n,t)=>(e&&(n[t]=e),n),{})),[a]),setCheck:(0,r.useCallback)((e,n)=>i((0,o.ZP)(e,n||void 0)),[])}}},40657:function(e,n,t){var l=t(85893),r=t(67294),o=t(47177),u=t(29873);n.Z=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initial:{actionProceedText:n="",content:t="",titleText:i="",...a}={}}=e,c=(0,r.useRef)(null),[s,d]=(0,r.useState)({actionProceedText:n,content:t,titleText:i}),h=(0,r.useCallback)(e=>d(n=>{let{loading:t,...l}=n;return{...l,loading:e}}),[]),f=(0,r.useCallback)(e=>{var n,t;return null==c?void 0:null===(t=c.current)||void 0===t?void 0:null===(n=t.setOpen)||void 0===n?void 0:n.call(null,e)},[]),v=(0,r.useCallback)((e,n)=>d({actionProceedText:"",content:(0,l.jsx)(u.Z,{...n}),showActionArea:!1,showClose:!0,titleText:e}),[]);return{confirmDialog:(0,r.useMemo)(()=>(0,l.jsx)(o.Z,{...a,...s,ref:c}),[s,a]),confirmDialogRef:c,setConfirmDialogLoading:h,setConfirmDialogOpen:f,setConfirmDialogProps:d,finishConfirm:v}}}}]);