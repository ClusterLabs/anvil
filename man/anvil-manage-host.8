.\" Manpage for the Anvil! server boot program
.\" Contact mkelly@alteeve.com to report issues, concerns or suggestions.
.TH anvil-manage-host "8" "August 15 2024" "Anvil! Intelligent Availabilityâ„¢ Platform"
.SH NAME
anvil-manage-host \- Tool used to check or set various configuration options for a host.
.SH SYNOPSIS
.B anvil-manage-host 
\fI\,<command> \/\fR[\fI\,options\/\fR]
.SH DESCRIPTION
This tool provides a way to perform actions on a host that normally are handled by other processes, like marking a system as configure, etc. This will likely grow constantly over time.
.IP
.SH OPTIONS
\-?, \-h, \fB\-\-help\fR
Show this man page.
.TP
\fB\-\-log\-secure\fR
When logging, record sensitive data, like passwords.
.TP
\-v, \-vv, \-vvv
Set the log level to 1, 2 or 3 respectively. Be aware that level 3 generates a significant amount of log data.
.IP
.SS "Commands:"
\fB\-\-age\-out\-database\fR
This searches the database(s) for data that is old enough that it's no longer needed and deletes it from the database. This helps with the performance of resync operations in particular.
.TP
\fB\-\-auto\-grow\-pv\fR
This looks at LVM physical volumes on the local host. For each one that is found, 'parted' is called to check if there's more that 1 GiB of free space available after it. If so, it will extend the PV partition to use the free space.
.TP
If you deleted the default '/home' partition during the install of a subnode or DR host, this should give you that space back.
.TP
\fB\-\-check\-configured\fR
This reports if the host is marked as configured yet or not.
.TP
\fB\-\-check\-database\fR
This reports if the database on the local Striker is active or inactive.
.TP
\fB\-\-check\-network\-mapping\fR
This reports if the host is currently in network mapping (this disables several features and watches the network states much more frequently)
.TP
\fB\-\-confirm\fR
This confirms actions that would normally prompt the user to confirm before proceeding. 
.TP
\fB\-\-database\-active\fR
This marks the local database to be active.
.TP
\fB\-\-database\-inactive\fR
This marks the local database to be inactive.
.TP
\fB\-\-disable\-network\-mapping\fR
This disables the network mapping mode.
.TP
\fB\-\-enable\-network\-mapping\fR
This enables the network mapping mode.
.TP
\fB\-\-mark\-configured\fR
This marks the local system as being configured. This should be used carefully.
.TP
\fB\-\-mark\-unconfigured\fR
This marks the local system as being unconfigured. This should be used carefully.
.TP
\fB\-\-resync\-database\fR
This forces the databases to be resynced, even if they seem synced.
.IP
.SH AUTHOR
Written by Madison Kelly, Alteeve staff and the Anvil! project contributors.
.SH "REPORTING BUGS"
Report bugs to users@clusterlabs.org
