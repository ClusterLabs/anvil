.\" Manpage for the Anvil! cluster update tool.
.\" Contact mkelly@alteeve.com to report issues, concerns or suggestions.
.TH anvil-migrate-server "8" "August 15 2024" "Anvil! Intelligent Availabilityâ„¢ Platform"
.SH NAME
anvil-migrate-server \- Tool to migrate servers between subnodes in an Anvil! node.
.SH SYNOPSIS
.B anvil-migrate-server 
\fI\,<command> \/\fR[\fI\,options\/\fR]
.SH DESCRIPTION
This tool is used to migrate a server (or all servers) from one Anvil! subnode to another. 
.IP
.SH OPTIONS
\-?, \-h, \fB\-\-help\fR
Show this man page.
.TP
\fB\-\-log\-secure\fR
When logging, record sensitive data, like passwords.
.TP
\-v, \-vv, \-vvv
Set the log level to 1, 2 or 3 respectively. Be aware that level 3 generates a significant amount of log data.
.IP
.SS "Commands:"
\fB\-\-job\-uuid\fR <UUID>
.TP
This is the job UUID containing the data for the requested migration (used by the Striker UI).
.TP
\fB\-\-no\-wait\fR
.TP
When using '--server all', each server is migrated sequentially. This is recommended as the time to migrate is often limited by the network bandwidth available to copy each server's RAM from the host to the target. If you wish to migrate all servers in parallel, this switch will let you do that. 
.TP
.B Be careful!
This could lead to infinitely long migrations if the rate of RAM changing in the servers exceeds the bandwidth available to each server!
.TP
\fB\-\-server\fR <name or 'all'>
.TP
This is the name of the server to migrate to the target. If 'all' is used, then all servers will be moved to the target (if they're not already running there). 
.TP
\fB\-\-server\-uuid\fR <UUID>
.TP
This is the server UUID of the server to migrate to the target. Note that 'all' can not be used with this switch.
.TP
\fB\-\-target\fR <node name>
.TP
This is the node name (as shown in pacemaker, which should be the short host name) that you want to migrate the server(s) to.
.IP
.SH AUTHOR
Written by Madison Kelly, Alteeve staff and the Anvil! project contributors.
.SH "REPORTING BUGS"
Report bugs to users@clusterlabs.org
